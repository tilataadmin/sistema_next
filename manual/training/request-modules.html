<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- VERSIÓN DE LA PÁGINA -->
    <meta name="page-version" content="26.01.26.17.33">
    
    <title>Manual - Formación - Solicitar Unidades por Interés - SchoolNet</title>
    
    <!-- Bootstrap CSS - VERSIÓN FIJA PROBADA -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <style>
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .loading-overlay.hidden {
            display: none;
        }
        
        .loading-content {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #007bff;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Encabezado discreto */
        .manual-header {
            background: #f8f9fa;
            border-bottom: 2px solid var(--system-primary-color, #1B365D);
            padding: 1.5rem 0;
            margin-bottom: 2rem;
        }

        .manual-header h1 {
            font-size: 1.75rem;
            color: var(--system-primary-color, #1B365D);
            margin-bottom: 0.25rem;
        }

        .manual-header .subtitle {
            color: #6c757d;
            font-size: 0.95rem;
        }

        /* Info card */
        .info-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        /* Tarjeta para reportar bugs - COLOR PRIMARIO */
        .bug-report-card {
            background: var(--system-primary-color, #1B365D);
            color: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .bug-report-card h5 {
            color: white;
        }

        /* Botón flotante para reportar bugs - COLOR PRIMARIO */
        .floating-bug-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            background: var(--system-primary-color, #1B365D) !important;
            border-color: var(--system-primary-color, #1B365D) !important;
        }

        .floating-bug-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.4);
            opacity: 0.9;
        }

        .icon-large {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        /* Cajas de información */
        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #0d6efd;
            border-radius: 8px;
            padding: 1rem 1.25rem;
            margin-bottom: 1.5rem;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            border-radius: 8px;
            padding: 1rem 1.25rem;
            margin-bottom: 1.5rem;
        }

        .success-box {
            background: #d1e7dd;
            border-left: 4px solid #198754;
            border-radius: 8px;
            padding: 1rem 1.25rem;
            margin-bottom: 1.5rem;
        }

        .danger-box {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            border-radius: 8px;
            padding: 1rem 1.25rem;
            margin-bottom: 1.5rem;
        }

        /* Tarjetas de pasos */
        .step-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .step-card h5 {
            color: var(--system-primary-color, #1B365D);
            margin-bottom: 1rem;
        }

        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            background: var(--system-primary-color, #1B365D);
            color: white;
            border-radius: 50%;
            font-weight: bold;
            margin-right: 0.75rem;
        }

        /* Listas con estilo */
        .feature-list {
            list-style: none;
            padding-left: 0;
        }

        .feature-list li {
            padding-left: 1.75rem;
            margin-bottom: 0.75rem;
            position: relative;
        }

        .feature-list li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: #198754;
            font-weight: bold;
            font-size: 1.2rem;
        }

        /* Secciones del manual */
        .manual-section {
            margin-bottom: 3rem;
        }

        .manual-section h3 {
            color: var(--system-primary-color, #1B365D);
            border-bottom: 2px solid var(--system-primary-color, #1B365D);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .manual-section h4 {
            color: #495057;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }

        /* FAQ */
        .faq-item {
            margin-bottom: 1.5rem;
        }

        .faq-question {
            font-weight: 600;
            color: #495057;
            margin-bottom: 0.5rem;
        }

        .faq-answer {
            color: #6c757d;
            padding-left: 1.5rem;
        }

        /* Comparison table */
        .comparison-table {
            width: 100%;
            margin: 1rem 0;
        }

        .comparison-table th {
            background: #f8f9fa;
            padding: 0.75rem;
            border: 1px solid #dee2e6;
        }

        .comparison-table td {
            padding: 0.75rem;
            border: 1px solid #dee2e6;
        }

        /* Visual examples */
        .visual-example {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .badge-example {
            display: inline-block;
            margin: 0.25rem;
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <p class="mb-0">Cargando...</p>
        </div>
    </div>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="container-fluid">

        <!-- ENCABEZADO DISCRETO -->
        <div class="manual-header">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h1>
                            <i class="bi bi-book me-2"></i>
                            Manual: Solicitar Unidades por Interés
                        </h1>
                        <p class="subtitle mb-0">Módulo de Formación</p>
                    </div>
                    <div class="col-md-4 text-md-end mt-3 mt-md-0">
                        <a href="../../modules/training/request-modules.html" class="btn btn-outline-primary">
                            <i class="bi bi-arrow-left me-1"></i>Volver al Módulo
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONTENEDOR DE ALERTAS -->
        <div id="alertContainer"></div>

        <div class="row">
            <div class="col-lg-10 mx-auto">

                <!-- INFORMACIÓN CONTEXTUAL -->
                <div class="info-card">
                    <div class="row align-items-center">
                        <div class="col-md-6">
                            <h6 class="text-muted mb-2">Manual de:</h6>
                            <h5 class="mb-1"><strong id="display-module">Formación</strong></h5>
                            <p class="text-muted mb-0 small" id="display-page">Solicitar Unidades por Interés</p>
                        </div>
                        <div class="col-md-6 text-md-end mt-3 mt-md-0">
                            <p class="small text-muted mb-0">
                                <i class="bi bi-info-circle me-1"></i>
                                Si tienes dudas o encuentras algún problema,<br>
                                puedes reportarlo usando el botón de abajo.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- ============================================ -->
                <!-- CONTENIDO DEL MANUAL -->
                <!-- ============================================ -->

                <!-- SECCIÓN 1: ¿QUÉ ES? -->
                <div class="manual-section">
                    <h3><i class="bi bi-info-circle me-2"></i>¿Qué es Solicitar Unidades por Interés?</h3>
                    
                    <p>
                        <strong>Solicitar Unidades por Interés</strong> es tu herramienta para tomar control 
                        de tu desarrollo profesional. Te permite AMPLIAR tu ruta de formación eligiendo 
                        capacitaciones adicionales que consideres útiles para tu crecimiento, aunque no sean 
                        obligatorias para tu rol.
                    </p>

                    <p>
                        Funciona como un "catálogo de aprendizaje" donde tú decides qué quieres aprender más allá 
                        de lo que ya te han asignado.
                    </p>

                    <div class="success-box">
                        <strong><i class="bi bi-lightbulb me-2"></i>Piénsalo así:</strong>
                        Imagina que tu ruta obligatoria es como el "plan de estudios base" de una carrera. 
                        Esta funcionalidad te permite elegir "materias electivas" según tus intereses y metas 
                        profesionales. Es formación personalizada y autodirigida.
                    </div>

                    <h4>¿Qué significa "Por Interés"?</h4>
                    <p>
                        "Por interés" es un tipo de asignación de unidades formativas donde:
                    </p>
                    <ul>
                        <li><strong>TÚ decides</strong> agregarlo a tu ruta (no es obligatorio por tu rol)</li>
                        <li><strong>No tiene fecha límite</strong> estricta (puedes completarlo a tu ritmo)</li>
                        <li><strong>Refleja tu iniciativa</strong> de desarrollo personal</li>
                        <li><strong>Cuenta igualmente</strong> en tu historial formativo y CV interno</li>
                        <li><strong>Accedes a todos los recursos</strong> igual que en unidades obligatorias</li>
                    </ul>

                    <div class="info-box">
                        <strong><i class="bi bi-star me-2"></i>Ventaja competitiva:</strong>
                        Tomar unidades "por interés" demuestra proactividad, ambición de aprendizaje, y compromiso 
                        con tu desarrollo profesional. Esto se nota en evaluaciones de desempeño, ascensos, y 
                        cambios de rol.
                    </div>
                </div>

                <!-- SECCIÓN 2: DIFERENCIAS CLAVE -->
                <div class="manual-section">
                    <h3><i class="bi bi-shuffle me-2"></i>Diferencias: Obligatoria vs. Por Interés</h3>

                    <table class="comparison-table table">
                        <thead>
                            <tr>
                                <th style="width: 30%;">Característica</th>
                                <th style="width: 35%;">Obligatoria</th>
                                <th style="width: 35%;">Por Interés</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>¿Quién la asigna?</strong></td>
                                <td>Tu jefe, RRHH, o coordinador de formación</td>
                                <td><strong>TÚ MISMO</strong> la solicitas</td>
                            </tr>
                            <tr>
                                <td><strong>Motivo</strong></td>
                                <td>Requerida por tu rol/puesto</td>
                                <td>Tu interés personal de desarrollo</td>
                            </tr>
                            <tr>
                                <td><strong>Fecha límite</strong></td>
                                <td>Sí, tiene fecha meta obligatoria</td>
                                <td>No (o flexible a tu criterio)</td>
                            </tr>
                            <tr>
                                <td><strong>Consecuencias si no completas</strong></td>
                                <td>Posibles llamados de atención, evaluaciones negativas</td>
                                <td>Ninguna (solo afecta tu progreso personal)</td>
                            </tr>
                            <tr>
                                <td><strong>¿Aparece en tu ruta?</strong></td>
                                <td>Sí</td>
                                <td>Sí</td>
                            </tr>
                            <tr>
                                <td><strong>¿Accedes a recursos?</strong></td>
                                <td>Sí</td>
                                <td>Sí</td>
                            </tr>
                            <tr>
                                <td><strong>¿Cuenta en tu historial?</strong></td>
                                <td>Sí</td>
                                <td>Sí</td>
                            </tr>
                            <tr>
                                <td><strong>¿Puedes cancelarla?</strong></td>
                                <td>No (debes completarla o solicitar exención)</td>
                                <td><strong>Sí</strong>, puedes cancelar tu solicitud</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="warning-box">
                        <strong><i class="bi bi-exclamation-triangle me-2"></i>Importante:</strong>
                        Aunque las unidades "por interés" son flexibles, una vez que las solicitas aparecerán 
                        en tu ruta personal. Si no las completas, seguirán ahí como "Pendientes". Esto es 
                        visible para ti y para quienes revisen tu perfil formativo. Solicita solo lo que 
                        realmente piensas completar.
                    </div>
                </div>

                <!-- SECCIÓN 3: ¿PARA QUÉ SIRVE? -->
                <div class="manual-section">
                    <h3><i class="bi bi-star me-2"></i>¿Para qué me sirve?</h3>
                    
                    <ul class="feature-list">
                        <li>Personalizar tu formación según tus metas de carrera</li>
                        <li>Prepararte para futuros roles o responsabilidades</li>
                        <li>Desarrollar habilidades complementarias a tu trabajo actual</li>
                        <li>Explorar áreas nuevas sin esperar a que te las asignen</li>
                        <li>Demostrar iniciativa y compromiso con tu crecimiento</li>
                        <li>Llenar "gaps" de conocimiento que identificas tú mismo</li>
                        <li>Aprender a tu propio ritmo sin presión de fechas límite</li>
                        <li>Construir un portafolio formativo más robusto</li>
                        <li>Acceder a recursos valiosos (documentos, videos, cursos externos)</li>
                    </ul>

                    <div class="success-box">
                        <strong><i class="bi bi-trophy me-2"></i>Casos de uso reales:</strong>
                        <ul class="mb-0 mt-2">
                            <li><strong>Preparación para ascenso:</strong> Solicitas unidades del rol al que aspiras</li>
                            <li><strong>Cambio de área:</strong> Aprendes sobre el área a la que quieres moverte</li>
                            <li><strong>Curiosidad profesional:</strong> Exploras temas que complementan tu trabajo</li>
                            <li><strong>Actualización tecnológica:</strong> Aprendes nuevas herramientas o metodologías</li>
                            <li><strong>Desarrollo de soft skills:</strong> Mejoras comunicación, liderazgo, etc.</li>
                        </ul>
                    </div>
                </div>

                <!-- SECCIÓN 4: ENTENDIENDO LA INTERFAZ -->
                <div class="manual-section">
                    <h3><i class="bi bi-layout-text-window me-2"></i>Entendiendo la Interfaz</h3>

                    <p>
                        La página tiene 3 secciones principales:
                    </p>

                    <h4>1. Mis Solicitudes Pendientes (Sección Amarilla)</h4>
                    <p>
                        En la parte superior verás una tarjeta amarilla con todas las unidades que YA solicitaste 
                        y que aún están pendientes de completar.
                    </p>

                    <div class="visual-example">
                        <strong>Ejemplo de solicitud pendiente:</strong>
                        <div class="mt-2 p-3" style="background: #fef3c7; border-radius: 8px;">
                            <div style="font-size: 0.75rem; color: #92400e; font-family: monospace;">TEC-015</div>
                            <div style="font-weight: 600; margin: 0.25rem 0;">Python para Análisis de Datos</div>
                            <div style="font-size: 0.813rem; color: #92400e;">
                                <i class="bi bi-calendar-event"></i> Solicitada: 15 ene 2026
                            </div>
                        </div>
                        <small class="text-muted mt-2 d-block">
                            Cada solicitud muestra: código, título, fecha de solicitud, y botón para cancelar
                        </small>
                    </div>

                    <p>
                        <strong>Características:</strong>
                    </p>
                    <ul>
                        <li>Un contador <span class="badge bg-warning text-dark">2</span> muestra cuántas tienes</li>
                        <li>Cada tarjeta tiene un botón "Cancelar" por si cambias de opinión</li>
                        <li>Si no tienes solicitudes pendientes, verás un mensaje de "No tienes solicitudes pendientes"</li>
                    </ul>

                    <h4>2. Filtros y Búsqueda (Tarjeta Blanca)</h4>
                    <p>
                        Aquí puedes buscar y filtrar el catálogo de unidades disponibles:
                    </p>
                    <ul>
                        <li><strong>Buscar por título o código:</strong> Escribe cualquier palabra y se filtran en tiempo real</li>
                        <li><strong>Eje Formativo:</strong> Filtra por categoría (Seguridad, Tecnología, Liderazgo, etc.)</li>
                        <li><strong>Modalidad:</strong> Filtra por tipo (Virtual, Presencial, Híbrida, etc.)</li>
                        <li><strong>Botón "Limpiar":</strong> Quita todos los filtros y vuelve a mostrar todo</li>
                    </ul>

                    <div class="info-box">
                        <strong><i class="bi bi-funnel me-2"></i>Tip de búsqueda:</strong>
                        Los filtros se aplican juntos. Si seleccionas "Eje: Tecnología" y escribes "Excel", 
                        verás solo las unidades de Tecnología que contengan "Excel" en el título.
                    </div>

                    <h4>3. Catálogo de Unidades (Tarjetas de Colores)</h4>
                    <p>
                        El catálogo muestra todas las unidades formativas disponibles en formato de tarjetas. 
                        Cada tarjeta incluye:
                    </p>
                    <ul>
                        <li>Código del módulo</li>
                        <li>Título</li>
                        <li>Propósito (primeras líneas)</li>
                        <li>Pills informativos: eje, modalidad, duración, habilidades</li>
                        <li>Botón de acción</li>
                    </ul>

                    <div class="visual-example">
                        <strong>Estados de las tarjetas:</strong>
                        <div class="row mt-2">
                            <div class="col-md-6">
                                <div class="p-3 border rounded">
                                    <div style="font-size: 0.75rem; color: #6b7280;">LID-008</div>
                                    <div style="font-weight: 600;">Liderazgo Efectivo</div>
                                    <button class="btn btn-sm btn-warning w-100 mt-2">
                                        <i class="bi bi-lightbulb"></i> Solicitar Esta Unidad
                                    </button>
                                </div>
                                <small class="text-muted">Unidad disponible → Puedes solicitarla</small>
                            </div>
                            <div class="col-md-6">
                                <div class="p-3 border rounded" style="opacity: 0.7; background: #f9fafb;">
                                    <div style="font-size: 0.75rem; color: #6b7280;">SEG-002</div>
                                    <div style="font-weight: 600;">Seguridad Industrial</div>
                                    <span class="badge bg-success">✓ Ya en tu ruta</span>
                                    <button class="btn btn-sm btn-outline-secondary w-100 mt-2" disabled>
                                        Ya está en tu ruta
                                    </button>
                                </div>
                                <small class="text-muted">Ya la tienes → No puedes solicitarla de nuevo</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SECCIÓN 5: CÓMO SOLICITAR UNA UNIDAD -->
                <div class="manual-section">
                    <h3><i class="bi bi-plus-circle me-2"></i>Cómo Solicitar una Unidad por Interés</h3>

                    <div class="step-card">
                        <h5>
                            <span class="step-number">1</span>
                            Explora el Catálogo
                        </h5>
                        <p class="mb-0">
                            Navega por las tarjetas de unidades disponibles. Usa los filtros o la barra de 
                            búsqueda para encontrar lo que te interesa. Lee los propósitos y revisa las 
                            pills de información (eje, modalidad, duración).
                        </p>
                    </div>

                    <div class="step-card">
                        <h5>
                            <span class="step-number">2</span>
                            Identifica la Unidad Deseada
                        </h5>
                        <p class="mb-0">
                            Cuando encuentres una unidad que te interese, verifica que:
                        </p>
                        <ul class="mb-0 mt-2">
                            <li>NO tenga el badge verde "Ya en tu ruta" (si lo tiene, ya la tienes asignada)</li>
                            <li>El botón diga "Solicitar Esta Unidad" (no esté deshabilitado)</li>
                            <li>El tema/contenido realmente te sea útil para tus metas</li>
                        </ul>
                    </div>

                    <div class="step-card">
                        <h5>
                            <span class="step-number">3</span>
                            Haz Clic en "Solicitar Esta Unidad"
                        </h5>
                        <p class="mb-0">
                            Al hacer clic, se abrirá una ventana modal (emergente) con los detalles de la unidad 
                            y un formulario de solicitud.
                        </p>
                    </div>

                    <div class="step-card">
                        <h5>
                            <span class="step-number">4</span>
                            Revisa la Información en el Modal
                        </h5>
                        <p>Verás:</p>
                        <ul>
                            <li>Código y título de la unidad</li>
                            <li>Eje formativo y modalidad</li>
                            <li>Facilitador asignado</li>
                            <li>Duración en horas</li>
                            <li>Propósito completo</li>
                        </ul>
                        <p class="mb-0">
                            Confirma que esta es la unidad correcta antes de continuar.
                        </p>
                    </div>

                    <div class="step-card">
                        <h5>
                            <span class="step-number">5</span>
                            Escribe un Motivo (Opcional pero Recomendado)
                        </h5>
                        <p>
                            Verás un campo de texto donde puedes explicar por qué te interesa esta unidad. 
                            <strong>Aunque es opcional, es MUY recomendable llenarlo.</strong>
                        </p>
                        <p><strong>¿Por qué escribir un motivo?</strong></p>
                        <ul class="mb-0">
                            <li>Ayuda a tu jefe/RRHH a entender tu visión de desarrollo</li>
                            <li>Demuestra que tienes claridad sobre tus metas</li>
                            <li>Facilita conversaciones futuras sobre tu carrera</li>
                            <li>Es un registro para ti mismo de por qué lo solicitaste</li>
                        </ul>
                    </div>

                    <div class="step-card">
                        <h5>
                            <span class="step-number">6</span>
                            Confirma la Solicitud
                        </h5>
                        <p class="mb-0">
                            Haz clic en el botón naranja "Confirmar Solicitud". Aparecerá un mensaje de 
                            confirmación preguntándote si estás seguro. Si lo estás, confirma.
                        </p>
                    </div>

                    <div class="step-card">
                        <h5>
                            <span class="step-number">7</span>
                            ¡Listo! Unidad Agregada
                        </h5>
                        <p>Una vez confirmada:</p>
                        <ul class="mb-0">
                            <li>La unidad se agrega <strong>inmediatamente</strong> a tu ruta de formación</li>
                            <li>Aparecerá en "Mis Solicitudes Pendientes" en esta página</li>
                            <li>La verás en tu página "Mi Ruta de Formación" con tipo "Por interés"</li>
                            <li>Tendrás acceso completo a todas sus referencias y recursos</li>
                            <li>La tarjeta en el catálogo cambiará a "Ya en tu ruta" (no podrás solicitarla de nuevo)</li>
                        </ul>
                    </div>

                    <div class="success-box">
                        <strong><i class="bi bi-rocket me-2"></i>¿Qué hago después de solicitar?</strong>
                        <ul class="mb-0 mt-2">
                            <li>Ve a "Mi Ruta de Formación" para ver la unidad agregada</li>
                            <li>Haz clic en "Ver Detalles" de la unidad para acceder a referencias</li>
                            <li>Comienza a estudiar a tu propio ritmo</li>
                            <li>Cuando termines, informa a tu coordinador para que registre tu completación</li>
                        </ul>
                    </div>
                </div>

                <!-- SECCIÓN 6: CÓMO CANCELAR UNA SOLICITUD -->
                <div class="manual-section">
                    <h3><i class="bi bi-x-circle me-2"></i>Cómo Cancelar una Solicitud Pendiente</h3>

                    <p>
                        Si cambiaste de opinión sobre una unidad que solicitaste, puedes cancelarla 
                        <strong>siempre y cuando aún esté en estado "Pendiente"</strong> (no iniciada).
                    </p>

                    <div class="warning-box">
                        <strong><i class="bi bi-exclamation-triangle me-2"></i>Condiciones para cancelar:</strong>
                        <ul class="mb-0 mt-2">
                            <li>Solo puedes cancelar solicitudes que TÚ hiciste (no las que te asignaron otros)</li>
                            <li>Solo puedes cancelar si el estado es "Pendiente"</li>
                            <li>NO puedes cancelar si ya está "En progreso" o "Completado"</li>
                            <li>Al cancelar, la unidad se REMUEVE completamente de tu ruta</li>
                        </ul>
                    </div>

                    <h4>Pasos para cancelar:</h4>

                    <div class="step-card">
                        <h5>
                            <span class="step-number">1</span>
                            Ve a "Mis Solicitudes Pendientes"
                        </h5>
                        <p class="mb-0">
                            En la sección amarilla de la parte superior, busca la unidad que quieres cancelar.
                        </p>
                    </div>

                    <div class="step-card">
                        <h5>
                            <span class="step-number">2</span>
                            Haz Clic en "Cancelar"
                        </h5>
                        <p class="mb-0">
                            Cada tarjeta de solicitud tiene un botón rojo pequeño que dice "Cancelar" en la 
                            esquina superior derecha.
                        </p>
                    </div>

                    <div class="step-card">
                        <h5>
                            <span class="step-number">3</span>
                            Confirma la Cancelación
                        </h5>
                        <p class="mb-0">
                            Aparecerá un mensaje preguntando: "¿Estás seguro de cancelar esta solicitud? La unidad 
                            será removida de tu ruta." Confirma si estás seguro.
                        </p>
                    </div>

                    <div class="step-card">
                        <h5>
                            <span class="step-number">4</span>
                            Unidad Removida
                        </h5>
                        <p>Efectos de la cancelación:</p>
                        <ul class="mb-0">
                            <li>La unidad desaparece de "Mis Solicitudes Pendientes"</li>
                            <li>Se remueve de "Mi Ruta de Formación"</li>
                            <li>Vuelve a estar disponible en el catálogo (puedes solicitarla de nuevo si quieres)</li>
                            <li>No queda registro negativo (es como si nunca la hubieras solicitado)</li>
                        </ul>
                    </div>

                    <div class="info-box">
                        <strong><i class="bi bi-shield-check me-2"></i>Tranquilidad:</strong>
                        Cancelar una solicitud NO tiene consecuencias negativas. Es completamente normal cambiar 
                        de opinión sobre tus intereses de aprendizaje. No afecta tu historial ni evaluaciones.
                    </div>
                </div>

                <!-- SECCIÓN 7: USANDO FILTROS EFICIENTEMENTE -->
                <div class="manual-section">
                    <h3><i class="bi bi-funnel me-2"></i>Usando los Filtros Eficientemente</h3>

                    <h4>Filtro de Búsqueda por Texto</h4>
                    <p><strong>Cómo funciona:</strong></p>
                    <ul>
                        <li>Busca en el TÍTULO y CÓDIGO de las unidades</li>
                        <li>No distingue mayúsculas/minúsculas</li>
                        <li>Se actualiza mientras escribes (no necesitas presionar Enter)</li>
                        <li>Busca coincidencias parciales (si escribes "Excel", encontrará "Excel Avanzado", "Power Excel", etc.)</li>
                    </ul>

                    <p><strong>Ejemplos de búsqueda:</strong></p>
                    <div class="visual-example">
                        <ul class="mb-0">
                            <li><code>"Python"</code> → Todas las unidades con "Python" en el título</li>
                            <li><code>"SEG"</code> → Todas las unidades con código que empiece con "SEG"</li>
                            <li><code>"Liderazgo"</code> → Unidades sobre liderazgo</li>
                            <li><code>"comunicación"</code> → Unidades sobre comunicación efectiva, asertiva, etc.</li>
                        </ul>
                    </div>

                    <h4>Filtro por Eje Formativo</h4>
                    <p><strong>¿Qué es un eje formativo?</strong></p>
                    <p>
                        Los ejes son CATEGORÍAS temáticas que agrupan las unidades. Ejemplos comunes:
                    </p>
                    <ul>
                        <li><strong>Seguridad:</strong> Seguridad industrial, ocupacional, prevención de riesgos</li>
                        <li><strong>Tecnología:</strong> Software, herramientas digitales, programación</li>
                        <li><strong>Liderazgo:</strong> Gestión de equipos, toma de decisiones, coaching</li>
                        <li><strong>Soft Skills:</strong> Comunicación, trabajo en equipo, inteligencia emocional</li>
                        <li><strong>Operaciones:</strong> Procesos productivos, logística, calidad</li>
                        <li><strong>Finanzas:</strong> Contabilidad, presupuestos, análisis financiero</li>
                    </ul>

                    <p><strong>Cuándo usarlo:</strong></p>
                    <ul>
                        <li>Cuando sabes QUÉ ÁREA quieres desarrollar pero no sabes qué unidad específica</li>
                        <li>Para explorar todo lo disponible en una categoría que te interesa</li>
                    </ul>

                    <h4>Filtro por Modalidad</h4>
                    <p><strong>Modalidades comunes:</strong></p>
                    <ul>
                        <li><strong>Virtual:</strong> 100% en línea, a tu ritmo</li>
                        <li><strong>Presencial:</strong> Sesiones físicas en ubicación específica</li>
                        <li><strong>Híbrida:</strong> Combinación de virtual y presencial</li>
                        <li><strong>Teórica:</strong> Lectura de documentos, papers, libros</li>
                        <li><strong>Práctica:</strong> Talleres, ejercicios hands-on</li>
                    </ul>

                    <p><strong>Cuándo usarlo:</strong></p>
                    <ul>
                        <li>Si tienes restricciones de tiempo → Filtra "Virtual" para estudiar en casa</li>
                        <li>Si prefieres interacción cara a cara → Filtra "Presencial"</li>
                        <li>Si viajas mucho → Filtra "Virtual" o "Teórica"</li>
                    </ul>

                    <h4>Combinando Filtros</h4>
                    <div class="visual-example">
                        <strong>Ejemplos de combinaciones útiles:</strong>
                        <ul class="mb-0 mt-2">
                            <li><strong>Eje: Tecnología + Modalidad: Virtual</strong> → Cursos de tech que puedes hacer en casa</li>
                            <li><strong>Búsqueda: "Excel" + Modalidad: Práctica</strong> → Talleres prácticos de Excel</li>
                            <li><strong>Eje: Liderazgo + Búsqueda: "equipos"</strong> → Formación sobre gestión de equipos</li>
                        </ul>
                    </div>

                    <h4>Botón "Limpiar"</h4>
                    <p>
                        Cuando hayas terminado de explorar con filtros, haz clic en "Limpiar" para quitar 
                        TODOS los filtros de una vez y volver a ver el catálogo completo.
                    </p>
                </div>

                <!-- SECCIÓN 8: PREGUNTAS FRECUENTES -->
                <div class="manual-section">
                    <h3><i class="bi bi-question-circle me-2"></i>Preguntas Frecuentes</h3>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-chevron-right me-2"></i>
                            ¿Hay un límite de cuántas unidades puedo solicitar?
                        </div>
                        <div class="faq-answer">
                            No hay límite técnico en el sistema, pero sé realista contigo mismo. Solicita solo 
                            lo que genuinamente piensas completar. Es mejor tener 3 unidades completadas que 
                            20 pendientes que nunca terminarás. Considera tu tiempo disponible y prioridades.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-chevron-right me-2"></i>
                            ¿Necesito aprobación de mi jefe para solicitar unidades por interés?
                        </div>
                        <div class="faq-answer">
                            NO. Esta funcionalidad es de auto-servicio. La unidad se agrega inmediatamente a tu 
                            ruta sin necesidad de aprobación. Sin embargo, es BUENA PRÁCTICA comentarle a tu 
                            jefe qué estás estudiando, especialmente si planeas usar tiempo laboral para hacerlo.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-chevron-right me-2"></i>
                            ¿Puedo solicitar la misma unidad dos veces?
                        </div>
                        <div class="faq-answer">
                            No. Una vez que una unidad está en tu ruta (ya sea obligatoria o por interés), no 
                            puedes solicitarla de nuevo. El sistema la marca como "Ya en tu ruta" y el botón se 
                            deshabilita. Si quieres "repasar" algo ya completado, puedes acceder a los recursos 
                            desde tu ruta sin necesidad de solicitarla de nuevo.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-chevron-right me-2"></i>
                            ¿Las unidades "por interés" cuentan en mi porcentaje de completación?
                        </div>
                        <div class="faq-answer">
                            Sí. En "Mi Ruta de Formación", verás un porcentaje de completación que incluye TODAS 
                            tus unidades (obligatorias y por interés). Si solicitas muchas por interés y no las 
                            completas, tu porcentaje bajará. Por eso insistimos en solicitar solo lo que vas a terminar.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-chevron-right me-2"></i>
                            Solicité una unidad pero no veo las referencias. ¿Por qué?
                        </div>
                        <div class="faq-answer">
                            Las unidades "por interés" tienen acceso completo a referencias igual que las obligatorias. 
                            Si no ves referencias, es probable que: (1) La unidad aún no tiene referencias cargadas 
                            en el sistema, o (2) Estás buscando en el lugar equivocado. Ve a "Mi Ruta de Formación", 
                            busca la unidad, haz clic en "Ver Detalles Completos", y revisa la sección "Referencias 
                            y Recursos".
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-chevron-right me-2"></i>
                            ¿Qué pasa si solicito una unidad y luego descubro que no me interesa tanto?
                        </div>
                        <div class="faq-answer">
                            Puedes cancelarla desde "Mis Solicitudes Pendientes" mientras esté en estado "Pendiente". 
                            Simplemente haz clic en "Cancelar" y se removerá de tu ruta. No hay consecuencias negativas.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-chevron-right me-2"></i>
                            Empecé una unidad "por interés" pero no la he terminado en meses. ¿Es un problema?
                        </div>
                        <div class="faq-answer">
                            No tendrás consecuencias disciplinarias, pero sí puede afectar tu imagen profesional. 
                            Si tu jefe o RRHH revisan tu ruta y ven muchas unidades "por interés" pendientes hace 
                            meses, puede parecer falta de seguimiento o compromiso. Si ya no te interesa, cancélala. 
                            Si sí te interesa pero no has tenido tiempo, está bien dejarlo pendiente hasta que puedas retomarlo.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-chevron-right me-2"></i>
                            ¿Cómo marco como completada una unidad "por interés"?
                        </div>
                        <div class="faq-answer">
                            Igual que con las obligatorias: TÚ no puedes marcarla. Cuando termines, debes informar 
                            a tu coordinador de formación o facilitador, quien verificará tu completación (según 
                            los criterios de la unidad) y la registrará oficialmente en el sistema. Si la unidad 
                            tiene evaluación, deberás presentarla.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-chevron-right me-2"></i>
                            ¿Puedo solicitar unidades de otras áreas/departamentos?
                        </div>
                        <div class="faq-answer">
                            Sí, absolutamente. El catálogo muestra TODAS las unidades activas de la organización, 
                            sin restricción por departamento. Esta es una gran oportunidad para aprender sobre 
                            otras áreas y prepararte para futuros movimientos laterales o ascensos.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-chevron-right me-2"></i>
                            ¿Obtengo certificado si completo una unidad "por interés"?
                        </div>
                        <div class="faq-answer">
                            Depende de la unidad. Si la unidad tiene el atributo "es certificable", sí recibirás 
                            un certificado al completarla (ya sea obligatoria o por interés). Esto lo puedes 
                            verificar en los detalles de la unidad antes de solicitarla.
                        </div>
                    </div>

                </div>

                <!-- SECCIÓN 9: MEJORES PRÁCTICAS -->
                <div class="manual-section">
                    <h3><i class="bi bi-award me-2"></i>Mejores Prácticas y Consejos</h3>

                    <div class="success-box">
                        <strong><i class="bi bi-check-circle me-2"></i>Solicita con propósito claro</strong>
                        <p class="mb-0 mt-2">
                            Antes de solicitar, pregúntate: "¿Cómo me ayudará esto en mi carrera?" No solicites 
                            por impulso. Ten una razón clara. Esto también te ayuda a mantener motivación para completarla.
                        </p>
                    </div>

                    <div class="success-box">
                        <strong><i class="bi bi-check-circle me-2"></i>Empieza con pocas unidades</strong>
                        <p class="mb-0 mt-2">
                            Si eres nuevo solicitando unidades por interés, comienza con 1-2 unidades máximo. 
                            Completa esas antes de solicitar más. Es mejor tener un historial de 3 unidades 
                            completadas que 10 pendientes.
                        </p>
                    </div>

                    <div class="success-box">
                        <strong><i class="bi bi-check-circle me-2"></i>Escribe siempre el motivo</strong>
                        <p class="mb-0 mt-2">
                            Aunque es opcional, SIEMPRE escribe el motivo de tu solicitud. En el futuro, cuando 
                            revises tu ruta o hables con tu jefe, ese motivo te recordará por qué lo solicitaste 
                            y te ayudará a mantener el foco.
                        </p>
                    </div>

                    <div class="success-box">
                        <strong><i class="bi bi-check-circle me-2"></i>Alinea con tus objetivos de carrera</strong>
                        <p class="mb-0 mt-2">
                            Si quieres ascender a cierto rol, busca qué unidades toman las personas en ese rol 
                            y solicítalas. Si quieres cambiarte de área, solicita unidades de esa área. Usa esta 
                            herramienta estratégicamente para construir el perfil que necesitas.
                        </p>
                    </div>

                    <div class="success-box">
                        <strong><i class="bi bi-check-circle me-2"></i>Revisa regularmente tus pendientes</strong>
                        <p class="mb-0 mt-2">
                            Cada mes (o quincena), revisa tu sección "Mis Solicitudes Pendientes". Si hay algo 
                            que llevas 3+ meses sin tocar y no crees que lo harás pronto, cancélalo. Mantén tu 
                            ruta limpia y realista.
                        </p>
                    </div>

                    <div class="success-box">
                        <strong><i class="bi bi-check-circle me-2"></i>Considera tu tiempo disponible</strong>
                        <p class="mb-0 mt-2">
                            Mira la duración en horas de cada unidad. Si dice "40 horas" y solo tienes 2 horas 
                            libres a la semana, te tomará 20 semanas (5 meses). Sé realista con tu disponibilidad 
                            antes de solicitar algo muy largo.
                        </p>
                    </div>

                    <div class="success-box">
                        <strong><i class="bi bi-check-circle me-2"></i>Usa los filtros para explorar</strong>
                        <p class="mb-0 mt-2">
                            No solo busques por nombre. Usa el filtro de Eje para explorar categorías completas. 
                            Tal vez descubras unidades interesantes que no sabías que existían. Es una buena 
                            forma de ampliar tus horizontes.
                        </p>
                    </div>

                    <div class="success-box">
                        <strong><i class="bi bi-check-circle me-2"></i>Comparte tus planes con tu jefe</strong>
                        <p class="mb-0 mt-2">
                            Aunque no necesitas aprobación, es profesional comentarle a tu jefe qué estás estudiando. 
                            Puede darte retroalimentación útil, conectarte con mentores, o incluso darte tiempo 
                            laboral para estudiar si ve el valor para el equipo.
                        </p>
                    </div>

                    <div class="success-box">
                        <strong><i class="bi bi-check-circle me-2"></i>Celebra tus completaciones</strong>
                        <p class="mb-0 mt-2">
                            Cada unidad "por interés" que completas es un logro voluntario. Nadie te obligó a 
                            tomarla. Merece celebración. Compártelo con tu jefe, menciónalo en evaluaciones, 
                            ponlo en tu CV interno. Es evidencia de iniciativa y compromiso con tu desarrollo.
                        </p>
                    </div>
                </div>

                <!-- TARJETA PARA REPORTAR BUGS -->
                <div class="bug-report-card">
                    <i class="bi bi-bug-fill icon-large"></i>
                    <h4 class="mb-3">¿Encontraste un problema o tienes una sugerencia?</h4>
                    <p class="mb-4">
                        Si experimentaste un error, algo no funciona como esperas, o tienes 
                        una sugerencia para mejorar el sistema, repórtalo aquí.
                    </p>
                    <a href="../report-bug.html" class="btn btn-light btn-lg">
                        <i class="bi bi-exclamation-triangle me-2"></i>Reportar Bug o Problema
                    </a>
                </div>

            </div>
        </div>

    </div>

    <!-- BOTÓN FLOTANTE PARA REPORTAR BUGS -->
    <a href="../report-bug.html" class="btn btn-danger btn-lg floating-bug-button" title="Reportar Bug">
        <i class="bi bi-bug-fill me-2"></i>Reportar Bug
    </a>

    <!-- SCRIPTS - ORDEN CRÍTICO -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/js/config.js"></script>
    
    <script>
        // ==========================================
        // VARIABLES GLOBALES
        // ==========================================
        let currentUser = null;

        // ==========================================
        // CONFIGURACIÓN DE LA PÁGINA
        // ==========================================
        const PAGE_CONFIG = {
            moduleName: 'Formación',
            modulePath: 'training',
            pageTitle: 'Solicitar Unidades por Interés',
            pagePath: 'request-modules.html',
            moduleDescription: 'Solicita unidades formativas adicionales para ampliar tu desarrollo profesional'
        };

        // ==========================================
        // INICIALIZACIÓN
        // ==========================================
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('📖 Iniciando página de manual...');
            
            try {
                // Verificar si existe la función de colores corporativos
                if (typeof loadAndApplyBrandColors === 'function') {
                    await loadAndApplyBrandColors();
                }
                
                // Verificar sesión si la función existe
                if (typeof getStoredSession === 'function') {
                    const session = getStoredSession();
                    if (session && session.user) {
                        currentUser = session.user;
                    }
                }
                
                // Actualizar información en la página
                updatePageInfo();
                
                console.log('✅ Página de manual lista');
                
            } catch (error) {
                console.error('❌ Error inicializando página:', error);
                if (typeof showMessage === 'function') {
                    showMessage('Error al cargar la página: ' + error.message, 'danger');
                }
            }
        });

        // ==========================================
        // ACTUALIZAR INFORMACIÓN DE LA PÁGINA
        // ==========================================
        function updatePageInfo() {
            // Actualizar title
            document.title = `Manual - ${PAGE_CONFIG.moduleName} - ${PAGE_CONFIG.pageTitle} - SchoolNet`;
        }

        // ==========================================
        // UTILIDADES DE LOADING
        // ==========================================
        function showLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.remove('hidden');
            }
        }

        function hideLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.add('hidden');
            }
        }

        // ==========================================
        // FUNCIÓN DE MENSAJES
        // ==========================================
        function showMessage(message, type) {
            const alertContainer = document.getElementById('alertContainer');
            if (!alertContainer) return;
            
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} alert-dismissible fade show`;
            alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            alertContainer.appendChild(alertDiv);
            
            // Auto-remove después de 5 segundos
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 5000);
        }

    </script>
</body>
</html>
