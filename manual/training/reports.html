<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- VERSI√ìN DE LA P√ÅGINA -->
    <meta name="page-version" content="26.01.26.17.12">
    
    <title>Manual - Formaci√≥n - Reportes - SchoolNet</title>
    
    <!-- Bootstrap CSS - VERSI√ìN FIJA PROBADA -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <style>
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .loading-overlay.hidden {
            display: none;
        }
        
        .loading-content {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #007bff;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Encabezado discreto */
        .manual-header {
            background: #f8f9fa;
            border-bottom: 2px solid var(--system-primary-color, #1B365D);
            padding: 1.5rem 0;
            margin-bottom: 2rem;
        }

        .manual-header h1 {
            font-size: 1.75rem;
            color: var(--system-primary-color, #1B365D);
            margin-bottom: 0.25rem;
        }

        .manual-header .subtitle {
            color: #6c757d;
            font-size: 0.95rem;
        }

        /* Info card */
        .info-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        /* Tarjeta para reportar bugs - COLOR PRIMARIO */
        .bug-report-card {
            background: var(--system-primary-color, #1B365D);
            color: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .bug-report-card h5 {
            color: white;
        }

        /* Bot√≥n flotante para reportar bugs - COLOR PRIMARIO */
        .floating-bug-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            background: var(--system-primary-color, #1B365D) !important;
            border-color: var(--system-primary-color, #1B365D) !important;
        }

        .floating-bug-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.4);
            opacity: 0.9;
        }

        .icon-large {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        /* Cajas de informaci√≥n */
        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #0d6efd;
            border-radius: 8px;
            padding: 1rem 1.25rem;
            margin-bottom: 1.5rem;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            border-radius: 8px;
            padding: 1rem 1.25rem;
            margin-bottom: 1.5rem;
        }

        .success-box {
            background: #d1e7dd;
            border-left: 4px solid #198754;
            border-radius: 8px;
            padding: 1rem 1.25rem;
            margin-bottom: 1.5rem;
        }

        .danger-box {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            border-radius: 8px;
            padding: 1rem 1.25rem;
            margin-bottom: 1.5rem;
        }

        /* Tarjetas de pasos */
        .step-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .step-card h5 {
            color: var(--system-primary-color, #1B365D);
            margin-bottom: 1rem;
        }

        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            background: var(--system-primary-color, #1B365D);
            color: white;
            border-radius: 50%;
            font-weight: bold;
            margin-right: 0.75rem;
        }

        /* Listas con estilo */
        .feature-list {
            list-style: none;
            padding-left: 0;
        }

        .feature-list li {
            padding-left: 1.75rem;
            margin-bottom: 0.75rem;
            position: relative;
        }

        .feature-list li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #198754;
            font-weight: bold;
            font-size: 1.2rem;
        }

        /* Secciones del manual */
        .manual-section {
            margin-bottom: 3rem;
        }

        .manual-section h3 {
            color: var(--system-primary-color, #1B365D);
            border-bottom: 2px solid var(--system-primary-color, #1B365D);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .manual-section h4 {
            color: #495057;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }

        /* FAQ */
        .faq-item {
            margin-bottom: 1.5rem;
        }

        .faq-question {
            font-weight: 600;
            color: #495057;
            margin-bottom: 0.5rem;
        }

        .faq-answer {
            color: #6c757d;
            padding-left: 1.5rem;
        }

        /* Tabla de tipos de reporte */
        .report-types-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
        }

        .report-types-table th,
        .report-types-table td {
            border: 1px solid #dee2e6;
            padding: 0.75rem;
            text-align: left;
        }

        .report-types-table th {
            background-color: var(--system-primary-color, #1B365D);
            color: white;
            font-weight: 600;
        }

        .report-types-table tr:hover {
            background-color: #f8f9fa;
        }

        .report-icon {
            font-size: 1.5rem;
            margin-right: 0.5rem;
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <p class="mb-0">Cargando...</p>
        </div>
    </div>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="container-fluid">

        <!-- ENCABEZADO DISCRETO -->
        <div class="manual-header">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h1>
                            <i class="bi bi-book me-2"></i>
                            Manual: Reportes de Formaci√≥n
                        </h1>
                        <p class="subtitle mb-0">M√≥dulo de Formaci√≥n</p>
                    </div>
                    <div class="col-md-4 text-md-end mt-3 mt-md-0">
                        <a href="../../modules/training/reports.html" class="btn btn-outline-primary">
                            <i class="bi bi-arrow-left me-1"></i>Volver al M√≥dulo
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONTENEDOR DE ALERTAS -->
        <div id="alertContainer"></div>

        <div class="row">
            <div class="col-lg-10 mx-auto">

                <!-- INFORMACI√ìN CONTEXTUAL -->
                <div class="info-card">
                    <div class="row align-items-center">
                        <div class="col-md-6">
                            <h6 class="text-muted mb-2">Manual de:</h6>
                            <h5 class="mb-1"><strong id="display-module">Formaci√≥n</strong></h5>
                            <p class="text-muted mb-0 small" id="display-page">Reportes de Formaci√≥n</p>
                        </div>
                        <div class="col-md-6 text-md-end mt-3 mt-md-0">
                            <p class="small text-muted mb-0">
                                <i class="bi bi-info-circle me-1"></i>
                                Si tienes dudas o encuentras alg√∫n problema,<br>
                                puedes reportarlo usando el bot√≥n de abajo.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- ============================================ -->
                <!-- CONTENIDO DEL MANUAL -->
                <!-- ============================================ -->

                <!-- SECCI√ìN 1: ¬øQU√â ES? -->
                <div class="manual-section">
                    <h3><i class="bi bi-info-circle me-2"></i>¬øQu√© es esta funcionalidad?</h3>
                    
                    <p>
                        La funcionalidad de <strong>Reportes de Formaci√≥n</strong> te permite generar informes 
                        personalizados sobre diferentes aspectos de las capacitaciones en la organizaci√≥n.
                    </p>

                    <p>
                        Puedes crear reportes con m√∫ltiples filtros para obtener exactamente la informaci√≥n que 
                        necesitas: qui√©n complet√≥ qu√©, cu√°ndo, c√≥mo va el cumplimiento por √°rea, qu√© m√≥dulos son 
                        m√°s populares, cu√°les est√°n pr√≥ximos a vencer, y mucho m√°s.
                    </p>

                    <div class="success-box">
                        <strong><i class="bi bi-lightbulb me-2"></i>Pi√©nsalo as√≠:</strong>
                        Es como tener un asistente que puede responder preguntas espec√≠ficas sobre formaci√≥n: 
                        "¬øQu√© completaron este mes?", "¬øQui√©nes est√°n rezagados?", "¬øQu√© √°rea va mejor?". 
                        T√∫ configuras la pregunta (los filtros), el sistema genera el reporte, y puedes 
                        exportarlo a PDF para compartir.
                    </div>
                </div>

                <!-- SECCI√ìN 2: ¬øPARA QU√â SIRVE? -->
                <div class="manual-section">
                    <h3><i class="bi bi-star me-2"></i>¬øPara qu√© sirve?</h3>
                    
                    <ul class="feature-list">
                        <li>Generar informes personalizados seg√∫n tus necesidades espec√≠ficas</li>
                        <li>Tomar decisiones informadas con datos concretos y actuales</li>
                        <li>Preparar reportes para presentaciones gerenciales o reuniones</li>
                        <li>Identificar trabajadores o √°reas que necesitan apoyo</li>
                        <li>Monitorear el cumplimiento de certificaciones obligatorias</li>
                        <li>Detectar m√≥dulos populares para replicar su √©xito</li>
                        <li>Priorizar acciones seg√∫n urgencia (vencimientos pr√≥ximos)</li>
                        <li>Comparar el desempe√±o entre diferentes √°reas o ejes</li>
                        <li>Exportar informaci√≥n a PDF para documentaci√≥n formal</li>
                    </ul>

                    <div class="info-box">
                        <strong><i class="bi bi-shield-check me-2"></i>Ventaja clave:</strong>
                        A diferencia del Dashboard (que muestra un panorama general), los Reportes te permiten 
                        "hacer zoom" en aspectos espec√≠ficos y obtener listas detalladas que puedes analizar 
                        y exportar.
                    </div>
                </div>

                <!-- SECCI√ìN 3: ¬øQUI√âN PUEDE USARLA? -->
                <div class="manual-section">
                    <h3><i class="bi bi-people me-2"></i>¬øQui√©n puede usar esta funcionalidad?</h3>
                    
                    <p>
                        Esta funcionalidad est√° disponible para usuarios que tengan el permiso 
                        <strong>"Reportes de formaci√≥n"</strong> en el sistema.
                    </p>

                    <p>
                        Generalmente, este permiso lo tienen:
                    </p>

                    <ul>
                        <li>Coordinadores de formaci√≥n y capacitaci√≥n</li>
                        <li>Jefes de talento humano</li>
                        <li>Gerentes de √°rea que necesitan reportes de su equipo</li>
                        <li>Personal de auditor√≠a interna</li>
                        <li>Analistas de datos de RRHH</li>
                        <li>Direcci√≥n general y alta gerencia</li>
                        <li>Administradores del sistema</li>
                    </ul>

                    <div class="warning-box">
                        <strong><i class="bi bi-exclamation-triangle me-2"></i>Importante:</strong>
                        Los reportes muestran informaci√≥n sensible de trabajadores. √ösalos de manera 
                        responsable y respeta la confidencialidad de la informaci√≥n.
                    </div>
                </div>

                <!-- SECCI√ìN 4: TIPOS DE REPORTES DISPONIBLES -->
                <div class="manual-section">
                    <h3><i class="bi bi-file-earmark-text me-2"></i>Tipos de Reportes Disponibles</h3>

                    <p>
                        El sistema ofrece 7 tipos de reportes principales, cada uno dise√±ado para responder 
                        preguntas espec√≠ficas:
                    </p>

                    <table class="report-types-table">
                        <thead>
                            <tr>
                                <th style="width: 30%;">Tipo de Reporte</th>
                                <th style="width: 70%;">¬øQu√© te muestra?</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="report-icon">üìã</span><strong>Completaciones</strong></td>
                                <td>Lista todas las unidades completadas con detalles de trabajador, m√≥dulo, fecha, calificaci√≥n y tipo de asignaci√≥n. Ideal para auditor√≠as y seguimiento de cumplimientos.</td>
                            </tr>
                            <tr>
                                <td><span class="report-icon">üë§</span><strong>Cumplimiento por Trabajador</strong></td>
                                <td>Muestra el porcentaje de avance de cada trabajador en su ruta formativa. √ötil para identificar qui√©nes van bien y qui√©nes necesitan apoyo.</td>
                            </tr>
                            <tr>
                                <td><span class="report-icon">üìä</span><strong>Cumplimiento por Eje Formativo</strong></td>
                                <td>Compara el progreso entre diferentes ejes (Seguridad, Tecnolog√≠a, Liderazgo, etc.). Incluye gr√°fico de barras para visualizar diferencias.</td>
                            </tr>
                            <tr>
                                <td><span class="report-icon">üèÜ</span><strong>Certificaciones</strong></td>
                                <td>Lista solo los m√≥dulos certificables completados, con tipo de certificaci√≥n y calificaci√≥n. Esencial para reportes de cumplimiento legal o normativo.</td>
                            </tr>
                            <tr>
                                <td><span class="report-icon">‚è∞</span><strong>Vencimientos</strong></td>
                                <td>Muestra m√≥dulos pr√≥ximos a vencer o ya vencidos, con indicadores de urgencia (d√≠as restantes). Perfecto para gesti√≥n proactiva de plazos.</td>
                            </tr>
                            <tr>
                                <td><span class="report-icon">‚≠ê</span><strong>M√≥dulos M√°s Solicitados</strong></td>
                                <td>Ranking de m√≥dulos que m√°s trabajadores han solicitado por inter√©s propio. Identifica capacitaciones populares o con alta demanda.</td>
                            </tr>
                            <tr>
                                <td><span class="report-icon">üìà</span><strong>Comparativo por √Åreas</strong></td>
                                <td>Compara el desempe√±o de diferentes √°reas organizacionales con ranking incluido. Excelente para competencia sana entre equipos.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- SECCI√ìN 5: C√ìMO GENERAR UN REPORTE -->
                <div class="manual-section">
                    <h3><i class="bi bi-list-check me-2"></i>¬øC√≥mo Generar un Reporte? Paso a paso</h3>

                    <!-- PASO 1 -->
                    <div class="step-card">
                        <h5>
                            <span class="step-number">1</span>
                            Seleccionar el tipo de reporte
                        </h5>
                        <p>
                            En la parte superior de la p√°gina, ver√°s un selector grande con el t√≠tulo 
                            <strong>"Tipo de Reporte"</strong>. Haz clic en √©l y elige uno de los 7 tipos 
                            disponibles seg√∫n lo que necesites analizar.
                        </p>
                        <div class="info-box">
                            <strong><i class="bi bi-lightbulb me-2"></i>Consejo:</strong>
                            Si no est√°s seguro cu√°l elegir, revisa la tabla de tipos de reportes arriba. 
                            Cada tipo responde a preguntas espec√≠ficas.
                        </div>
                    </div>

                    <!-- PASO 2 -->
                    <div class="step-card">
                        <h5>
                            <span class="step-number">2</span>
                            (Opcional) Aplicar filtros
                        </h5>
                        <p>
                            Debajo del selector de tipo de reporte, encontrar√°s m√∫ltiples filtros que te 
                            permiten acotar la informaci√≥n:
                        </p>
                        <ul>
                            <li><strong>Fecha Desde / Fecha Hasta:</strong> Limita a un rango de tiempo espec√≠fico</li>
                            <li><strong>Trabajador(es):</strong> Selecciona uno o varios trabajadores espec√≠ficos (mant√©n Ctrl/Cmd presionado para m√∫ltiples)</li>
                            <li><strong>Eje(s) Formativo(s):</strong> Filtra por ejes como Seguridad, Tecnolog√≠a, etc.</li>
                            <li><strong>Modalidad(es):</strong> Virtual, Presencial, H√≠brida</li>
                            <li><strong>Estado(s):</strong> Pendiente, En Progreso, Completado, Vencido</li>
                            <li><strong>√Årea Organizacional:</strong> Filtra por un √°rea espec√≠fica</li>
                            <li><strong>Divisi√≥n Organizacional:</strong> Filtra por una divisi√≥n espec√≠fica</li>
                            <li><strong>Tipo de Asignaci√≥n:</strong> Por rol, Por inter√©s, Administrativo</li>
                            <li><strong>M√≥dulos Certificables:</strong> Solo certificables, solo no certificables, o todos</li>
                        </ul>
                        <div class="warning-box">
                            <strong><i class="bi bi-info-circle me-2"></i>Nota importante:</strong>
                            NO es obligatorio usar filtros. Si no aplicas ninguno, el reporte incluir√° 
                            TODOS los datos de ese tipo. Los filtros son para cuando quieres informaci√≥n 
                            m√°s espec√≠fica.
                        </div>
                    </div>

                    <!-- PASO 3 -->
                    <div class="step-card">
                        <h5>
                            <span class="step-number">3</span>
                            Generar el reporte
                        </h5>
                        <p>
                            Una vez que hayas seleccionado el tipo de reporte y, opcionalmente, aplicado filtros, 
                            haz clic en el bot√≥n grande morado 
                            <span class="badge bg-primary">
                                <i class="bi bi-play-circle me-1"></i>Generar Reporte
                            </span>
                        </p>
                        <p>
                            El sistema procesar√° la informaci√≥n y mostrar√° el reporte en la parte inferior 
                            de la p√°gina. Ver√°s una animaci√≥n de carga mientras se genera.
                        </p>
                    </div>

                    <!-- PASO 4 -->
                    <div class="step-card">
                        <h5>
                            <span class="step-number">4</span>
                            Revisar el reporte generado
                        </h5>
                        <p>
                            El reporte aparecer√° en una secci√≥n llamada "Vista Previa del Reporte". 
                            Dependiendo del tipo, ver√°s:
                        </p>
                        <ul>
                            <li>Una tabla con los datos detallados</li>
                            <li>Gr√°ficos visuales (para reportes de cumplimiento por eje, m√≥dulos m√°s solicitados, etc.)</li>
                            <li>Indicadores de resumen (totales, promedios, etc.)</li>
                            <li>Barras de progreso (en reportes de cumplimiento)</li>
                            <li>Badges de colores para identificar estados o alertas</li>
                        </ul>
                        <p>
                            Puedes hacer scroll en la tabla para ver todos los registros.
                        </p>
                    </div>

                    <!-- PASO 5 -->
                    <div class="step-card">
                        <h5>
                            <span class="step-number">5</span>
                            (Opcional) Exportar a PDF
                        </h5>
                        <p>
                            Si necesitas compartir el reporte o guardarlo para documentaci√≥n, haz clic en el 
                            bot√≥n rojo 
                            <span class="badge bg-danger">
                                <i class="bi bi-file-pdf me-1"></i>Exportar PDF
                            </span> 
                            que est√° en la esquina superior derecha del reporte.
                        </p>
                        <p>
                            El sistema generar√° un archivo PDF profesional que incluye:
                        </p>
                        <ul>
                            <li>Logo y encabezado de SchoolNet</li>
                            <li>Tipo de reporte y fecha de generaci√≥n</li>
                            <li>Todos los datos en formato tabla optimizado</li>
                            <li>Numeraci√≥n de p√°ginas</li>
                        </ul>
                        <p>
                            El PDF se descargar√° autom√°ticamente a tu computadora.
                        </p>
                    </div>

                    <!-- PASO 6 -->
                    <div class="step-card">
                        <h5>
                            <span class="step-number">6</span>
                            (Opcional) Generar otro reporte
                        </h5>
                        <p>
                            Para generar un reporte diferente:
                        </p>
                        <ol>
                            <li>Haz scroll hacia arriba hasta la secci√≥n de configuraci√≥n</li>
                            <li>Cambia el tipo de reporte o ajusta los filtros</li>
                            <li>Haz clic nuevamente en "Generar Reporte"</li>
                        </ol>
                        <p>
                            El nuevo reporte reemplazar√° al anterior en la vista previa. Si quieres conservar 
                            el anterior, exp√≥rtalo a PDF antes de generar uno nuevo.
                        </p>
                    </div>

                </div>

                <!-- SECCI√ìN 6: REPORTES R√ÅPIDOS -->
                <div class="manual-section">
                    <h3><i class="bi bi-lightning-charge me-2"></i>Reportes R√°pidos (Atajos)</h3>

                    <p>
                        En la parte inferior de la p√°gina hay 5 tarjetas con el t√≠tulo 
                        <strong>"Reportes R√°pidos"</strong>. Estas son configuraciones predefinidas para 
                        consultas comunes que puedes generar con un solo clic.
                    </p>

                    <div class="step-card">
                        <h5>üìÖ Completaciones del Mes Actual</h5>
                        <p>
                            Genera autom√°ticamente un reporte de todas las unidades completadas en el mes 
                            en curso. Perfecto para reportes mensuales de gesti√≥n.
                        </p>
                    </div>

                    <div class="step-card">
                        <h5>‚è∞ Vencimientos Pr√≥ximos (7 d√≠as)</h5>
                        <p>
                            Muestra todas las unidades que vencen en los pr√≥ximos 7 d√≠as. √ötil para hacer 
                            seguimiento proactivo y recordatorios urgentes a trabajadores.
                        </p>
                    </div>

                    <div class="step-card">
                        <h5>üèÜ Top 10 Trabajadores</h5>
                        <p>
                            Lista los 10 trabajadores con mayor porcentaje de completaci√≥n en sus rutas. 
                            Ideal para reconocimientos o para identificar embajadores de formaci√≥n.
                        </p>
                    </div>

                    <div class="step-card">
                        <h5>üéì Certificaciones del Trimestre</h5>
                        <p>
                            Reporte de todas las certificaciones obtenidas en los √∫ltimos 3 meses. 
                            √ötil para auditor√≠as trimestrales o reportes de cumplimiento normativo.
                        </p>
                    </div>

                    <div class="step-card">
                        <h5>‚è≥ M√≥dulos Sin Completar</h5>
                        <p>
                            Muestra todas las unidades que est√°n pendientes o en progreso pero no terminadas. 
                            Ayuda a priorizar esfuerzos de seguimiento.
                        </p>
                    </div>

                    <div class="success-box">
                        <strong><i class="bi bi-zap me-2"></i>Ventaja de los reportes r√°pidos:</strong>
                        No necesitas configurar nada. Simplemente haz clic en la tarjeta y el sistema 
                        configura autom√°ticamente el tipo de reporte y los filtros apropiados. En segundos 
                        tienes el resultado.
                    </div>
                </div>

                <!-- SECCI√ìN 7: INTERPRETANDO LOS REPORTES -->
                <div class="manual-section">
                    <h3><i class="bi bi-eye me-2"></i>C√≥mo Interpretar los Reportes</h3>

                    <h4>Elementos comunes en los reportes</h4>

                    <p><strong>Badges de Estado:</strong></p>
                    <ul>
                        <li><span class="badge" style="background-color: #d1e7dd; color: #0f5132;">Completado</span> - Verde: Ya terminado</li>
                        <li><span class="badge" style="background-color: #fff3cd; color: #856404;">Pendiente</span> - Amarillo: No iniciado</li>
                        <li><span class="badge" style="background-color: #cfe2ff; color: #084298;">En progreso</span> - Azul: Iniciado pero no terminado</li>
                        <li><span class="badge" style="background-color: #f8d7da; color: #842029;">Vencido</span> - Rojo: Pas√≥ la fecha l√≠mite</li>
                    </ul>

                    <p><strong>Barras de Progreso:</strong></p>
                    <ul>
                        <li><span style="color: #198754;">‚ñ†‚ñ†‚ñ†‚ñ†‚ñ†</span> Verde (75-100%): Excelente progreso</li>
                        <li><span style="color: #0dcaf0;">‚ñ†‚ñ†‚ñ†‚ñ†‚ñ°</span> Azul (50-74%): Buen avance</li>
                        <li><span style="color: #ffc107;">‚ñ†‚ñ†‚ñ†‚ñ°‚ñ°</span> Amarillo (25-49%): Progreso limitado</li>
                        <li><span style="color: #dc3545;">‚ñ†‚ñ†‚ñ°‚ñ°‚ñ°</span> Rojo (0-24%): Necesita atenci√≥n urgente</li>
                    </ul>

                    <p><strong>Alertas de Vencimiento:</strong></p>
                    <ul>
                        <li>üî¥ <strong>Urgente:</strong> Vence hoy o ya venci√≥</li>
                        <li>üü° <strong>Pr√≥ximo:</strong> Vence en 7-30 d√≠as</li>
                        <li>üü¢ <strong>Normal:</strong> Vence en m√°s de 30 d√≠as</li>
                    </ul>

                    <h4>Qu√© buscar en cada tipo de reporte</h4>

                    <div class="info-box">
                        <strong>Reporte de Completaciones:</strong>
                        <ul class="mt-2 mb-0">
                            <li>Busca patrones: ¬øciertos m√≥dulos se completan m√°s r√°pido?</li>
                            <li>Revisa calificaciones bajas: pueden indicar contenido dif√≠cil</li>
                            <li>Identifica √©pocas del a√±o con m√°s/menos completaciones</li>
                        </ul>
                    </div>

                    <div class="info-box">
                        <strong>Cumplimiento por Trabajador:</strong>
                        <ul class="mt-2 mb-0">
                            <li>Trabajadores con <25% necesitan atenci√≥n inmediata</li>
                            <li>Si hay muchos vencidos, revisa si las fechas son realistas</li>
                            <li>Usa para identificar qui√©n necesita recordatorios o apoyo</li>
                        </ul>
                    </div>

                    <div class="info-box">
                        <strong>Cumplimiento por Eje:</strong>
                        <ul class="mt-2 mb-0">
                            <li>Ejes con <40% pueden tener contenido poco atractivo</li>
                            <li>Compara ejes obligatorios vs opcionales</li>
                            <li>Identifica si hay diferencias entre modalidades</li>
                        </ul>
                    </div>

                    <div class="info-box">
                        <strong>Vencimientos:</strong>
                        <ul class="mt-2 mb-0">
                            <li>Prioriza acciones seg√∫n d√≠as restantes</li>
                            <li>Si hay muchos vencidos, considera extender plazos</li>
                            <li>Contacta primero a los marcados como "urgente"</li>
                        </ul>
                    </div>

                </div>

                <!-- SECCI√ìN 8: PREGUNTAS FRECUENTES -->
                <div class="manual-section">
                    <h3><i class="bi bi-question-circle me-2"></i>Preguntas Frecuentes</h3>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-chevron-right me-2"></i>
                            ¬øCu√°l es la diferencia entre el Dashboard y los Reportes?
                        </div>
                        <div class="faq-answer">
                            El Dashboard muestra un panorama general con gr√°ficos resumidos. Los Reportes te 
                            permiten obtener listas detalladas con filtros espec√≠ficos que puedes exportar. 
                            Usa el Dashboard para monitoreo diario y los Reportes para an√°lisis profundo o 
                            documentaci√≥n formal.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-chevron-right me-2"></i>
                            ¬øPor qu√© mi reporte sale vac√≠o o con pocos datos?
                        </div>
                        <div class="faq-answer">
                            Posibles causas: (1) Los filtros que aplicaste son muy restrictivos, (2) No hay 
                            datos que cumplan esas condiciones, (3) Seleccionaste un rango de fechas sin datos. 
                            Intenta quitar filtros o ampliar el rango de fechas.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-chevron-right me-2"></i>
                            ¬øPuedo seleccionar m√∫ltiples trabajadores o ejes a la vez?
                        </div>
                        <div class="faq-answer">
                            S√≠. En los campos que lo permiten (Trabajador, Eje, Modalidad, Estado), mant√©n 
                            presionada la tecla Ctrl (Windows) o Cmd (Mac) mientras haces clic para seleccionar 
                            varios. El reporte incluir√° todos los seleccionados.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-chevron-right me-2"></i>
                            ¬øLos reportes se guardan o debo generarlos cada vez?
                        </div>
                        <div class="faq-answer">
                            NO se guardan autom√°ticamente. Cada vez que entras a la p√°gina debes generar el 
                            reporte de nuevo. Si quieres conservar uno, exp√≥rtalo a PDF antes de salir o 
                            generar otro reporte diferente.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-chevron-right me-2"></i>
                            ¬øHay l√≠mite de registros en un reporte?
                        </div>
                        <div class="faq-answer">
                            No hay l√≠mite t√©cnico, pero reportes muy grandes (miles de registros) pueden tardar 
                            m√°s en generarse y el PDF resultante ser√° extenso. Si necesitas un reporte masivo, 
                            considera dividirlo por fechas o √°reas.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-chevron-right me-2"></i>
                            ¬øEl PDF incluye los gr√°ficos?
                        </div>
                        <div class="faq-answer">
                            No. El PDF solo incluye las tablas con datos. Los gr√°ficos son visuales de la 
                            interfaz web. Si necesitas compartir gr√°ficos, toma capturas de pantalla del 
                            reporte antes de exportar.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-chevron-right me-2"></i>
                            ¬øLos reportes r√°pidos puedo personalizarlos despu√©s?
                        </div>
                        <div class="faq-answer">
                            S√≠. Despu√©s de hacer clic en un reporte r√°pido y ver el resultado, puedes subir 
                            a la secci√≥n de configuraci√≥n, ajustar los filtros que se aplicaron autom√°ticamente, 
                            y generar de nuevo con tus cambios.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-chevron-right me-2"></i>
                            ¬øQu√© hago si el reporte tarda mucho en generarse?
                        </div>
                        <div class="faq-answer">
                            Espera pacientemente. Reportes con muchos datos (sin filtros, con rangos de fechas 
                            amplios) pueden tardar 10-30 segundos. Si tarda m√°s de 1 minuto, refresca la p√°gina 
                            e intenta con filtros m√°s restrictivos.
                        </div>
                    </div>

                </div>

                <!-- SECCI√ìN 9: MEJORES PR√ÅCTICAS -->
                <div class="manual-section">
                    <h3><i class="bi bi-award me-2"></i>Mejores Pr√°cticas</h3>

                    <div class="success-box">
                        <strong><i class="bi bi-check-circle me-2"></i>Usa filtros estrat√©gicamente</strong>
                        <p class="mb-0 mt-2">
                            Empieza sin filtros para ver el panorama completo, luego a√±ade filtros para 
                            enfocarte. No apliques todos los filtros de golpe o podr√≠as no encontrar datos.
                        </p>
                    </div>

                    <div class="success-box">
                        <strong><i class="bi bi-check-circle me-2"></i>Exporta antes de cambiar</strong>
                        <p class="mb-0 mt-2">
                            Si generaste un reporte √∫til, exp√≥rtalo a PDF ANTES de generar otro. El nuevo 
                            reemplazar√° al anterior y perder√°s el trabajo anterior.
                        </p>
                    </div>

                    <div class="success-box">
                        <strong><i class="bi bi-check-circle me-2"></i>Nombres descriptivos para PDFs</strong>
                        <p class="mb-0 mt-2">
                            Los PDFs se descargan con nombres autom√°ticos como "reporte_formacion_completaciones_123456.pdf". 
                            Ren√≥mbralos inmediatamente con algo m√°s √∫til: "Reporte_Completaciones_Ene2025.pdf"
                        </p>
                    </div>

                    <div class="success-box">
                        <strong><i class="bi bi-check-circle me-2"></i>Combina reportes para an√°lisis profundo</strong>
                        <p class="mb-0 mt-2">
                            Para entender una situaci√≥n compleja, genera varios tipos de reportes complementarios. 
                            Ejemplo: Cumplimiento por √Årea + Vencimientos + M√≥dulos M√°s Solicitados te dan 
                            una visi√≥n 360¬∞.
                        </p>
                    </div>

                    <div class="success-box">
                        <strong><i class="bi bi-check-circle me-2"></i>Aprovecha los reportes r√°pidos</strong>
                        <p class="mb-0 mt-2">
                            Para consultas rutinarias (reportes mensuales, seguimiento semanal), usa los 
                            reportes r√°pidos en lugar de configurar filtros manualmente cada vez. Ahorras tiempo.
                        </p>
                    </div>

                    <div class="success-box">
                        <strong><i class="bi bi-check-circle me-2"></i>Programa revisiones peri√≥dicas</strong>
                        <p class="mb-0 mt-2">
                            Establece un calendario: cada lunes genera "Vencimientos Pr√≥ximos", cada fin de 
                            mes genera "Completaciones del Mes". La consistencia te permite detectar tendencias.
                        </p>
                    </div>

                    <div class="success-box">
                        <strong><i class="bi bi-check-circle me-2"></i>Comparte con stakeholders apropiados</strong>
                        <p class="mb-0 mt-2">
                            Reporte de Cumplimiento por √Årea ‚Üí Gerentes de √°rea. Reporte de Certificaciones ‚Üí 
                            Auditor√≠a. Reporte de Vencimientos ‚Üí Coordinadores de formaci√≥n. Cada quien recibe 
                            lo que necesita.
                        </p>
                    </div>

                </div>

                <!-- TARJETA PARA REPORTAR BUGS -->
                <div class="bug-report-card">
                    <i class="bi bi-bug-fill icon-large"></i>
                    <h4 class="mb-3">¬øEncontraste un problema o tienes una sugerencia?</h4>
                    <p class="mb-4">
                        Si experimentaste un error, algo no funciona como esperas, o tienes 
                        una sugerencia para mejorar el sistema, rep√≥rtalo aqu√≠.
                    </p>
                    <a href="../report-bug.html" class="btn btn-light btn-lg">
                        <i class="bi bi-exclamation-triangle me-2"></i>Reportar Bug o Problema
                    </a>
                </div>

            </div>
        </div>

    </div>

    <!-- BOT√ìN FLOTANTE PARA REPORTAR BUGS -->
    <a href="../report-bug.html" class="btn btn-danger btn-lg floating-bug-button" title="Reportar Bug">
        <i class="bi bi-bug-fill me-2"></i>Reportar Bug
    </a>

    <!-- SCRIPTS - ORDEN CR√çTICO -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/js/config.js"></script>
    
    <script>
        // ==========================================
        // VARIABLES GLOBALES
        // ==========================================
        let currentUser = null;

        // ==========================================
        // CONFIGURACI√ìN DE LA P√ÅGINA
        // ==========================================
        const PAGE_CONFIG = {
            moduleName: 'Formaci√≥n',
            modulePath: 'training',
            pageTitle: 'Reportes de Formaci√≥n',
            pagePath: 'reports.html',
            moduleDescription: 'Generaci√≥n de informes personalizados de progreso y cumplimiento'
        };

        // ==========================================
        // INICIALIZACI√ìN
        // ==========================================
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üìñ Iniciando p√°gina de manual...');
            
            try {
                // Verificar si existe la funci√≥n de colores corporativos
                if (typeof loadAndApplyBrandColors === 'function') {
                    await loadAndApplyBrandColors();
                }
                
                // Verificar sesi√≥n si la funci√≥n existe
                if (typeof getStoredSession === 'function') {
                    const session = getStoredSession();
                    if (session && session.user) {
                        currentUser = session.user;
                    }
                }
                
                // Actualizar informaci√≥n en la p√°gina
                updatePageInfo();
                
                console.log('‚úÖ P√°gina de manual lista');
                
            } catch (error) {
                console.error('‚ùå Error inicializando p√°gina:', error);
                if (typeof showMessage === 'function') {
                    showMessage('Error al cargar la p√°gina: ' + error.message, 'danger');
                }
            }
        });

        // ==========================================
        // ACTUALIZAR INFORMACI√ìN DE LA P√ÅGINA
        // ==========================================
        function updatePageInfo() {
            // Actualizar title
            document.title = `Manual - ${PAGE_CONFIG.moduleName} - ${PAGE_CONFIG.pageTitle} - SchoolNet`;
        }

        // ==========================================
        // UTILIDADES DE LOADING
        // ==========================================
        function showLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.remove('hidden');
            }
        }

        function hideLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.add('hidden');
            }
        }

        // ==========================================
        // FUNCI√ìN DE MENSAJES
        // ==========================================
        function showMessage(message, type) {
            const alertContainer = document.getElementById('alertContainer');
            if (!alertContainer) return;
            
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} alert-dismissible fade show`;
            alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            alertContainer.appendChild(alertDiv);
            
            // Auto-remove despu√©s de 5 segundos
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 5000);
        }

    </script>
</body>
</html>
