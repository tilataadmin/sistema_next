<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- VERSI√ìN DE LA P√ÅGINA -->
    <meta name="page-version" content="26.01.21.11.30">
    
    <title>Manual - Tilat√° te Escucha - Responder Solicitudes - SchoolNet</title>
    
    <!-- Bootstrap CSS - VERSI√ìN FIJA PROBADA -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <style>
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .loading-overlay.hidden {
            display: none;
        }
        
        .loading-content {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid var(--system-primary-color, #1B365D);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Encabezado con colores corporativos */
        .manual-header {
            background: #f8f9fa;
            border-bottom: 3px solid var(--system-primary-color, #1B365D);
            padding: 1.5rem 0;
            margin-bottom: 2rem;
        }

        .manual-header h1 {
            font-size: 1.75rem;
            color: var(--system-primary-color, #1B365D);
            margin-bottom: 0.25rem;
        }

        .manual-header .subtitle {
            color: #6c757d;
            font-size: 0.95rem;
        }

        /* Tarjetas de secci√≥n */
        .section-title {
            color: var(--system-primary-color, #1B365D);
            border-bottom: 2px solid var(--system-secondary-color, #667eea);
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
        }

        .step-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        /* Cajas de informaci√≥n */
        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #0d6efd;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .success-box {
            background: #d1e7dd;
            border-left: 4px solid #198754;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid var(--system-tertiary-color, #ffc107);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .danger-box {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        /* Lista de caracter√≠sticas */
        .feature-list {
            list-style: none;
            padding-left: 0;
        }

        .feature-list li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
        }

        .feature-list li::before {
            content: "‚úì";
            color: var(--system-primary-color, #1B365D);
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        /* Pasos numerados */
        .numbered-steps {
            counter-reset: step-counter;
            list-style: none;
            padding-left: 0;
        }

        .numbered-steps li {
            counter-increment: step-counter;
            padding: 1rem;
            padding-left: 3.5rem;
            position: relative;
            margin-bottom: 0.5rem;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .numbered-steps li::before {
            content: counter(step-counter);
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            background: var(--system-primary-color, #1B365D);
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.875rem;
        }

        /* Badges de estado */
        .badge-example {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 500;
            margin-right: 0.25rem;
        }

        .badge-pendiente { background: #ffc107; color: #000; }
        .badge-proceso { background: #0dcaf0; color: #000; }
        .badge-cerrado { background: #198754; color: #fff; }
        .badge-sin-respuesta { background: #6c757d; color: #fff; }
        .badge-propuesta { background: #ffc107; color: #000; }
        .badge-aprobada { background: #198754; color: #fff; }
        .badge-fragmento { background: #0dcaf0; color: #000; }

        /* Tarjeta para reportar bugs */
        .bug-report-card {
            background: var(--system-primary-color, #1B365D);
            color: white;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
        }

        .bug-report-card h4,
        .bug-report-card h5,
        .bug-report-card p {
            color: white;
        }

        /* Bot√≥n flotante para reportar bugs */
        .floating-bug-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            background: var(--system-primary-color, #dc3545) !important;
            border-color: var(--system-primary-color, #dc3545) !important;
        }

        .floating-bug-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.4);
        }

        .icon-large {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        /* Tabla explicativa */
        .table-explain {
            font-size: 0.9rem;
        }

        .table-explain th {
            background: var(--system-primary-color, #1B365D);
            color: white;
        }

        /* Comparaci√≥n visual */
        .comparison-box {
            display: flex;
            gap: 1rem;
            margin: 1rem 0;
        }

        .comparison-item {
            flex: 1;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
        }

        .comparison-item.fragmento {
            background: #e0f7fa;
            border: 2px solid #0dcaf0;
        }

        .comparison-item.completa {
            background: #f3e5f5;
            border: 2px solid #9c27b0;
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <p class="mb-0">Cargando...</p>
        </div>
    </div>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="container-fluid">

        <!-- ENCABEZADO -->
        <div class="manual-header">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h1>
                            <i class="bi bi-book me-2"></i>
                            Manual: Responder Solicitudes
                        </h1>
                        <p class="subtitle mb-0">Tilat√° te Escucha - Proponer respuestas a solicitudes de tu √°rea</p>
                    </div>
                    <div class="col-md-4 text-md-end mt-3 mt-md-0">
                        <a href="../../modules/tte/respond-requests.html" class="btn btn-outline-primary">
                            <i class="bi bi-arrow-left me-1"></i>Volver al M√≥dulo
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONTENEDOR DE ALERTAS -->
        <div id="alertContainer"></div>

        <div class="row">
            <div class="col-lg-8 mx-auto">

                <!-- ========================================== -->
                <!-- SECCI√ìN 1: ¬øQU√â ES ESTA FUNCI√ìN? -->
                <!-- ========================================== -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-reply me-2"></i>
                        ¬øQu√© es Responder Solicitudes?
                    </h2>

                    <div class="step-card">
                        <p>
                            Esta funci√≥n es para los <strong>responsables de categor√≠as</strong>. Aqu√≠ ves las solicitudes que el equipo TTE ha asignado a tu √°rea y propones respuestas que ser√°n revisadas antes de enviarse al usuario.
                        </p>

                        <div class="info-box">
                            <strong><i class="bi bi-info-circle me-2"></i>¬øC√≥mo funciona?</strong>
                            <p class="mb-0 mt-2">
                                Cuando alguien env√≠a un mensaje relacionado con tu √°rea (por ejemplo, Transporte, Acad√©mico, Convivencia), el equipo TTE lo clasifica y te lo asigna. T√∫ propones una respuesta y ellos la revisan antes de enviarla al usuario.
                            </p>
                        </div>

                        <h5 class="mt-4">¬øQu√© puedes hacer aqu√≠?</h5>
                        <ul class="feature-list">
                            <li>Ver las solicitudes asignadas a tus categor√≠as</li>
                            <li>Leer el mensaje del usuario (completo o fragmento)</li>
                            <li>Proponer una respuesta para revisi√≥n</li>
                            <li>Editar tu respuesta propuesta si a√∫n no ha sido aprobada</li>
                            <li>Agregar comentarios internos para el equipo</li>
                            <li>Ver el estado de tus respuestas</li>
                        </ul>

                        <div class="warning-box">
                            <strong><i class="bi bi-exclamation-triangle me-2"></i>Importante:</strong>
                            Tus respuestas <strong>no se env√≠an directamente</strong> al usuario. El equipo TTE las revisa primero y decide si aprobarlas, editarlas o pedir cambios.
                        </div>
                    </div>
                </section>

                <!-- ========================================== -->
                <!-- SECCI√ìN 2: SOLICITUDES vs FRAGMENTOS -->
                <!-- ========================================== -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-scissors me-2"></i>
                        Solicitudes completas vs Fragmentos
                    </h2>

                    <div class="step-card">
                        <p>
                            En tu bandeja puedes ver dos tipos de elementos:
                        </p>

                        <div class="comparison-box">
                            <div class="comparison-item completa">
                                <i class="bi bi-file-text" style="font-size: 2rem; color: #9c27b0;"></i>
                                <h6 class="mt-2">Solicitud Completa</h6>
                                <p class="small mb-0">Todo el mensaje del usuario fue asignado a tu categor√≠a</p>
                            </div>
                            <div class="comparison-item fragmento">
                                <i class="bi bi-scissors" style="font-size: 2rem; color: #0dcaf0;"></i>
                                <h6 class="mt-2">Fragmento</h6>
                                <p class="small mb-0">Solo una parte del mensaje fue asignada a tu categor√≠a</p>
                            </div>
                        </div>

                        <h5 class="mt-4">¬øC√≥mo identificarlos?</h5>
                        <p>En la tabla, los fragmentos tienen un icono de tijeras <span class="badge-example badge-fragmento"><i class="bi bi-scissors"></i></span> junto al folio.</p>

                        <h5 class="mt-4">¬øQu√© cambia en el detalle?</h5>
                        <ul>
                            <li><strong>Solicitud completa:</strong> Ves todo el mensaje original</li>
                            <li><strong>Fragmento:</strong> Ves el fragmento asignado destacado, con el mensaje completo abajo como referencia</li>
                        </ul>

                        <div class="success-box">
                            <strong><i class="bi bi-lightbulb me-2"></i>Consejo:</strong>
                            Cuando respondas un fragmento, enf√≥cate en responder solo ese tema espec√≠fico. El usuario puede haber mencionado otros temas que est√°n siendo atendidos por otros responsables.
                        </div>
                    </div>
                </section>

                <!-- ========================================== -->
                <!-- SECCI√ìN 3: LA TABLA DE SOLICITUDES -->
                <!-- ========================================== -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-table me-2"></i>
                        Tu bandeja de solicitudes
                    </h2>

                    <div class="step-card">
                        <p>
                            Al ingresar ver√°s una tabla con las solicitudes asignadas a las categor√≠as donde eres responsable.
                        </p>

                        <h5 class="mt-4">Columnas de la tabla</h5>
                        <div class="table-responsive">
                            <table class="table table-bordered table-explain">
                                <thead>
                                    <tr>
                                        <th>Columna</th>
                                        <th>Descripci√≥n</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>Folio</strong></td>
                                        <td>
                                            N√∫mero de la solicitud. Si tiene <span class="badge-example badge-fragmento"><i class="bi bi-scissors"></i></span> es un fragmento.
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>Fecha</strong></td>
                                        <td>Cu√°ndo se recibi√≥ la solicitud original.</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Solicitante</strong></td>
                                        <td>Nombre de quien envi√≥ el mensaje.</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Categor√≠a</strong></td>
                                        <td>Tu categor√≠a asignada para este caso.</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Estado</strong></td>
                                        <td>
                                            <span class="badge-example badge-pendiente">Pendiente</span>
                                            <span class="badge-example badge-proceso">En proceso</span>
                                            <span class="badge-example badge-cerrado">Cerrado</span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong>D√≠as</strong></td>
                                        <td>D√≠as desde que lleg√≥. <span style="color:#dc3545;font-weight:bold;">Rojo</span> = fuera de tiempo.</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Respuesta</strong></td>
                                        <td>
                                            <span class="badge-example badge-sin-respuesta">Sin respuesta</span> Pendiente de tu propuesta<br>
                                            <span class="badge-example badge-propuesta">Propuesta</span> Ya enviaste tu respuesta<br>
                                            <span class="badge-example badge-aprobada">Aprobada</span> El equipo TTE la aprob√≥
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <h5 class="mt-4">Filtros disponibles</h5>
                        <ul>
                            <li><strong>Estado:</strong> En proceso o Cerrado</li>
                            <li><strong>Estado de Respuesta:</strong> Sin respuesta, Propuesta o Aprobada</li>
                        </ul>

                        <div class="info-box">
                            <strong><i class="bi bi-info-circle me-2"></i>Nota:</strong>
                            Por defecto, la p√°gina filtra para mostrar solicitudes "En proceso" + "Sin respuesta", que son las que necesitan tu atenci√≥n.
                        </div>
                    </div>
                </section>

                <!-- ========================================== -->
                <!-- SECCI√ìN 4: C√ìMO PROPONER UNA RESPUESTA -->
                <!-- ========================================== -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-pencil-square me-2"></i>
                        C√≥mo proponer una respuesta
                    </h2>

                    <div class="step-card">
                        <p>
                            Proponer una respuesta es tu tarea principal en esta funci√≥n. Sigue estos pasos:
                        </p>

                        <ol class="numbered-steps">
                            <li>Haz clic en la fila de la solicitud que quieres responder</li>
                            <li>Lee cuidadosamente el mensaje del usuario (o el fragmento asignado)</li>
                            <li>Revisa si hay comentarios internos del equipo TTE con indicaciones</li>
                            <li>Haz clic en el bot√≥n <strong>"Proponer Respuesta"</strong></li>
                            <li>Escribe tu propuesta de respuesta en el campo de texto</li>
                            <li>Haz clic en <strong>"Proponer Respuesta"</strong> para enviarla</li>
                        </ol>

                        <div class="warning-box">
                            <strong><i class="bi bi-exclamation-triangle me-2"></i>Antes de enviar:</strong>
                            <ul class="mb-0 mt-2">
                                <li>Verifica que tu respuesta aborda el tema planteado</li>
                                <li>Usa un tono profesional y amable</li>
                                <li>No incluyas informaci√≥n confidencial</li>
                                <li>Revisa ortograf√≠a y redacci√≥n</li>
                            </ul>
                        </div>

                        <h5 class="mt-4">¬øQu√© pasa despu√©s?</h5>
                        <p>
                            Tu respuesta queda en estado <span class="badge-example badge-propuesta">Propuesta</span>. El equipo TTE la revisar√° y decidir√° si:
                        </p>
                        <ul>
                            <li><strong>Aprobarla:</strong> Se env√≠a al usuario tal como la escribiste</li>
                            <li><strong>Editarla:</strong> Hacen ajustes menores y la env√≠an</li>
                            <li><strong>Pedirte cambios:</strong> Te dejan un comentario interno para que la modifiques</li>
                        </ul>
                    </div>
                </section>

                <!-- ========================================== -->
                <!-- SECCI√ìN 5: EDITAR TU RESPUESTA -->
                <!-- ========================================== -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-pencil me-2"></i>
                        Editar tu respuesta propuesta
                    </h2>

                    <div class="step-card">
                        <p>
                            Si ya propusiste una respuesta pero necesitas modificarla, puedes hacerlo <strong>mientras no haya sido aprobada</strong>.
                        </p>

                        <ol class="numbered-steps">
                            <li>Abre el detalle de la solicitud</li>
                            <li>Ver√°s tu respuesta propuesta con un bot√≥n "Editar Respuesta Propuesta"</li>
                            <li>Haz clic en el bot√≥n para modificar el texto</li>
                            <li>Guarda los cambios</li>
                        </ol>

                        <div class="danger-box">
                            <strong><i class="bi bi-exclamation-octagon me-2"></i>Ya no puedes editar si:</strong>
                            <p class="mb-0 mt-2">
                                La respuesta ya fue aprobada y enviada al usuario. En ese caso, ver√°s el texto final que se envi√≥ pero no podr√°s modificarlo.
                            </p>
                        </div>
                    </div>
                </section>

                <!-- ========================================== -->
                <!-- SECCI√ìN 6: COMENTARIOS INTERNOS -->
                <!-- ========================================== -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-chat-left-text me-2"></i>
                        Comentarios internos
                    </h2>

                    <div class="step-card">
                        <p>
                            Los comentarios internos son notas que solo ve el equipo interno (t√∫ y el equipo TTE). El usuario <strong>nunca</strong> los ve.
                        </p>

                        <h5 class="mt-4">¬øPara qu√© usarlos?</h5>
                        <ul>
                            <li>Pedir aclaraci√≥n al equipo TTE sobre qu√© responder</li>
                            <li>Indicar que necesitas m√°s informaci√≥n</li>
                            <li>Documentar acciones tomadas (llamadas, reuniones, etc.)</li>
                            <li>Explicar el contexto de tu respuesta propuesta</li>
                        </ul>

                        <h5 class="mt-4">C√≥mo agregar un comentario</h5>
                        <ol class="numbered-steps">
                            <li>Abre el detalle de la solicitud</li>
                            <li>Ve a la secci√≥n "Comentarios Internos"</li>
                            <li>Haz clic en "Agregar Comentario"</li>
                            <li>Escribe tu comentario y haz clic en "Guardar"</li>
                        </ol>

                        <div class="success-box">
                            <strong><i class="bi bi-lightbulb me-2"></i>Consejo:</strong>
                            Si tienes dudas sobre c√≥mo responder, es mejor dejar un comentario pidiendo orientaci√≥n que enviar una respuesta incorrecta.
                        </div>
                    </div>
                </section>

                <!-- ========================================== -->
                <!-- SECCI√ìN 7: BUENAS PR√ÅCTICAS -->
                <!-- ========================================== -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-award me-2"></i>
                        Buenas pr√°cticas
                    </h2>

                    <div class="step-card">
                        <h5>Para respuestas efectivas:</h5>
                        <ul class="feature-list">
                            <li>Lee el mensaje completo antes de responder, incluso si es un fragmento</li>
                            <li>Responde directamente al tema planteado</li>
                            <li>Usa un tono emp√°tico y profesional</li>
                            <li>Ofrece soluciones concretas cuando sea posible</li>
                            <li>Si no puedes resolver algo, explica los pasos a seguir</li>
                            <li>Evita tecnicismos o jerga interna</li>
                        </ul>

                        <h5 class="mt-4">Para mantener tiempos de respuesta:</h5>
                        <ul class="feature-list">
                            <li>Revisa tu bandeja al menos una vez al d√≠a</li>
                            <li>Prioriza las solicitudes que llevan m√°s d√≠as</li>
                            <li>Si necesitas m√°s tiempo, deja un comentario explicando por qu√©</li>
                            <li>No dejes solicitudes sin atender por m√°s de 3 d√≠as</li>
                        </ul>

                        <div class="info-box">
                            <strong><i class="bi bi-info-circle me-2"></i>Recuerda:</strong>
                            Detr√°s de cada solicitud hay una persona esperando respuesta. Tu atenci√≥n oportuna refleja el compromiso institucional con la comunidad.
                        </div>
                    </div>
                </section>

                <!-- ========================================== -->
                <!-- SECCI√ìN 8: PREGUNTAS FRECUENTES -->
                <!-- ========================================== -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-chat-dots me-2"></i>
                        Preguntas frecuentes
                    </h2>

                    <div class="step-card">
                        <h5>¬øPor qu√© no veo ninguna solicitud?</h5>
                        <p>
                            Puede ser que: (1) No hay solicitudes asignadas a tus categor√≠as, (2) Los filtros est√°n ocultando solicitudes, o (3) No tienes categor√≠as asignadas como responsable. Verifica los filtros o contacta al equipo TTE.
                        </p>

                        <h5 class="mt-4">¬øPuedo ver el historial de una solicitud?</h5>
                        <p>
                            Puedes ver los comentarios internos que muestran el historial de comunicaci√≥n del equipo. No puedes ver cambios de estado o clasificaci√≥n anteriores.
                        </p>

                        <h5 class="mt-4">¬øQu√© hago si no s√© c√≥mo responder?</h5>
                        <p>
                            Deja un comentario interno explicando tu duda. El equipo TTE puede reasignar la solicitud a otra categor√≠a o darte orientaci√≥n.
                        </p>

                        <h5 class="mt-4">¬øMe notifican cuando me asignan algo?</h5>
                        <p>
                            S√≠, recibes un correo electr√≥nico cuando el equipo TTE asigna una solicitud o fragmento a tu categor√≠a.
                        </p>

                        <h5 class="mt-4">¬øPuedo ver qui√©n aprob√≥ mi respuesta?</h5>
                        <p>
                            No directamente en esta vista. Solo ves que el estado cambi√≥ a "Aprobada". Los detalles de aprobaci√≥n los gestiona el equipo TTE.
                        </p>

                        <h5 class="mt-4">¬øQu√© pasa si me equivoco en la respuesta?</h5>
                        <p>
                            Si a√∫n no fue aprobada, puedes editarla. Si ya fue aprobada y enviada, contacta al equipo TTE para que eval√∫en c√≥mo proceder.
                        </p>
                    </div>
                </section>

                <!-- ========================================== -->
                <!-- TARJETA PARA REPORTAR BUGS -->
                <!-- ========================================== -->
                <div class="bug-report-card">
                    <i class="bi bi-bug-fill icon-large"></i>
                    <h4 class="mb-3">¬øEncontraste un problema o tienes una sugerencia?</h4>
                    <p class="mb-4">
                        Si experimentaste un error, algo no funciona como esperas, o tienes 
                        una sugerencia para mejorar el sistema, rep√≥rtalo aqu√≠.
                    </p>
                    <a href="../report-bug.html" class="btn btn-light btn-lg">
                        <i class="bi bi-exclamation-triangle me-2"></i>Reportar Bug o Problema
                    </a>
                </div>

            </div>
        </div>

    </div>

    <!-- BOT√ìN FLOTANTE PARA REPORTAR BUGS -->
    <a href="../report-bug.html" class="btn btn-danger btn-lg floating-bug-button" title="Reportar Bug">
        <i class="bi bi-bug-fill me-2"></i>Reportar Bug
    </a>

    <!-- SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/js/config.js"></script>
    
    <script>
        // ==========================================
        // VARIABLES GLOBALES
        // ==========================================
        let currentUser = null;

        // ==========================================
        // CONFIGURACI√ìN DE LA P√ÅGINA
        // ==========================================
        const PAGE_CONFIG = {
            moduleName: 'Tilat√° te Escucha',
            modulePath: 'tte',
            pageTitle: 'Responder Solicitudes',
            pagePath: 'respond-requests.html',
            moduleDescription: 'Proponer respuestas a solicitudes asignadas a tu √°rea'
        };

        // ==========================================
        // INICIALIZACI√ìN
        // ==========================================
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üìñ Iniciando p√°gina de manual...');
            
            try {
                // Cargar y aplicar colores corporativos
                if (typeof loadAndApplyBrandColors === 'function') {
                    await loadAndApplyBrandColors();
                }
                
                // Verificar sesi√≥n si la funci√≥n existe
                if (typeof getStoredSession === 'function') {
                    const session = getStoredSession();
                    if (session && session.user) {
                        currentUser = session.user;
                    }
                }
                
                // Actualizar informaci√≥n en la p√°gina
                updatePageInfo();
                
                console.log('‚úÖ P√°gina de manual lista');
                
            } catch (error) {
                console.error('‚ùå Error inicializando p√°gina:', error);
                if (typeof showMessage === 'function') {
                    showMessage('Error al cargar la p√°gina: ' + error.message, 'danger');
                }
            }
        });

        // ==========================================
        // ACTUALIZAR INFORMACI√ìN DE LA P√ÅGINA
        // ==========================================
        function updatePageInfo() {
            document.title = `Manual - ${PAGE_CONFIG.moduleName} - ${PAGE_CONFIG.pageTitle} - SchoolNet`;
        }

        // ==========================================
        // FUNCI√ìN DE MENSAJES
        // ==========================================
        function showMessage(message, type) {
            const alertContainer = document.getElementById('alertContainer');
            if (!alertContainer) return;
            
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} alert-dismissible fade show`;
            alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            alertContainer.appendChild(alertDiv);
            
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 5000);
        }

    </script>
</body>
</html>
