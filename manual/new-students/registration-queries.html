<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- VERSI√ìN DE LA P√ÅGINA -->
    <meta name="page-version" content="25.11.10.16.00">
    
    <title>Manual - Gesti√≥n de Estudiantes Nuevos - Consulta de Registro - SchoolNet</title>
    
    <!-- Bootstrap CSS - VERSI√ìN FIJA PROBADA -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <style>
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .loading-overlay.hidden {
            display: none;
        }
        
        .loading-content {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #007bff;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Encabezado discreto */
        .manual-header {
            background: #f8f9fa;
            border-bottom: 2px solid var(--system-primary-color, #1B365D);
            padding: 1.5rem 0;
            margin-bottom: 2rem;
        }

        .manual-header h1 {
            font-size: 1.75rem;
            color: var(--system-primary-color, #1B365D);
            margin-bottom: 0.25rem;
        }

        .manual-header .subtitle {
            color: #6c757d;
            font-size: 0.95rem;
        }

        /* Info card */
        .info-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        /* Tarjeta para reportar bugs */
        .bug-report-card {
            background: var(--system-secondary-color, #667eea);
            color: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .bug-report-card h5 {
            color: white;
        }

        /* Bot√≥n flotante para reportar bugs */
        .floating-bug-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            background: var(--system-primary-color, #dc3545) !important;
            border-color: var(--system-primary-color, #dc3545) !important;
        }

        .floating-bug-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.4);
            opacity: 0.9;
        }

        .icon-large {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        /* Estilos para el contenido del manual */
        .manual-content {
            background: white;
            border-radius: 8px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
        }
        
        .manual-content h2 {
            color: var(--system-primary-color, #1B365D);
            font-size: 1.5rem;
            font-weight: 700;
            margin-top: 2rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #dee2e6;
        }
        
        .manual-content h2:first-child {
            margin-top: 0;
        }
        
        .manual-content h3 {
            color: #495057;
            font-size: 1.25rem;
            font-weight: 600;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .manual-content p {
            line-height: 1.6;
            margin-bottom: 1rem;
        }
        
        .manual-content ul, .manual-content ol {
            line-height: 1.8;
            margin-bottom: 1rem;
        }
        
        .manual-content li {
            margin-bottom: 0.5rem;
        }
        
        /* Cajas de informaci√≥n */
        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #0d6efd;
            padding: 1rem 1.25rem;
            margin-bottom: 1.5rem;
            border-radius: 4px;
        }
        
        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 1rem 1.25rem;
            margin-bottom: 1.5rem;
            border-radius: 4px;
        }
        
        .danger-box {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 1rem 1.25rem;
            margin-bottom: 1.5rem;
            border-radius: 4px;
        }
        
        .success-box {
            background: #d1e7dd;
            border-left: 4px solid #198754;
            padding: 1rem 1.25rem;
            margin-bottom: 1.5rem;
            border-radius: 4px;
        }
        
        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            background: var(--system-primary-color, #0d6efd);
            color: white;
            border-radius: 50%;
            font-weight: bold;
            margin-right: 0.75rem;
        }
        
        .feature-badge {
            background: var(--system-secondary-color, #6c757d);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.875rem;
            font-weight: 600;
            display: inline-block;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <p class="mb-0">Cargando...</p>
        </div>
    </div>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="container-fluid">

        <!-- ENCABEZADO DISCRETO -->
        <div class="manual-header">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h1>
                            <i class="bi bi-book me-2"></i>
                            Manual: Consulta de Registro
                        </h1>
                        <p class="subtitle mb-0">Visualizaci√≥n del historial de actividades de estudiantes nuevos</p>
                    </div>
                    <div class="col-md-4 text-md-end mt-3 mt-md-0">
                        <a href="../../modules/new-students/registration-queries.html" class="btn btn-outline-primary">
                            <i class="bi bi-arrow-left me-1"></i>Volver al M√≥dulo
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONTENEDOR DE ALERTAS -->
        <div id="alertContainer"></div>

        <div class="row">
            <div class="col-lg-10 mx-auto">

                <!-- INFORMACI√ìN CONTEXTUAL -->
                <div class="info-card">
                    <div class="row align-items-center">
                        <div class="col-md-6">
                            <h6 class="text-muted mb-2">Manual de:</h6>
                            <h5 class="mb-1"><strong id="display-module">Gesti√≥n de Estudiantes Nuevos</strong></h5>
                            <p class="text-muted mb-0 small" id="display-page">Consulta de Registro</p>
                        </div>
                        <div class="col-md-6 text-md-end mt-3 mt-md-0">
                            <p class="small text-muted mb-0">
                                <i class="bi bi-info-circle me-1"></i>
                                Si tienes dudas o encuentras alg√∫n problema,<br>
                                puedes reportarlo usando el bot√≥n de abajo.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- CONTENIDO DEL MANUAL -->
                <div class="manual-content">
                
                    <!-- ¬øQU√â ES? -->
                    <h2><i class="bi bi-question-circle me-2"></i>¬øQu√© es la Consulta de Registro?</h2>
                    
                    <p>
                        La funci√≥n de <strong>Consulta de Registro</strong> te permite ver el historial completo de 
                        actividades que ha realizado cada estudiante nuevo durante su proceso de inculturaci√≥n. Es como 
                        tener un expediente digital detallado de todo lo que ha pasado con cada familia desde que 
                        ingresaron al colegio.
                    </p>
                    
                    <div class="info-box">
                        <strong><i class="bi bi-lightbulb me-2"></i>¬øPara qu√© sirve?</strong>
                        Esta funci√≥n es esencial para hacer seguimiento del progreso de cada estudiante, coordinar el 
                        trabajo entre diferentes actores, identificar qu√© actividades faltan por completar, preparar 
                        reuniones con padres o directivos, generar reportes de gesti√≥n y mantener evidencia documentada 
                        del proceso de cada familia.
                    </div>

                    <p>
                        La consulta muestra toda la informaci√≥n relevante: qu√© actividades se han completado, cu√°ndo 
                        se realizaron, qui√©n fue el responsable, qu√© detalles se documentaron, y si hay documentos 
                        adjuntos relacionados. Adem√°s, puedes exportar esta informaci√≥n a un archivo para an√°lisis 
                        externo o para compartir con otras personas.
                    </p>

                    <!-- CARACTER√çSTICAS -->
                    <h2><i class="bi bi-stars me-2"></i>Caracter√≠sticas principales</h2>
                    
                    <p>Esta funci√≥n ofrece:</p>
                    
                    <ul>
                        <li><strong>Selector de estudiantes intuitivo:</strong> Lista desplegable con todos los estudiantes nuevos, mostrando nombre completo y curso.</li>
                        <li><strong>Informaci√≥n visual del estudiante:</strong> Al seleccionar un estudiante, aparece su foto, nombre completo y curso en un recuadro destacado.</li>
                        <li><strong>Historial cronol√≥gico completo:</strong> Tabla ordenada por fecha (m√°s reciente primero) con todas las actividades registradas.</li>
                        <li><strong>Detalles de cada actividad:</strong> Cada registro muestra fecha de realizaci√≥n, nombre de la actividad, descripci√≥n detallada, documento adjunto (si existe), y nombre del responsable.</li>
                        <li><strong>Acceso directo a documentos:</strong> Si una actividad tiene un documento de Google Drive adjunto, puedes abrirlo con un solo clic.</li>
                        <li><strong>Exportaci√≥n a CSV:</strong> Descarga toda la informaci√≥n del estudiante en formato Excel/CSV para an√°lisis externo o reportes.</li>
                        <li><strong>Filtros por fecha:</strong> Opci√≥n para ver solo las actividades realizadas en un rango de fechas espec√≠fico.</li>
                        <li><strong>Estad√≠sticas r√°pidas:</strong> Resumen autom√°tico mostrando total de registros, n√∫mero de actividades diferentes realizadas, y porcentaje de documentaci√≥n.</li>
                        <li><strong>Dise√±o responsive:</strong> Funciona perfectamente en computadoras, tablets y celulares.</li>
                        <li><strong>Atajos de teclado:</strong> Para usuarios avanzados que quieren trabajar m√°s r√°pido.</li>
                    </ul>
                    
                    <div class="success-box">
                        <strong><i class="bi bi-check-circle me-2"></i>Ventaja clave:</strong>
                        Tener acceso inmediato y visual a todo el historial de un estudiante te permite tomar decisiones 
                        informadas, evitar duplicar esfuerzos, identificar √°reas que necesitan atenci√≥n, y demostrar 
                        profesionalismo al tener toda la informaci√≥n al alcance de la mano.
                    </div>

                    <!-- ANTES DE COMENZAR -->
                    <h2><i class="bi bi-exclamation-triangle me-2"></i>Antes de comenzar</h2>
                    
                    <div class="warning-box">
                        <strong><i class="bi bi-shield-check me-2"></i>Importante:</strong>
                        Esta funci√≥n es de solo lectura. Aqu√≠ puedes consultar y exportar informaci√≥n, pero no puedes 
                        modificar, agregar o eliminar registros. Para agregar actividades, usa la funci√≥n "Registrar 
                        Actividades" del m√≥dulo.
                    </div>
                    
                    <p><strong>Ten en cuenta:</strong></p>
                    
                    <ul>
                        <li>Solo aparecen en la lista los estudiantes que han sido <strong>reportados como nuevos</strong>. Si un estudiante no aparece, puede que a√∫n no haya sido reportado en el sistema.</li>
                        <li>Si un estudiante no tiene actividades registradas, ver√°s un mensaje que dice "No hay actividades registradas". Esto es normal para estudiantes reci√©n ingresados.</li>
                        <li>Los registros se muestran ordenados por <strong>fecha m√°s reciente primero</strong>, para que veas lo √∫ltimo que pas√≥ con el estudiante.</li>
                        <li>Las descripciones de las actividades pueden contener formato (negritas, listas, etc.) porque fueron escritas con un editor de texto enriquecido.</li>
                        <li>Los documentos adjuntos se abren en una <strong>nueva pesta√±a</strong> del navegador. Aseg√∫rate de que tu navegador no est√© bloqueando ventanas emergentes.</li>
                        <li>La funci√≥n de exportar genera un archivo CSV que puedes abrir con Excel, Google Sheets o cualquier programa de hojas de c√°lculo.</li>
                        <li>Las fotos de los estudiantes se cargan desde el sistema central. Si una foto no aparece, no es un error de esta funci√≥n sino que el estudiante no tiene foto en el sistema.</li>
                    </ul>

                    <!-- GU√çA PASO A PASO -->
                    <h2><i class="bi bi-list-ol me-2"></i>Gu√≠a paso a paso</h2>
                    
                    <h3>Consultar el historial de un estudiante</h3>
                    
                    <p>
                        <span class="step-number">1</span>
                        <strong>Abre la p√°gina de consulta.</strong> Ver√°s un selector de estudiantes en la parte 
                        superior y un mensaje que dice "Seleccione un estudiante para ver sus registros".
                    </p>
                    
                    <p>
                        <span class="step-number">2</span>
                        <strong>Selecciona un estudiante de la lista desplegable.</strong> Haz clic en el campo que 
                        dice "Seleccione un estudiante..." y elige el estudiante cuyo historial quieres consultar. 
                        Los estudiantes aparecen con el formato: "Nombre Completo (Curso)".
                    </p>
                    
                    <div class="info-box">
                        <strong><i class="bi bi-info-circle me-2"></i>Tip de b√∫squeda:</strong>
                        Si la lista es larga, puedes comenzar a escribir el nombre del estudiante despu√©s de hacer 
                        clic en el selector. La mayor√≠a de navegadores tienen b√∫squeda autom√°tica en listas 
                        desplegables.
                    </div>
                    
                    <p>
                        <span class="step-number">3</span>
                        <strong>Observa la informaci√≥n del estudiante.</strong> Inmediatamente despu√©s de seleccionar, 
                        aparecer√° un recuadro mostrando:
                    </p>
                    
                    <ul>
                        <li>Foto del estudiante (a la izquierda)</li>
                        <li>Nombre completo en azul (a la derecha)</li>
                        <li>Curso al que pertenece</li>
                    </ul>
                    
                    <p>
                        <span class="step-number">4</span>
                        <strong>Revisa el historial de actividades.</strong> M√°s abajo ver√°s la secci√≥n "Historial de 
                        Actividades" con una tabla que contiene todos los registros del estudiante. La tabla tiene 5 
                        columnas:
                    </p>
                    
                    <ul>
                        <li><strong>Fecha:</strong> Cu√°ndo se realiz√≥ la actividad (formato d√≠a/mes/a√±o)</li>
                        <li><strong>Actividad:</strong> Nombre de la actividad realizada</li>
                        <li><strong>Descripci√≥n:</strong> Detalles documentados sobre la actividad</li>
                        <li><strong>Documento:</strong> √çcono de documento si hay algo adjunto</li>
                        <li><strong>Responsable:</strong> Qui√©n registr√≥ la actividad</li>
                    </ul>
                    
                    <p>
                        <span class="step-number">5</span>
                        <strong>Lee los detalles de cada actividad.</strong> Si alguna descripci√≥n es larga, ver√°s una 
                        barra de desplazamiento peque√±a a la derecha de la celda. Puedes hacer scroll dentro de esa 
                        celda para leer todo el contenido sin que se desordene la tabla.
                    </p>
                    
                    <p>
                        <span class="step-number">6</span>
                        <strong>Abre documentos adjuntos si los hay.</strong> Si ves un √≠cono celeste de documento en 
                        la columna "Documento", puedes hacer clic en √©l para abrir el archivo de Google Drive en una 
                        nueva pesta√±a. Si dice "Sin documento", significa que esa actividad no tiene archivo adjunto.
                    </p>
                    
                    <p>
                        <span class="step-number">7</span>
                        <strong>Revisa las estad√≠sticas r√°pidas.</strong> Debajo de la tabla, ver√°s un recuadro azul 
                        claro con estad√≠sticas del estudiante:
                    </p>
                    
                    <ul>
                        <li>Total de registros (cu√°ntas actividades se han documentado)</li>
                        <li>Actividades diferentes (cu√°ntas actividades distintas ha completado)</li>
                        <li>Con documento (cu√°ntas actividades tienen archivos adjuntos)</li>
                        <li>Porcentaje de documentaci√≥n (qu√© tan bien documentado est√° el proceso)</li>
                    </ul>
                    
                    <div class="success-box">
                        <strong><i class="bi bi-trophy me-2"></i>¬°Consulta completada!</strong>
                        Ya tienes una visi√≥n completa del proceso de este estudiante. Puedes cambiar a otro estudiante 
                        en cualquier momento usando el selector de arriba.
                    </div>
                    
                    <h3>Exportar los registros a un archivo</h3>
                    
                    <p>
                        Si necesitas el historial en formato de hoja de c√°lculo para an√°lisis o para compartir:
                    </p>
                    
                    <p>
                        <span class="step-number">1</span>
                        <strong>Aseg√∫rate de haber seleccionado el estudiante</strong> cuyos registros quieres exportar.
                    </p>
                    
                    <p>
                        <span class="step-number">2</span>
                        <strong>Ubica el bot√≥n "Exportar"</strong> en color verde que aparece en la esquina superior 
                        derecha de la secci√≥n "Historial de Actividades", justo al lado del t√≠tulo.
                    </p>
                    
                    <p>
                        <span class="step-number">3</span>
                        <strong>Haz clic en el bot√≥n "Exportar".</strong> El navegador descargar√° autom√°ticamente un 
                        archivo CSV con nombre: Registros_NombreEstudiante_Fecha.csv
                    </p>
                    
                    <p>
                        <span class="step-number">4</span>
                        <strong>Abre el archivo descargado</strong> con Excel, Google Sheets o tu programa de hojas de 
                        c√°lculo preferido. El archivo contendr√° toda la informaci√≥n visible en la tabla: fecha, 
                        actividad, descripci√≥n (sin formato HTML), URL del documento, y responsable.
                    </p>
                    
                    <div class="warning-box">
                        <strong><i class="bi bi-file-earmark-spreadsheet me-2"></i>Nota sobre formato:</strong>
                        El archivo CSV es texto plano compatible con cualquier programa de hojas de c√°lculo. Si las 
                        columnas no se separan correctamente al abrirlo en Excel, usa "Datos > Texto en columnas" y 
                        selecciona "Delimitado por comas".
                    </div>
                    
                    <h3>Filtrar por rango de fechas</h3>
                    
                    <p>
                        Si solo necesitas ver actividades de un per√≠odo espec√≠fico:
                    </p>
                    
                    <p>
                        <span class="step-number">1</span>
                        <strong>Haz clic en el bot√≥n "Filtrar"</strong> que aparece junto al bot√≥n "Exportar" en la 
                        parte superior de la tabla de registros.
                    </p>
                    
                    <p>
                        <span class="step-number">2</span>
                        <strong>Ingresa la fecha de inicio (opcional).</strong> Aparecer√° una ventana preguntando 
                        "Fecha inicio (YYYY-MM-DD) - opcional:". Escribe la fecha desde la cual quieres ver registros 
                        en formato a√±o-mes-d√≠a, por ejemplo: 2024-01-15
                    </p>
                    
                    <p>
                        <span class="step-number">3</span>
                        <strong>Ingresa la fecha de fin (opcional).</strong> Te preguntar√° "Fecha fin (YYYY-MM-DD) - 
                        opcional:". Escribe hasta qu√© fecha quieres ver registros. Puedes dejar una o ambas fechas 
                        vac√≠as y el sistema ajustar√° el filtro en consecuencia.
                    </p>
                    
                    <p>
                        <span class="step-number">4</span>
                        <strong>Revisa los resultados filtrados.</strong> La tabla se actualizar√° mostrando solo las 
                        actividades dentro del rango de fechas especificado. Ver√°s un mensaje indicando cu√°ntos 
                        registros se muestran del total.
                    </p>
                    
                    <p>
                        <span class="step-number">5</span>
                        <strong>Para quitar el filtro,</strong> simplemente cambia de estudiante en el selector y 
                        vuelve a seleccionar el mismo estudiante. Esto recargar√° todos los registros sin filtro.
                    </p>
                    
                    <h3>Usar atajos de teclado (usuarios avanzados)</h3>
                    
                    <p>
                        Para trabajar m√°s r√°pido, puedes usar estos atajos:
                    </p>
                    
                    <ul>
                        <li><strong>Alt + E:</strong> Exportar los registros del estudiante actual</li>
                        <li><strong>Alt + F:</strong> Abrir filtros de fecha</li>
                        <li><strong>Alt + R:</strong> Limpiar selecci√≥n (volver al estado inicial)</li>
                    </ul>

                    <!-- SOLUCI√ìN DE PROBLEMAS -->
                    <h2><i class="bi bi-tools me-2"></i>Soluci√≥n de problemas comunes</h2>
                    
                    <h3>No aparecen estudiantes en la lista desplegable</h3>
                    <p>
                        <strong>Causa:</strong> No hay estudiantes reportados como "nuevos" en el sistema.
                    </p>
                    <p>
                        <strong>Soluci√≥n:</strong> Esto significa que a√∫n no se ha reportado ning√∫n estudiante como 
                        nuevo. Ve a la funci√≥n "Reporte de Estudiantes Nuevos" y registra al menos un estudiante para 
                        que aparezca aqu√≠. Si crees que s√≠ hay estudiantes nuevos registrados, contacta al administrador 
                        del sistema.
                    </p>
                    
                    <h3>La foto del estudiante no aparece</h3>
                    <p>
                        <strong>Causa:</strong> El estudiante no tiene foto cargada en el sistema o hay problemas de 
                        conexi√≥n.
                    </p>
                    <p>
                        <strong>Soluci√≥n:</strong> Esto no afecta la funcionalidad. Ver√°s un recuadro que dice "Sin 
                        foto disponible". Puedes continuar consultando normalmente. Si crees que la foto deber√≠a estar, 
                        verifica en el m√≥dulo de estudiantes que la foto est√© correctamente cargada.
                    </p>
                    
                    <h3>Un estudiante no tiene actividades registradas</h3>
                    <p>
                        <strong>Causa:</strong> El estudiante fue reportado como nuevo pero a√∫n no se ha registrado 
                        ninguna actividad para √©l.
                    </p>
                    <p>
                        <strong>Soluci√≥n:</strong> Esto es normal para estudiantes reci√©n ingresados. Ver√°s el mensaje 
                        "No hay actividades registradas". Los actores deben usar la funci√≥n "Registrar Actividades" 
                        para comenzar a documentar el proceso de este estudiante.
                    </p>
                    
                    <h3>No puedo abrir un documento adjunto</h3>
                    <p>
                        <strong>Causas posibles:</strong> El documento fue eliminado de Google Drive, los permisos del 
                        documento no te permiten acceso, o tu navegador bloque√≥ la ventana emergente.
                    </p>
                    <p>
                        <strong>Soluci√≥n:</strong> Primero, verifica que tu navegador permita abrir nuevas pesta√±as 
                        desde este sitio. Si el problema persiste, contacta a la persona que registr√≥ esa actividad 
                        (aparece en la columna "Responsable") para que verifique el enlace o te comparta acceso al 
                        documento.
                    </p>
                    
                    <h3>El bot√≥n "Exportar" no aparece</h3>
                    <p>
                        <strong>Causa:</strong> El estudiante seleccionado no tiene registros para exportar, o la 
                        p√°gina no termin√≥ de cargar completamente.
                    </p>
                    <p>
                        <strong>Soluci√≥n:</strong> El bot√≥n "Exportar" solo aparece cuando hay al menos un registro 
                        que exportar. Si seleccionaste un estudiante que tiene actividades pero no ves el bot√≥n, 
                        recarga la p√°gina (F5) e intenta nuevamente.
                    </p>
                    
                    <h3>Las descripciones se ven con c√≥digo HTML</h3>
                    <p>
                        <strong>Causa:</strong> Problema de renderizado del navegador.
                    </p>
                    <p>
                        <strong>Soluci√≥n:</strong> Recarga la p√°gina (F5). Si el problema persiste, intenta usar otro 
                        navegador como Chrome o Firefox. El sistema est√° dise√±ado para mostrar las descripciones con 
                        formato, no como c√≥digo.
                    </p>
                    
                    <h3>Los filtros por fecha no funcionan</h3>
                    <p>
                        <strong>Causa:</strong> El formato de fecha ingresado no es correcto.
                    </p>
                    <p>
                        <strong>Soluci√≥n:</strong> Aseg√∫rate de escribir las fechas en formato YYYY-MM-DD (a√±o-mes-d√≠a 
                        con guiones). Por ejemplo: 2024-03-15 para el 15 de marzo de 2024. No uses barras ni otros 
                        separadores. Si cancelaste por error, vuelve a hacer clic en "Filtrar" e intenta de nuevo.
                    </p>
                    
                    <h3>El archivo exportado se descarga pero no puedo abrirlo</h3>
                    <p>
                        <strong>Causa:</strong> Tu programa de hojas de c√°lculo no est√° configurado para abrir archivos 
                        CSV autom√°ticamente.
                    </p>
                    <p>
                        <strong>Soluci√≥n:</strong> Abre Excel o Google Sheets primero, luego usa "Archivo > Abrir" y 
                        selecciona el archivo descargado. Si est√°s en Google Sheets, puedes arrastrarlo directamente 
                        a tu Google Drive y abrirlo desde ah√≠.
                    </p>
                    
                    <h3>Las estad√≠sticas muestran n√∫meros incorrectos</h3>
                    <p>
                        <strong>Causa:</strong> Problema temporal de c√°lculo o visualizaci√≥n.
                    </p>
                    <p>
                        <strong>Soluci√≥n:</strong> Cambia a otro estudiante y vuelve al anterior. Esto forzar√° un 
                        rec√°lculo de las estad√≠sticas. Si los n√∫meros siguen pareciendo incorrectos, cuenta manualmente 
                        las filas de la tabla para verificar. Si hay discrepancia, rep√≥rtalo como bug.
                    </p>

                    <!-- BUENAS PR√ÅCTICAS -->
                    <h2><i class="bi bi-award me-2"></i>Buenas pr√°cticas recomendadas</h2>
                    
                    <ul>
                        <li>
                            <strong>Consulta el historial antes de reuniones importantes:</strong> Antes de reunirte 
                            con padres de familia o con el equipo directivo sobre un estudiante, revisa su historial 
                            completo aqu√≠ para tener toda la informaci√≥n fresca en tu mente.
                        </li>
                        <li>
                            <strong>Usa esta funci√≥n para coordinaci√≥n:</strong> Si varios actores trabajan con el 
                            mismo estudiante, consulta regularmente su historial para saber qu√© han hecho otros y evitar 
                            duplicar esfuerzos o contradecir informaci√≥n.
                        </li>
                        <li>
                            <strong>Exporta para reportes peri√≥dicos:</strong> Si necesitas presentar informes mensuales 
                            o trimestrales a la direcci√≥n, exporta los registros de todos los estudiantes relevantes y 
                            compila la informaci√≥n en un solo documento.
                        </li>
                        <li>
                            <strong>Verifica la documentaci√≥n adjunta:</strong> Cuando revises un historial, abre los 
                            documentos adjuntos para ver evidencias completas de las actividades. Esto es especialmente 
                            √∫til para auditor√≠as o evaluaciones de calidad.
                        </li>
                        <li>
                            <strong>Usa los filtros de fecha estrat√©gicamente:</strong> Si necesitas reportar solo 
                            actividades de un mes espec√≠fico, usa los filtros en lugar de revisar todo manualmente. 
                            Te ahorrar√° mucho tiempo.
                        </li>
                        <li>
                            <strong>Identifica patrones de progreso:</strong> Al revisar varios estudiantes, f√≠jate 
                            en patrones: ¬øhay actividades que consistentemente no se documentan bien? ¬øAlgunos actores 
                            documentan mejor que otros? Usa esta informaci√≥n para mejorar el proceso.
                        </li>
                        <li>
                            <strong>Mant√©n actualizados los registros desde la otra funci√≥n:</strong> Recuerda que 
                            esta funci√≥n solo muestra lo que otros han registrado. Si ves vac√≠os o informaci√≥n faltante, 
                            coordina con el equipo para asegurar que todos registren sus actividades oportunamente.
                        </li>
                        <li>
                            <strong>Aprovecha las estad√≠sticas para evaluaci√≥n:</strong> El porcentaje de documentaci√≥n 
                            te indica qu√© tan bien se est√° documentando el proceso. Un porcentaje bajo puede indicar 
                            que los actores no est√°n adjuntando documentos cuando deber√≠an.
                        </li>
                        <li>
                            <strong>Imprime o guarda PDFs para casos especiales:</strong> Para estudiantes con 
                            situaciones complejas, considera exportar su historial y convertirlo a PDF peri√≥dicamente 
                            como respaldo o para expedientes f√≠sicos.
                        </li>
                        <li>
                            <strong>Ense√±a al equipo a interpretar la informaci√≥n:</strong> Aseg√∫rate de que todos 
                            los actores sepan c√≥mo leer e interpretar correctamente la informaci√≥n del historial. La 
                            columna "Responsable" es clave para saber a qui√©n preguntar por detalles adicionales.
                        </li>
                    </ul>

                    <!-- PREGUNTAS FRECUENTES -->
                    <h2><i class="bi bi-question-circle me-2"></i>Preguntas frecuentes</h2>
                    
                    <h3>¬øPuedo editar o borrar registros desde esta funci√≥n?</h3>
                    <p>
                        No. Esta funci√≥n es de solo lectura y consulta. Los registros son permanentes por dise√±o para 
                        mantener la integridad del historial. Si necesitas corregir un error en un registro, contacta 
                        al administrador del sistema.
                    </p>
                    
                    <h3>¬øLos registros se actualizan en tiempo real?</h3>
                    <p>
                        Casi. Cuando cambias de un estudiante a otro, el sistema consulta la informaci√≥n m√°s reciente 
                        de la base de datos. Si alguien m√°s registr√≥ una actividad mientras ten√≠as abierta la p√°gina, 
                        la ver√°s cuando vuelvas a seleccionar ese estudiante o cuando recargues la p√°gina.
                    </p>
                    
                    <h3>¬øPuedo consultar el historial de estudiantes que ya terminaron el proceso?</h3>
                    <p>
                        Depende. Si el estudiante sigue apareciendo en la lista de estudiantes nuevos, puedes consultar 
                        su historial normalmente. Si ya fue dado de baja o marcado como completado en el sistema y 
                        removido de la lista activa, no aparecer√° aqu√≠. Consulta con el administrador para acceso a 
                        historiales archivados.
                    </p>
                    
                    <h3>¬øQu√© significa el porcentaje de documentaci√≥n?</h3>
                    <p>
                        Es el porcentaje de actividades que tienen un documento adjunto. Si un estudiante tiene 10 
                        actividades registradas y 7 tienen documento adjunto, el porcentaje es 70%. Un porcentaje alto 
                        indica buena documentaci√≥n del proceso.
                    </p>
                    
                    <h3>¬øLas descripciones largas se exportan completas?</h3>
                    <p>
                        S√≠. Cuando exportas, las descripciones completas se incluyen en el archivo CSV, aunque est√©n 
                        truncadas en la vista de la tabla. La √∫nica diferencia es que en el archivo exportado se elimina 
                        el formato HTML para que sea m√°s f√°cil de leer en hojas de c√°lculo.
                    </p>
                    
                    <h3>¬øPuedo consultar varios estudiantes a la vez?</h3>
                    <p>
                        No directamente. Debes seleccionar un estudiante a la vez. Sin embargo, puedes abrir varias 
                        pesta√±as o ventanas del navegador con esta funci√≥n para comparar historiales de diferentes 
                        estudiantes lado a lado.
                    </p>
                    
                    <h3>¬øPor qu√© algunos nombres de responsables aparecen incompletos?</h3>
                    <p>
                        El sistema muestra nombre y primer apellido del responsable. Si necesitas contactar a esa 
                        persona y no sabes qui√©n es, usa el m√≥dulo de Recursos Humanos para buscar por nombre o pregunta 
                        a tu coordinador.
                    </p>
                    
                    <h3>¬øPuedo imprimir el historial directamente?</h3>
                    <p>
                        S√≠. Usa la funci√≥n de impresi√≥n del navegador (Ctrl+P o Cmd+P). La p√°gina est√° dise√±ada para 
                        imprimirse razonablemente bien, aunque para reportes formales es mejor exportar a CSV y dar 
                        formato en Excel o Word.
                    </p>
                    
                    <h3>¬øLos filtros afectan la exportaci√≥n?</h3>
                    <p>
                        No actualmente. Si aplicas filtros y luego exportas, el archivo contendr√° todos los registros 
                        del estudiante, no solo los filtrados. Si necesitas exportar solo un rango de fechas espec√≠fico, 
                        exporta todo y luego filtra en Excel.
                    </p>
                    
                    <h3>¬øHay un l√≠mite de cu√°ntos registros puede tener un estudiante?</h3>
                    <p>
                        No hay l√≠mite t√©cnico. Un estudiante puede tener tantos registros como actividades se hayan 
                        documentado. Sin embargo, si un estudiante tiene m√°s de 50-100 registros, la p√°gina puede 
                        tardar un poco m√°s en cargar. Esto ser√≠a inusual y podr√≠a indicar duplicados o sobre-registro.
                    </p>
                    
                    <h3>¬øOtros actores pueden ver los registros que yo hice?</h3>
                    <p>
                        S√≠. Todos los actores con acceso al m√≥dulo pueden ver los registros de todos los estudiantes, 
                        independientemente de qui√©n los haya creado. Esto es intencional para facilitar el trabajo en 
                        equipo y la transparencia del proceso.
                    </p>
                    
                    <h3>¬øPuedo compartir el archivo exportado con personas fuera del sistema?</h3>
                    <p>
                        Ten cuidado con la confidencialidad. El archivo exportado contiene informaci√≥n sensible de 
                        estudiantes y familias. Solo comp√°rtelo con personas autorizadas que tengan necesidad de conocer 
                        esa informaci√≥n (directivos, otros docentes involucrados, etc.). No lo compartas por correo sin 
                        protecci√≥n o en redes sociales.
                    </p>

                </div>

                <!-- TARJETA PARA REPORTAR BUGS -->
                <div class="bug-report-card">
                    <i class="bi bi-bug-fill icon-large"></i>
                    <h4 class="mb-3">¬øEncontraste un problema o tienes una sugerencia?</h4>
                    <p class="mb-4">
                        Si experimentaste un error, algo no funciona como esperas, o tienes 
                        una sugerencia para mejorar el sistema, rep√≥rtalo aqu√≠.
                    </p>
                    <a href="../report-bug.html" class="btn btn-light btn-lg">
                        <i class="bi bi-exclamation-triangle me-2"></i>Reportar Bug o Problema
                    </a>
                </div>

            </div>
        </div>

    </div>

    <!-- BOT√ìN FLOTANTE PARA REPORTAR BUGS -->
    <a href="../report-bug.html" class="btn btn-danger btn-lg floating-bug-button" title="Reportar Bug">
        <i class="bi bi-bug-fill me-2"></i>Reportar Bug
    </a>

    <!-- SCRIPTS - ORDEN CR√çTICO -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/js/config.js"></script>
    
    <script>
        // ==========================================
        // VARIABLES GLOBALES
        // ==========================================
        let currentUser = null;

        // ==========================================
        // CONFIGURACI√ìN DE LA P√ÅGINA
        // ==========================================
        const PAGE_CONFIG = {
            moduleName: 'Gesti√≥n de Estudiantes Nuevos',
            modulePath: 'new-students',
            pageTitle: 'Consulta de Registro',
            pagePath: 'registration-queries.html',
            moduleDescription: 'Visualizaci√≥n del historial de actividades de estudiantes nuevos'
        };

        // ==========================================
        // INICIALIZACI√ìN
        // ==========================================
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üìñ Iniciando p√°gina de manual...');
            
            try {
                // Verificar si existe la funci√≥n de colores corporativos
                if (typeof loadAndApplyBrandColors === 'function') {
                    await loadAndApplyBrandColors();
                }
                
                // Verificar sesi√≥n si la funci√≥n existe
                if (typeof getStoredSession === 'function') {
                    const session = getStoredSession();
                    if (session && session.user) {
                        currentUser = session.user;
                    }
                }
                
                // Actualizar informaci√≥n en la p√°gina
                updatePageInfo();
                
                console.log('‚úÖ P√°gina de manual lista');
                
            } catch (error) {
                console.error('‚ùå Error inicializando p√°gina:', error);
                if (typeof showMessage === 'function') {
                    showMessage('Error al cargar la p√°gina: ' + error.message, 'danger');
                }
            }
        });

        // ==========================================
        // ACTUALIZAR INFORMACI√ìN DE LA P√ÅGINA
        // ==========================================
        function updatePageInfo() {
            // Actualizar title
            document.title = `Manual - ${PAGE_CONFIG.moduleName} - ${PAGE_CONFIG.pageTitle} - SchoolNet`;
        }

        // ==========================================
        // UTILIDADES DE LOADING
        // ==========================================
        function showLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.remove('hidden');
            }
        }

        function hideLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.add('hidden');
            }
        }

        // ==========================================
        // FUNCI√ìN DE MENSAJES
        // ==========================================
        function showMessage(message, type) {
            const alertContainer = document.getElementById('alertContainer');
            if (!alertContainer) return;
            
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} alert-dismissible fade show`;
            alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            alertContainer.appendChild(alertDiv);
            
            // Auto-remove despu√©s de 5 segundos
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 5000);
        }

    </script>
</body>
</html>
