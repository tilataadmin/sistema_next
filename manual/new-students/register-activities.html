<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- VERSI√ìN DE LA P√ÅGINA -->
    <meta name="page-version" content="25.11.10.15.30">
    
    <title>Manual - Gesti√≥n de Estudiantes Nuevos - Registrar Actividades - SchoolNet</title>
    
    <!-- Bootstrap CSS - VERSI√ìN FIJA PROBADA -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <style>
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .loading-overlay.hidden {
            display: none;
        }
        
        .loading-content {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #007bff;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Encabezado discreto */
        .manual-header {
            background: #f8f9fa;
            border-bottom: 2px solid var(--system-primary-color, #1B365D);
            padding: 1.5rem 0;
            margin-bottom: 2rem;
        }

        .manual-header h1 {
            font-size: 1.75rem;
            color: var(--system-primary-color, #1B365D);
            margin-bottom: 0.25rem;
        }

        .manual-header .subtitle {
            color: #6c757d;
            font-size: 0.95rem;
        }

        /* Info card */
        .info-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        /* Tarjeta para reportar bugs */
        .bug-report-card {
            background: var(--system-secondary-color, #667eea);
            color: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .bug-report-card h5 {
            color: white;
        }

        /* Bot√≥n flotante para reportar bugs */
        .floating-bug-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            background: var(--system-primary-color, #dc3545) !important;
            border-color: var(--system-primary-color, #dc3545) !important;
        }

        .floating-bug-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.4);
            opacity: 0.9;
        }

        .icon-large {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        /* Estilos para el contenido del manual */
        .manual-content {
            background: white;
            border-radius: 8px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
        }
        
        .manual-content h2 {
            color: var(--system-primary-color, #1B365D);
            font-size: 1.5rem;
            font-weight: 700;
            margin-top: 2rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #dee2e6;
        }
        
        .manual-content h2:first-child {
            margin-top: 0;
        }
        
        .manual-content h3 {
            color: #495057;
            font-size: 1.25rem;
            font-weight: 600;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .manual-content p {
            line-height: 1.6;
            margin-bottom: 1rem;
        }
        
        .manual-content ul, .manual-content ol {
            line-height: 1.8;
            margin-bottom: 1rem;
        }
        
        .manual-content li {
            margin-bottom: 0.5rem;
        }
        
        /* Cajas de informaci√≥n */
        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #0d6efd;
            padding: 1rem 1.25rem;
            margin-bottom: 1.5rem;
            border-radius: 4px;
        }
        
        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 1rem 1.25rem;
            margin-bottom: 1.5rem;
            border-radius: 4px;
        }
        
        .danger-box {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 1rem 1.25rem;
            margin-bottom: 1.5rem;
            border-radius: 4px;
        }
        
        .success-box {
            background: #d1e7dd;
            border-left: 4px solid #198754;
            padding: 1rem 1.25rem;
            margin-bottom: 1.5rem;
            border-radius: 4px;
        }
        
        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            background: var(--system-primary-color, #0d6efd);
            color: white;
            border-radius: 50%;
            font-weight: bold;
            margin-right: 0.75rem;
        }
        
        .feature-badge {
            background: var(--system-secondary-color, #6c757d);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.875rem;
            font-weight: 600;
            display: inline-block;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <p class="mb-0">Cargando...</p>
        </div>
    </div>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="container-fluid">

        <!-- ENCABEZADO DISCRETO -->
        <div class="manual-header">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h1>
                            <i class="bi bi-book me-2"></i>
                            Manual: Registrar Actividades
                        </h1>
                        <p class="subtitle mb-0">Documentaci√≥n de actividades completadas por estudiantes nuevos</p>
                    </div>
                    <div class="col-md-4 text-md-end mt-3 mt-md-0">
                        <a href="../../modules/new-students/register-activities.html" class="btn btn-outline-primary">
                            <i class="bi bi-arrow-left me-1"></i>Volver al M√≥dulo
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONTENEDOR DE ALERTAS -->
        <div id="alertContainer"></div>

        <div class="row">
            <div class="col-lg-10 mx-auto">

                <!-- INFORMACI√ìN CONTEXTUAL -->
                <div class="info-card">
                    <div class="row align-items-center">
                        <div class="col-md-6">
                            <h6 class="text-muted mb-2">Manual de:</h6>
                            <h5 class="mb-1"><strong id="display-module">Gesti√≥n de Estudiantes Nuevos</strong></h5>
                            <p class="text-muted mb-0 small" id="display-page">Registrar Actividades</p>
                        </div>
                        <div class="col-md-6 text-md-end mt-3 mt-md-0">
                            <p class="small text-muted mb-0">
                                <i class="bi bi-info-circle me-1"></i>
                                Si tienes dudas o encuentras alg√∫n problema,<br>
                                puedes reportarlo usando el bot√≥n de abajo.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- CONTENIDO DEL MANUAL -->
                <div class="manual-content">
                
                    <!-- ¬øQU√â ES? -->
                    <h2><i class="bi bi-question-circle me-2"></i>¬øQu√© es Registrar Actividades?</h2>
                    
                    <p>
                        La funci√≥n de <strong>Registrar Actividades</strong> permite documentar cuando un estudiante 
                        nuevo completa una actividad espec√≠fica del proceso de inculturaci√≥n. Cada vez que realizas 
                        una entrevista, una visita guiada, una reuni√≥n con padres, o cualquier otra actividad del 
                        proceso con un estudiante, debes registrarla aqu√≠ para llevar un seguimiento formal de su 
                        progreso.
                    </p>
                    
                    <div class="info-box">
                        <strong><i class="bi bi-lightbulb me-2"></i>¬øPor qu√© es importante?</strong>
                        Registrar las actividades permite tener un historial completo del proceso de cada estudiante, 
                        facilita el trabajo en equipo (todos los actores ven qu√© se ha hecho), genera evidencia 
                        documentada del proceso, y permite a los directivos hacer seguimiento y an√°lisis estad√≠stico 
                        del proceso de inculturaci√≥n.
                    </p>

                    <p>
                        Esta funci√≥n tiene caracter√≠sticas avanzadas como <strong>b√∫squeda inteligente de estudiantes</strong> 
                        con autocompletado, un <strong>editor de texto enriquecido</strong> para describir detalles, 
                        visualizaci√≥n autom√°tica de fotos del estudiante, y la posibilidad de adjuntar enlaces a 
                        documentos de Google Drive relacionados.
                    </p>

                    <!-- CARACTER√çSTICAS -->
                    <h2><i class="bi bi-stars me-2"></i>Caracter√≠sticas principales</h2>
                    
                    <p>Esta funci√≥n ofrece:</p>
                    
                    <ul>
                        <li><strong>B√∫squeda inteligente de estudiantes:</strong> Escribe parte del nombre o apellido y el sistema te muestra sugerencias en tiempo real. Solo aparecen estudiantes nuevos que est√°n en proceso.</li>
                        <li><strong>Visualizaci√≥n de foto:</strong> Al seleccionar un estudiante, su foto aparece autom√°ticamente para confirmar visualmente que es la persona correcta.</li>
                        <li><strong>Informaci√≥n contextual:</strong> Muestra el c√≥digo del estudiante, su nombre completo y el curso al que pertenece.</li>
                        <li><strong>Selecci√≥n de actividad:</strong> Lista desplegable con todas las actividades activas del proceso, ordenadas por secuencia.</li>
                        <li><strong>Editor de texto enriquecido:</strong> Usa un editor profesional para escribir los detalles de la actividad con formato (negritas, listas, t√≠tulos, etc.).</li>
                        <li><strong>Campo de fecha flexible:</strong> Por defecto sugiere la fecha actual, pero puedes cambiarla si registras una actividad que se realiz√≥ en otro d√≠a.</li>
                        <li><strong>Adjuntar documentos de Drive:</strong> Campo opcional para agregar enlaces a documentos, actas, fotos u otros archivos relacionados guardados en Google Drive.</li>
                        <li><strong>Notificaciones autom√°ticas:</strong> El sistema notifica autom√°ticamente al director del curso cuando se registra una actividad.</li>
                        <li><strong>Validaciones inteligentes:</strong> Verifica que todos los campos obligatorios est√©n completos y que los datos sean l√≥gicos antes de guardar.</li>
                        <li><strong>Protecci√≥n contra duplicados:</strong> Evita que hagas doble clic y guardes la misma actividad dos veces por accidente.</li>
                    </ul>
                    
                    <div class="success-box">
                        <strong><i class="bi bi-check-circle me-2"></i>Ventaja clave:</strong>
                        Al registrar sistem√°ticamente todas las actividades, construyes un historial completo y 
                        verificable del proceso de cada estudiante. Esto no solo facilita el trabajo del equipo, 
                        sino que tambi√©n demuestra profesionalismo ante los padres y permite mejorar continuamente 
                        el proceso bas√°ndose en datos reales.
                    </div>

                    <!-- ANTES DE COMENZAR -->
                    <h2><i class="bi bi-exclamation-triangle me-2"></i>Antes de comenzar</h2>
                    
                    <div class="warning-box">
                        <strong><i class="bi bi-shield-check me-2"></i>Requisitos previos:</strong>
                        Para registrar una actividad, el estudiante debe haber sido previamente reportado como "nuevo" 
                        en el sistema y debe tener estado "En proceso". Si un estudiante no aparece en la b√∫squeda, 
                        verifica que efectivamente est√© registrado como estudiante nuevo.
                    </div>
                    
                    <p><strong>Consideraciones importantes:</strong></p>
                    
                    <ul>
                        <li>Solo puedes registrar actividades que est√©n <strong>activas</strong> en el sistema. Si una actividad que necesitas no aparece en la lista, contacta al administrador.</li>
                        <li>La <strong>fecha de realizaci√≥n</strong> no puede ser futura. Solo puedes registrar actividades que ya se realizaron o que est√°s realizando hoy.</li>
                        <li>El campo de <strong>Detalles/Reacciones</strong> es opcional pero muy recomendable. Documenta aspectos importantes de la actividad y las reacciones del estudiante y su familia.</li>
                        <li>Si adjuntas un <strong>documento de Google Drive</strong>, aseg√∫rate de que el enlace sea accesible para quienes necesiten verlo. Configura los permisos correctamente.</li>
                        <li>Una vez guardado el registro, <strong>no podr√°s editarlo</strong> desde esta funci√≥n. Registra la informaci√≥n con cuidado y precisi√≥n.</li>
                        <li>El sistema enviar√° autom√°ticamente una <strong>notificaci√≥n por correo</strong> al director del curso del estudiante, inform√°ndole sobre la actividad registrada.</li>
                        <li>Cuando registras una actividad, quedas identificado como la persona responsable. Tu nombre aparecer√° en el historial de esa actividad.</li>
                    </ul>

                    <!-- GU√çA PASO A PASO -->
                    <h2><i class="bi bi-list-ol me-2"></i>Gu√≠a paso a paso</h2>
                    
                    <h3>Registrar una actividad completada</h3>
                    
                    <p>
                        <span class="step-number">1</span>
                        <strong>Busca al estudiante.</strong> En el campo "Estudiante" (secci√≥n superior izquierda), 
                        comienza a escribir parte del nombre o apellido del estudiante. No necesitas escribir el nombre 
                        completo, con 2-3 letras el sistema comenzar√° a buscar.
                    </p>
                    
                    <div class="info-box">
                        <strong><i class="bi bi-keyboard me-2"></i>Atajos del teclado:</strong>
                        Mientras escribes y aparecen las sugerencias, puedes usar las flechas ‚Üë y ‚Üì del teclado para 
                        moverte entre las opciones, y Enter para seleccionar la que est√° resaltada. Presiona Esc para 
                        cerrar la lista de sugerencias sin seleccionar nada.
                    </div>
                    
                    <p>
                        <span class="step-number">2</span>
                        <strong>Selecciona al estudiante de la lista de sugerencias.</strong> Aparecer√° una lista 
                        desplegable debajo del campo mostrando estudiantes que coinciden con lo que escribiste. Cada 
                        opci√≥n muestra: nombre completo del estudiante, su c√≥digo entre par√©ntesis, y en una segunda 
                        l√≠nea el curso al que pertenece. Haz clic en el estudiante correcto o usa las flechas y Enter.
                    </p>
                    
                    <p>
                        <span class="step-number">3</span>
                        <strong>Verifica la informaci√≥n del estudiante.</strong> Una vez seleccionado, aparecer√° un 
                        recuadro azul claro debajo del campo de b√∫squeda mostrando el nombre, c√≥digo y curso del 
                        estudiante. A la derecha, ver√°s su foto (si est√° disponible en el sistema).
                    </p>
                    
                    <div class="warning-box">
                        <strong><i class="bi bi-exclamation-triangle me-2"></i>Importante:</strong>
                        Confirma visualmente que seleccionaste al estudiante correcto antes de continuar. Si ves la 
                        foto del estudiante y no coincide con quien esperabas, busca nuevamente. Los nombres pueden 
                        ser similares y es f√°cil confundirse.
                    </div>
                    
                    <p>
                        <span class="step-number">4</span>
                        <strong>Selecciona la actividad realizada.</strong> En la secci√≥n "Detalles de la actividad", 
                        abre el campo desplegable "Actividad" y elige la actividad espec√≠fica que realizaste con el 
                        estudiante. Las actividades est√°n listadas en el orden del proceso.
                    </p>
                    
                    <p>
                        <span class="step-number">5</span>
                        <strong>Confirma o ajusta la fecha.</strong> El campo "Fecha de realizaci√≥n" muestra por 
                        defecto la fecha de hoy. Si la actividad se realiz√≥ hoy, d√©jala como est√°. Si se realiz√≥ en 
                        otro d√≠a, haz clic en el calendario y selecciona la fecha correcta.
                    </p>
                    
                    <p>
                        <span class="step-number">6</span>
                        <strong>Describe los detalles de la actividad (opcional pero recomendado).</strong> En el 
                        editor de texto "Detalles / Reacciones", escribe informaci√≥n relevante sobre la actividad:
                    </p>
                    
                    <ul>
                        <li>¬øQu√© aspectos espec√≠ficos se abordaron?</li>
                        <li>¬øC√≥mo reaccion√≥ el estudiante o la familia?</li>
                        <li>¬øHubo alguna observaci√≥n importante?</li>
                        <li>¬øHay aspectos que requieran seguimiento especial?</li>
                        <li>¬øSe identificaron necesidades o situaciones particulares?</li>
                    </ul>
                    
                    <div class="info-box">
                        <strong><i class="bi bi-pencil me-2"></i>Usando el editor:</strong>
                        El editor te permite dar formato al texto. Puedes usar negritas para resaltar puntos 
                        importantes, crear listas numeradas o con vi√±etas, agregar t√≠tulos de secci√≥n, y m√°s. Usa 
                        la barra de herramientas que aparece encima del √°rea de texto.
                    </div>
                    
                    <p>
                        <span class="step-number">7</span>
                        <strong>Adjunta un documento de Google Drive si es necesario (opcional).</strong> Si durante 
                        la actividad generaste alg√∫n documento, acta, registro fotogr√°fico u otro archivo que guardaste 
                        en Google Drive, copia la URL completa del documento y p√©gala en el campo "Documento de Drive 
                        relacionado".
                    </p>
                    
                    <div class="warning-box">
                        <strong><i class="bi bi-shield-lock me-2"></i>Permisos del documento:</strong>
                        Si adjuntas un documento de Drive, aseg√∫rate de que las personas que necesiten verlo tengan 
                        permisos de acceso. Configura el enlace como "Cualquiera con el enlace puede ver" o comp√°rtelo 
                        espec√≠ficamente con las personas correctas antes de guardar el registro.
                    </div>
                    
                    <p>
                        <span class="step-number">8</span>
                        <strong>Revisa toda la informaci√≥n.</strong> Antes de guardar, verifica que:
                    </p>
                    
                    <ul>
                        <li>El estudiante seleccionado es el correcto</li>
                        <li>La actividad elegida corresponde a lo que realizaste</li>
                        <li>La fecha es correcta</li>
                        <li>Los detalles est√°n bien redactados (si los escribiste)</li>
                        <li>El enlace de Drive funciona y tiene los permisos correctos (si lo agregaste)</li>
                    </ul>
                    
                    <p>
                        <span class="step-number">9</span>
                        <strong>Haz clic en el bot√≥n "Guardar actividad".</strong> El bot√≥n azul grande en la parte 
                        inferior derecha. El sistema validar√° la informaci√≥n y, si todo est√° correcto, guardar√° el 
                        registro.
                    </p>
                    
                    <p>
                        <span class="step-number">10</span>
                        <strong>Espera la confirmaci√≥n.</strong> Ver√°s un indicador de carga que dice "Guardando...". 
                        Este proceso puede tomar unos segundos porque el sistema:
                    </p>
                    
                    <ul>
                        <li>Guarda el registro en la base de datos</li>
                        <li>Env√≠a notificaci√≥n al director del curso</li>
                        <li>Si es la primera actividad del proceso, puede crear registros adicionales en otros m√≥dulos</li>
                    </ul>
                    
                    <p>
                        <span class="step-number">11</span>
                        <strong>Confirma el √©xito.</strong> Cuando veas el mensaje verde "Actividad registrada 
                        exitosamente", significa que todo funcion√≥ correctamente. El formulario se limpiar√° 
                        autom√°ticamente y quedar√° listo para registrar otra actividad si es necesario.
                    </p>
                    
                    <div class="success-box">
                        <strong><i class="bi bi-trophy me-2"></i>¬°Proceso completado!</strong>
                        La actividad ha quedado registrada en el historial del estudiante. El director del curso ya 
                        recibi√≥ la notificaci√≥n y todos los actores del m√≥dulo pueden ver esta actividad en el 
                        seguimiento del estudiante.
                    </div>
                    
                    <h3>Usar el bot√≥n "Limpiar formulario"</h3>
                    
                    <p>
                        Si cometiste un error al llenar el formulario o simplemente quieres empezar de nuevo antes 
                        de guardar:
                    </p>
                    
                    <p>
                        <span class="step-number">1</span>
                        <strong>Haz clic en el bot√≥n "Limpiar formulario"</strong> (bot√≥n gris al lado del bot√≥n 
                        "Guardar actividad").
                    </p>
                    
                    <p>
                        <span class="step-number">2</span>
                        <strong>Confirma la acci√≥n.</strong> Aparecer√° un mensaje preguntando si est√°s seguro. Esto 
                        es porque perder√°s todo lo que hayas escrito.
                    </p>
                    
                    <p>
                        <span class="step-number">3</span>
                        <strong>El formulario volver√° a su estado inicial.</strong> Todos los campos se limpiar√°n y 
                        podr√°s comenzar desde cero.
                    </p>

                    <!-- SOLUCI√ìN DE PROBLEMAS -->
                    <h2><i class="bi bi-tools me-2"></i>Soluci√≥n de problemas comunes</h2>
                    
                    <h3>No aparecen sugerencias cuando busco un estudiante</h3>
                    <p>
                        <strong>Causas posibles:</strong> Escribiste menos de 2 caracteres, el estudiante no est√° 
                        reportado como "nuevo", o el estudiante ya complet√≥ el proceso.
                    </p>
                    <p>
                        <strong>Soluci√≥n:</strong> Escribe al menos 2-3 letras del nombre o apellido. Si aun as√≠ no 
                        aparece, verifica en otras funciones del m√≥dulo que el estudiante est√© registrado como "nuevo" 
                        y que su estado sea "En proceso". Si ya complet√≥ el proceso, no aparecer√° aqu√≠.
                    </p>
                    
                    <h3>La lista de sugerencias muestra "No se encontraron estudiantes nuevos"</h3>
                    <p>
                        <strong>Causa:</strong> No hay estudiantes nuevos en proceso que coincidan con tu b√∫squeda.
                    </p>
                    <p>
                        <strong>Soluci√≥n:</strong> Verifica que escribiste correctamente el nombre. Si el estudiante 
                        deber√≠a aparecer pero no lo hace, es posible que a√∫n no haya sido reportado como "nuevo" o 
                        que su estado sea diferente a "En proceso". Consulta con quien gestiona el m√≥dulo.
                    </p>
                    
                    <h3>La foto del estudiante no aparece</h3>
                    <p>
                        <strong>Causa:</strong> El estudiante no tiene foto cargada en el sistema o la foto no se 
                        pudo cargar por problemas de conexi√≥n.
                    </p>
                    <p>
                        <strong>Soluci√≥n:</strong> Esto no impide que registres la actividad. Simplemente ver√°s un 
                        recuadro que dice "Sin foto disponible". Puedes continuar normalmente. Si crees que la foto 
                        s√≠ deber√≠a estar, verifica en el m√≥dulo de estudiantes que la foto est√© correctamente cargada.
                    </p>
                    
                    <h3>Error: "La fecha de realizaci√≥n no puede ser futura"</h3>
                    <p>
                        <strong>Causa:</strong> Seleccionaste una fecha posterior a hoy.
                    </p>
                    <p>
                        <strong>Soluci√≥n:</strong> No puedes registrar actividades futuras. Corrige la fecha 
                        seleccionando la fecha de hoy o una fecha pasada cuando realmente se realiz√≥ la actividad.
                    </p>
                    
                    <h3>El editor de texto no responde o no puedo escribir</h3>
                    <p>
                        <strong>Causa:</strong> El editor a√∫n no termin√≥ de cargar o hay un problema con el navegador.
                    </p>
                    <p>
                        <strong>Soluci√≥n:</strong> Espera unos segundos a que la p√°gina termine de cargar completamente. 
                        Si el problema persiste, recarga la p√°gina (F5) e intenta nuevamente. Aseg√∫rate de usar un 
                        navegador actualizado.
                    </p>
                    
                    <h3>Error: "La URL del documento no es v√°lida"</h3>
                    <p>
                        <strong>Causa:</strong> El enlace que pegaste no tiene el formato correcto de una URL.
                    </p>
                    <p>
                        <strong>Soluci√≥n:</strong> Aseg√∫rate de copiar la URL completa desde Google Drive, empezando 
                        con "https://". Si solo copiaste parte del enlace o hay espacios extra, no funcionar√°. Copia 
                        nuevamente el enlace directamente desde la barra de direcciones del navegador cuando tengas 
                        el documento de Drive abierto.
                    </p>
                    
                    <h3>El bot√≥n "Guardar actividad" est√° desactivado</h3>
                    <p>
                        <strong>Causa:</strong> No has completado todos los campos obligatorios.
                    </p>
                    <p>
                        <strong>Soluci√≥n:</strong> Los campos obligatorios son: Estudiante, Actividad y Fecha. 
                        Verifica que los tres est√©n completos. Los campos de Detalles y Documento de Drive son 
                        opcionales, as√≠ que no afectan el bot√≥n.
                    </p>
                    
                    <h3>El formulario no se limpia despu√©s de guardar</h3>
                    <p>
                        <strong>Causa:</strong> El proceso de guardado puede no haber completado correctamente.
                    </p>
                    <p>
                        <strong>Soluci√≥n:</strong> Si viste el mensaje de √©xito verde, la actividad s√≠ se guard√≥ 
                        aunque el formulario no se haya limpiado. Recarga la p√°gina (F5) para empezar con un 
                        formulario limpio. Si no viste mensaje de √©xito, verifica si la actividad se guard√≥ antes 
                        de intentar nuevamente.
                    </p>
                    
                    <h3>Hice doble clic por error, ¬øse guard√≥ dos veces?</h3>
                    <p>
                        <strong>Causa:</strong> Ansiedad por guardar r√°pido.
                    </p>
                    <p>
                        <strong>Soluci√≥n:</strong> El sistema tiene protecci√≥n contra doble env√≠o. Si hiciste doble 
                        clic, solo se procesar√° una vez. Ver√°s solo un mensaje de confirmaci√≥n. No te preocupes, no 
                        se cre√≥ un duplicado.
                    </p>
                    
                    <h3>No estoy seguro si la actividad se guard√≥</h3>
                    <p>
                        <strong>Causa:</strong> No viste claramente el mensaje de confirmaci√≥n o hubo problemas de 
                        conexi√≥n.
                    </p>
                    <p>
                        <strong>Soluci√≥n:</strong> Ve a las funciones de consulta del m√≥dulo y busca el estudiante. 
                        Revisa su historial de actividades para ver si aparece el registro que intentaste hacer. Si 
                        no aparece, entonces no se guard√≥ y debes registrarla nuevamente.
                    </p>

                    <!-- BUENAS PR√ÅCTICAS -->
                    <h2><i class="bi bi-award me-2"></i>Buenas pr√°cticas recomendadas</h2>
                    
                    <ul>
                        <li>
                            <strong>Registra las actividades el mismo d√≠a:</strong> No dejes pasar mucho tiempo entre 
                            la realizaci√≥n de una actividad y su registro. Mientras m√°s fresca tengas la experiencia, 
                            mejor podr√°s documentar los detalles importantes.
                        </li>
                        <li>
                            <strong>S√© descriptivo en los detalles:</strong> Aunque el campo es opcional, invertir 
                            unos minutos en escribir buenos detalles vale mucho la pena. Documenta aspectos relevantes 
                            que puedan ser √∫tiles para otros actores o para futuras referencias.
                        </li>
                        <li>
                            <strong>Usa el formato del editor inteligentemente:</strong> Usa negritas para resaltar 
                            lo m√°s importante, listas con vi√±etas para enumerar puntos clave, y p√°rrafos separados 
                            para diferentes temas. Esto hace el registro mucho m√°s f√°cil de leer despu√©s.
                        </li>
                        <li>
                            <strong>Adjunta documentos cuando sea relevante:</strong> Si tienes actas, fotos, formularios 
                            llenados u otros documentos de la actividad guardados en Drive, adj√∫ntalos. Tener la 
                            evidencia vinculada facilita mucho las cosas despu√©s.
                        </li>
                        <li>
                            <strong>Verifica los permisos de los documentos de Drive:</strong> Antes de adjuntar un 
                            enlace, comprueba que las personas correctas tengan acceso. No tiene sentido adjuntar un 
                            documento que otros actores o directivos no puedan abrir.
                        </li>
                        <li>
                            <strong>Confirma visualmente con la foto:</strong> Siempre que aparezca la foto del 
                            estudiante, t√≥mate un segundo para confirmar que es quien piensas. Los nombres pueden ser 
                            similares y es mejor prevenir confusiones.
                        </li>
                        <li>
                            <strong>Registra tanto lo positivo como lo preocupante:</strong> Documenta no solo las 
                            dificultades o problemas, sino tambi√©n las fortalezas, logros y aspectos positivos que 
                            observes en el estudiante y su familia. Esto ayuda a tener una visi√≥n balanceada.
                        </li>
                        <li>
                            <strong>S√© profesional en la redacci√≥n:</strong> Recuerda que otras personas leer√°n tus 
                            registros. Usa lenguaje profesional, objetivo y respetuoso. Evita opiniones personales 
                            no fundamentadas o comentarios inapropiados.
                        </li>
                        <li>
                            <strong>Coordina con tu equipo:</strong> Si varios actores trabajan con el mismo estudiante, 
                            revisen el historial de actividades peri√≥dicamente para estar todos al tanto del progreso 
                            y evitar duplicar esfuerzos.
                        </li>
                        <li>
                            <strong>Mant√©n el ritmo del proceso:</strong> No dejes pasar mucho tiempo sin registrar 
                            actividades para un estudiante. El proceso de inculturaci√≥n funciona mejor cuando hay 
                            continuidad y seguimiento constante.
                        </li>
                    </ul>

                    <!-- PREGUNTAS FRECUENTES -->
                    <h2><i class="bi bi-question-circle me-2"></i>Preguntas frecuentes</h2>
                    
                    <h3>¬øPuedo editar una actividad despu√©s de guardarla?</h3>
                    <p>
                        No, desde esta funci√≥n no puedes editar registros ya guardados. Los registros de actividades 
                        son permanentes por dise√±o para mantener la integridad del historial. Si cometiste un error, 
                        contacta al administrador del sistema quien puede hacer correcciones si es necesario.
                    </p>
                    
                    <h3>¬øPuedo registrar varias actividades para el mismo estudiante?</h3>
                    <p>
                        S√≠, absolutamente. Cada estudiante pasar√° por m√∫ltiples actividades durante el proceso. 
                        Despu√©s de guardar una actividad, el formulario se limpia autom√°ticamente y puedes inmediatamente 
                        registrar otra actividad (ya sea para el mismo estudiante u otro).
                    </p>
                    
                    <h3>¬øQu√© pasa si registro la misma actividad dos veces por error?</h3>
                    <p>
                        El sistema no impide registros duplicados porque puede ser leg√≠timo repetir una actividad 
                        con un estudiante. Si duplicaste por error, contacta al administrador para que elimine el 
                        registro duplicado. Por eso es importante tener cuidado al guardar.
                    </p>
                    
                    <h3>¬øQui√©n recibe la notificaci√≥n cuando registro una actividad?</h3>
                    <p>
                        El sistema env√≠a autom√°ticamente una notificaci√≥n por correo electr√≥nico al director del 
                        curso al que pertenece el estudiante. El correo incluye informaci√≥n sobre qu√© actividad se 
                        realiz√≥, cu√°ndo, y los detalles que escribiste.
                    </p>
                    
                    <h3>¬øPuedo registrar actividades de fechas pasadas?</h3>
                    <p>
                        S√≠, puedes registrar actividades que se realizaron en d√≠as anteriores. Solo selecciona la 
                        fecha correcta en el campo de fecha. La √∫nica restricci√≥n es que no puedes usar fechas 
                        futuras. Esto es √∫til si tienes actividades pendientes de registrar.
                    </p>
                    
                    <h3>¬øEl campo de Detalles/Reacciones es obligatorio?</h3>
                    <p>
                        No, es opcional. Sin embargo, es muy recomendable usarlo. Los detalles que documentes pueden 
                        ser valiosos para otros actores que trabajen con ese estudiante despu√©s, y para tener un 
                        registro completo del proceso.
                    </p>
                    
                    <h3>¬øQu√© tipo de documentos puedo adjuntar desde Google Drive?</h3>
                    <p>
                        Puedes adjuntar cualquier tipo de documento que Google Drive permita: documentos de texto, 
                        hojas de c√°lculo, presentaciones, PDFs, im√°genes, carpetas compartidas, etc. Solo necesitas 
                        copiar el enlace completo del recurso.
                    </p>
                    
                    <h3>Si un estudiante ya complet√≥ el proceso, ¬øpuedo registrar m√°s actividades?</h3>
                    <p>
                        No. Solo aparecen en la b√∫squeda los estudiantes que tienen estado "En proceso". Una vez que 
                        un estudiante completa el proceso de inculturaci√≥n, ya no aparecer√° en esta funci√≥n. Si 
                        necesitas agregar algo al historial de un estudiante que ya termin√≥, contacta al administrador.
                    </p>
                    
                    <h3>¬øAparece mi nombre en el registro de la actividad?</h3>
                    <p>
                        S√≠, el sistema registra autom√°ticamente qui√©n hizo el registro. Tu nombre aparecer√° asociado 
                        a esa actividad en el historial del estudiante. Esto es √∫til para saber qui√©n puede dar m√°s 
                        informaci√≥n sobre cada actividad espec√≠fica.
                    </p>
                    
                    <h3>¬øPor qu√© tarda en guardar la actividad?</h3>
                    <p>
                        El proceso puede tomar entre 5 y 15 segundos porque el sistema hace varias cosas: guarda el 
                        registro en la base de datos, env√≠a la notificaci√≥n por correo, y si es una actividad especial 
                        puede crear registros adicionales en otros m√≥dulos. Ten paciencia y no cierres la p√°gina 
                        mientras dice "Guardando...".
                    </p>
                    
                    <h3>¬øQu√© sucede con las "actividades especiales" que mencionas?</h3>
                    <p>
                        Algunas actividades del proceso, especialmente las primeras, tienen l√≥gica especial. Por 
                        ejemplo, la primera actividad puede crear autom√°ticamente un tema de seguimiento en otro 
                        m√≥dulo del sistema. Esto es transparente para ti y sucede autom√°ticamente. Solo debes saber 
                        que puede tomar un poco m√°s de tiempo al guardar.
                    </p>
                    
                    <h3>¬øPuedo usar este formulario desde mi celular?</h3>
                    <p>
                        S√≠, el formulario es responsive y funciona en dispositivos m√≥viles. Sin embargo, la experiencia 
                        es mejor en una computadora, especialmente para escribir detalles extensos en el editor de 
                        texto. Si usas celular, ten paciencia con el autocompletado de estudiantes.
                    </p>

                </div>

                <!-- TARJETA PARA REPORTAR BUGS -->
                <div class="bug-report-card">
                    <i class="bi bi-bug-fill icon-large"></i>
                    <h4 class="mb-3">¬øEncontraste un problema o tienes una sugerencia?</h4>
                    <p class="mb-4">
                        Si experimentaste un error, algo no funciona como esperas, o tienes 
                        una sugerencia para mejorar el sistema, rep√≥rtalo aqu√≠.
                    </p>
                    <a href="../report-bug.html" class="btn btn-light btn-lg">
                        <i class="bi bi-exclamation-triangle me-2"></i>Reportar Bug o Problema
                    </a>
                </div>

            </div>
        </div>

    </div>

    <!-- BOT√ìN FLOTANTE PARA REPORTAR BUGS -->
    <a href="../report-bug.html" class="btn btn-danger btn-lg floating-bug-button" title="Reportar Bug">
        <i class="bi bi-bug-fill me-2"></i>Reportar Bug
    </a>

    <!-- SCRIPTS - ORDEN CR√çTICO -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/js/config.js"></script>
    
    <script>
        // ==========================================
        // VARIABLES GLOBALES
        // ==========================================
        let currentUser = null;

        // ==========================================
        // CONFIGURACI√ìN DE LA P√ÅGINA
        // ==========================================
        const PAGE_CONFIG = {
            moduleName: 'Gesti√≥n de Estudiantes Nuevos',
            modulePath: 'new-students',
            pageTitle: 'Registrar Actividades',
            pagePath: 'register-activities.html',
            moduleDescription: 'Documentaci√≥n de actividades completadas por estudiantes nuevos'
        };

        // ==========================================
        // INICIALIZACI√ìN
        // ==========================================
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üìñ Iniciando p√°gina de manual...');
            
            try {
                // Verificar si existe la funci√≥n de colores corporativos
                if (typeof loadAndApplyBrandColors === 'function') {
                    await loadAndApplyBrandColors();
                }
                
                // Verificar sesi√≥n si la funci√≥n existe
                if (typeof getStoredSession === 'function') {
                    const session = getStoredSession();
                    if (session && session.user) {
                        currentUser = session.user;
                    }
                }
                
                // Actualizar informaci√≥n en la p√°gina
                updatePageInfo();
                
                console.log('‚úÖ P√°gina de manual lista');
                
            } catch (error) {
                console.error('‚ùå Error inicializando p√°gina:', error);
                if (typeof showMessage === 'function') {
                    showMessage('Error al cargar la p√°gina: ' + error.message, 'danger');
                }
            }
        });

        // ==========================================
        // ACTUALIZAR INFORMACI√ìN DE LA P√ÅGINA
        // ==========================================
        function updatePageInfo() {
            // Actualizar title
            document.title = `Manual - ${PAGE_CONFIG.moduleName} - ${PAGE_CONFIG.pageTitle} - SchoolNet`;
        }

        // ==========================================
        // UTILIDADES DE LOADING
        // ==========================================
        function showLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.remove('hidden');
            }
        }

        function hideLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.add('hidden');
            }
        }

        // ==========================================
        // FUNCI√ìN DE MENSAJES
        // ==========================================
        function showMessage(message, type) {
            const alertContainer = document.getElementById('alertContainer');
            if (!alertContainer) return;
            
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} alert-dismissible fade show`;
            alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            alertContainer.appendChild(alertDiv);
            
            // Auto-remove despu√©s de 5 segundos
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 5000);
        }

    </script>
</body>
</html>
