<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- VERSI√ìN DE LA P√ÅGINA -->
    <meta name="page-version" content="25.11.09.11.33">
    
    <title>Manual - Admisiones - Acciones de Jardines - SchoolNet</title>
    
    <!-- Bootstrap CSS - VERSI√ìN FIJA PROBADA -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <style>
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .loading-overlay.hidden {
            display: none;
        }
        
        .loading-content {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #007bff;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Encabezado discreto */
        .manual-header {
            background: #f8f9fa;
            border-bottom: 2px solid var(--system-primary-color, #17a2b8);
            padding: 1.5rem 0;
            margin-bottom: 2rem;
        }

        .manual-header h1 {
            font-size: 1.75rem;
            color: var(--system-primary-color, #17a2b8);
            margin-bottom: 0.25rem;
        }

        .manual-header .subtitle {
            color: #6c757d;
            font-size: 0.95rem;
        }

        /* Info card */
        .info-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        /* Cajas de informaci√≥n */
        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #0d6efd;
            padding: 1rem 1.5rem;
            border-radius: 4px;
            margin-bottom: 1.5rem;
        }

        .success-box {
            background: #d1f2eb;
            border-left: 4px solid #198754;
            padding: 1rem 1.5rem;
            border-radius: 4px;
            margin-bottom: 1.5rem;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 1rem 1.5rem;
            border-radius: 4px;
            margin-bottom: 1.5rem;
        }

        .danger-box {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 1rem 1.5rem;
            border-radius: 4px;
            margin-bottom: 1.5rem;
        }

        /* Tarjeta para reportar bugs */
        .bug-report-card {
            background: var(--system-secondary-color, #667eea);
            color: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .bug-report-card h5 {
            color: white;
        }

        /* Bot√≥n flotante para reportar bugs */
        .floating-bug-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            background: var(--system-primary-color, #dc3545) !important;
            border-color: var(--system-primary-color, #dc3545) !important;
        }

        .floating-bug-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.4);
            opacity: 0.9;
        }

        .icon-large {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        /* Step cards */
        .step-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .step-card h5 {
            color: var(--system-primary-color, #17a2b8);
            margin-bottom: 1rem;
        }

        .feature-list {
            list-style: none;
            padding-left: 0;
        }

        .feature-list li {
            padding: 0.5rem 0;
            padding-left: 2rem;
            position: relative;
        }

        .feature-list li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #198754;
            font-weight: bold;
            font-size: 1.2rem;
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <p class="mb-0">Cargando...</p>
        </div>
    </div>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="container-fluid">

        <!-- ENCABEZADO DISCRETO -->
        <div class="manual-header">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h1>
                            <i class="bi bi-book me-2"></i>
                            Manual: Admisiones
                        </h1>
                        <p class="subtitle mb-0">Registrar acciones hacia jardines infantiles</p>
                    </div>
                    <div class="col-md-4 text-md-end mt-3 mt-md-0">
                        <a href="../../modules/admissions/kindergarten-actions.html" class="btn btn-outline-primary">
                            <i class="bi bi-arrow-left me-1"></i>Volver al M√≥dulo
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONTENEDOR DE ALERTAS -->
        <div id="alertContainer"></div>

        <div class="row">
            <div class="col-lg-8 mx-auto">

                <!-- INFORMACI√ìN CONTEXTUAL -->
                <div class="info-card">
                    <div class="row align-items-center">
                        <div class="col-md-6">
                            <h6 class="text-muted mb-2">Manual de:</h6>
                            <h5 class="mb-1"><strong id="display-module">Admisiones</strong></h5>
                            <p class="text-muted mb-0 small" id="display-page">Acciones de Jardines</p>
                        </div>
                        <div class="col-md-6 text-md-end mt-3 mt-md-0">
                            <p class="small text-muted mb-0">
                                <i class="bi bi-info-circle me-1"></i>
                                Si tienes dudas o encuentras alg√∫n problema,<br>
                                puedes reportarlo usando el bot√≥n de abajo.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- ========================================== -->
                <!-- CONTENIDO DEL MANUAL -->
                <!-- ========================================== -->

                <!-- ¬øQU√â ES? -->
                <div class="step-card">
                    <h5><i class="bi bi-question-circle me-2"></i>¬øQu√© es la funci√≥n de Acciones de Jardines?</h5>
                    <p>
                        La funci√≥n de <strong>Acciones de Jardines</strong> permite registrar y gestionar todas las 
                        actividades que el Colegio Tilat√° realiza hacia los jardines infantiles con los que tiene 
                        relaciones institucionales.
                    </p>
                    <p class="mb-0">
                        Este registro es fundamental para el <strong>an√°lisis de correlaci√≥n</strong> entre las 
                        acciones de marketing/vinculaci√≥n realizadas y el n√∫mero de aspirantes que posteriormente 
                        se reciben de cada jard√≠n. Permite responder preguntas como: "¬øCu√°ntas visitas hicimos al 
                        Jard√≠n X y cu√°ntos aspirantes nos enviaron?"
                    </p>
                </div>

                <!-- CARACTER√çSTICAS PRINCIPALES -->
                <div class="step-card">
                    <h5><i class="bi bi-stars me-2"></i>Caracter√≠sticas Principales</h5>
                    <ul class="feature-list">
                        <li>Registro de acciones con descripci√≥n libre (sin restricciones de formato)</li>
                        <li>Asociaci√≥n directa de cada acci√≥n a un jard√≠n infantil espec√≠fico</li>
                        <li>Registro de fecha en que se realiz√≥ la acci√≥n</li>
                        <li>Trazabilidad: el sistema guarda qui√©n registr√≥ cada acci√≥n</li>
                        <li>Filtros avanzados por jard√≠n y rango de fechas</li>
                        <li>Edici√≥n y eliminaci√≥n de acciones registradas</li>
                        <li>Historial completo ordenado cronol√≥gicamente</li>
                    </ul>
                </div>

                <!-- ANTES DE COMENZAR -->
                <div class="warning-box">
                    <strong><i class="bi bi-exclamation-triangle me-2"></i>Antes de comenzar:</strong>
                    <ul class="mb-0 mt-2">
                        <li>Aseg√∫rate de tener el permiso <strong>"Gestionar acciones de jardines"</strong></li>
                        <li>Verifica que el jard√≠n infantil est√© registrado en el cat√°logo de jardines</li>
                        <li>Ten a mano los detalles de la acci√≥n realizada (fecha exacta, descripci√≥n)</li>
                    </ul>
                </div>

                <!-- CONCEPTOS IMPORTANTES -->
                <div class="info-box">
                    <strong><i class="bi bi-lightbulb me-2"></i>Conceptos Clave:</strong>
                    <ul class="mb-0 mt-2">
                        <li><strong>Acci√≥n:</strong> Cualquier actividad de vinculaci√≥n, marketing o relacionamiento 
                        que Tilat√° realiza hacia un jard√≠n infantil. Ejemplos: visitas, llamadas telef√≥nicas, 
                        reuniones, env√≠o de material informativo, invitaciones a eventos, capacitaciones, etc.</li>
                        <li><strong>Descripci√≥n libre:</strong> No hay formatos predefinidos. Puedes describir la 
                        acci√≥n con el nivel de detalle que consideres necesario.</li>
                        <li><strong>An√°lisis de correlaci√≥n:</strong> Posteriormente, el sistema permitir√° analizar 
                        cu√°ntas acciones se realizaron por jard√≠n y correlacionarlas con el n√∫mero de aspirantes 
                        recibidos de cada uno.</li>
                    </ul>
                </div>

                <!-- GU√çA PASO A PASO -->
                <div class="step-card">
                    <h5><i class="bi bi-list-ol me-2"></i>Gu√≠a Paso a Paso</h5>

                    <h6 class="mt-4 mb-3"><strong>Paso 1: Acceder a la Funci√≥n</strong></h6>
                    <p>
                        Navega al m√≥dulo de <strong>Admisiones</strong> y haz clic en la opci√≥n 
                        <strong>"Acciones de Jardines"</strong>.
                    </p>

                    <h6 class="mt-4 mb-3"><strong>Paso 2: Registrar una Nueva Acci√≥n</strong></h6>
                    <p>
                        Haz clic en el bot√≥n <strong>"Registrar Nueva Acci√≥n"</strong> en la esquina superior derecha.
                    </p>
                    <p>
                        Se abrir√° un formulario modal con los siguientes campos:
                    </p>
                    <ul>
                        <li><strong>Jard√≠n Infantil:</strong> Selecciona de la lista desplegable el jard√≠n hacia 
                        el cual se realiz√≥ la acci√≥n.</li>
                        <li><strong>Fecha de la Acci√≥n:</strong> Indica la fecha en que se realiz√≥ la actividad.</li>
                        <li><strong>Descripci√≥n de la Acci√≥n:</strong> Escribe una descripci√≥n detallada de lo que 
                        se hizo. S√© espec√≠fico para que despu√©s sea √∫til en los an√°lisis.</li>
                    </ul>
                    
                    <div class="success-box mt-3">
                        <strong><i class="bi bi-lightbulb me-2"></i>Ejemplo de buena descripci√≥n:</strong><br>
                        "Reuni√≥n con la directora del jard√≠n para presentar el proyecto educativo de Tilat√°. 
                        Se acord√≥ una visita de padres interesados para el 15 de marzo. La directora mostr√≥ 
                        inter√©s en el programa de transici√≥n y solicit√≥ informaci√≥n adicional sobre el proceso 
                        de admisi√≥n."
                    </div>

                    <h6 class="mt-4 mb-3"><strong>Paso 3: Guardar la Acci√≥n</strong></h6>
                    <p>
                        Una vez completes todos los campos, haz clic en <strong>"Guardar Acci√≥n"</strong>.
                    </p>
                    <p>
                        El sistema mostrar√° un mensaje de confirmaci√≥n y la acci√≥n aparecer√° inmediatamente en 
                        el listado.
                    </p>

                    <h6 class="mt-4 mb-3"><strong>Paso 4: Ver el Historial de Acciones</strong></h6>
                    <p>
                        En la pantalla principal ver√°s un listado de todas las acciones registradas, mostrando:
                    </p>
                    <ul>
                        <li>Nombre del jard√≠n infantil (en badge destacado)</li>
                        <li>Fecha de la acci√≥n</li>
                        <li>Descripci√≥n completa</li>
                        <li>Qui√©n registr√≥ la acci√≥n</li>
                    </ul>
                    <p>
                        Las acciones se ordenan por fecha, mostrando las m√°s recientes primero.
                    </p>

                    <h6 class="mt-4 mb-3"><strong>Paso 5: Editar una Acci√≥n (si es necesario)</strong></h6>
                    <p>
                        Si necesitas corregir o actualizar informaci√≥n de una acci√≥n ya registrada:
                    </p>
                    <ol>
                        <li>Localiza la acci√≥n en el listado</li>
                        <li>Haz clic en el bot√≥n de <strong>editar</strong> (√≠cono de l√°piz)</li>
                        <li>Modifica los campos necesarios</li>
                        <li>Haz clic en <strong>"Guardar Acci√≥n"</strong></li>
                    </ol>

                    <h6 class="mt-4 mb-3"><strong>Paso 6: Eliminar una Acci√≥n (con precauci√≥n)</strong></h6>
                    <p>
                        Si registraste una acci√≥n por error:
                    </p>
                    <ol>
                        <li>Localiza la acci√≥n en el listado</li>
                        <li>Haz clic en el bot√≥n de <strong>eliminar</strong> (√≠cono de papelera)</li>
                        <li>Confirma la eliminaci√≥n en el di√°logo que aparece</li>
                    </ol>
                    <div class="danger-box">
                        <strong><i class="bi bi-exclamation-triangle me-2"></i>Atenci√≥n:</strong>
                        La eliminaci√≥n es permanente y no se puede deshacer. √ösala solo cuando est√©s seguro.
                    </div>

                    <h6 class="mt-4 mb-3"><strong>Paso 7: Usar los Filtros</strong></h6>
                    <p>
                        Para buscar acciones espec√≠ficas, usa los filtros en la parte superior:
                    </p>
                    <ul>
                        <li><strong>Filtrar por Jard√≠n:</strong> Selecciona un jard√≠n espec√≠fico para ver solo 
                        sus acciones</li>
                        <li><strong>Desde / Hasta:</strong> Define un rango de fechas para filtrar acciones de 
                        un per√≠odo espec√≠fico</li>
                        <li><strong>Limpiar:</strong> Usa este bot√≥n para quitar todos los filtros y ver el 
                        listado completo</li>
                    </ul>
                </div>

                <!-- SOLUCI√ìN DE PROBLEMAS -->
                <div class="step-card">
                    <h5><i class="bi bi-tools me-2"></i>Soluci√≥n de Problemas Comunes</h5>

                    <h6 class="mt-3"><strong>No puedo ver la opci√≥n "Acciones de Jardines"</strong></h6>
                    <p class="mb-2">
                        <strong>Causa:</strong> No tienes el permiso necesario.
                    </p>
                    <p>
                        <strong>Soluci√≥n:</strong> Contacta al administrador del sistema para que te asigne el 
                        permiso "Gestionar acciones de jardines".
                    </p>

                    <h6 class="mt-4"><strong>No aparecen jardines en la lista desplegable</strong></h6>
                    <p class="mb-2">
                        <strong>Causa:</strong> No hay jardines infantiles registrados en el sistema o est√°n 
                        marcados como inactivos.
                    </p>
                    <p>
                        <strong>Soluci√≥n:</strong> Ve a la opci√≥n "Jardines Infantiles" en el m√≥dulo de Admisiones 
                        y verifica que existan jardines activos. Si no existen, cr√©alos primero.
                    </p>

                    <h6 class="mt-4"><strong>El bot√≥n "Guardar" no responde</strong></h6>
                    <p class="mb-2">
                        <strong>Posibles causas:</strong>
                    </p>
                    <ul>
                        <li>No has llenado todos los campos obligatorios (tienen asterisco rojo)</li>
                        <li>La descripci√≥n est√° vac√≠a</li>
                        <li>No has seleccionado un jard√≠n</li>
                        <li>No has ingresado una fecha</li>
                    </ul>
                    <p>
                        <strong>Soluci√≥n:</strong> Verifica que todos los campos obligatorios est√©n completos.
                    </p>

                    <h6 class="mt-4"><strong>No veo acciones registradas pero s√© que existen</strong></h6>
                    <p class="mb-2">
                        <strong>Causa:</strong> Puedes tener filtros activos.
                    </p>
                    <p>
                        <strong>Soluci√≥n:</strong> Haz clic en el bot√≥n "Limpiar" en la secci√≥n de filtros para 
                        ver todas las acciones.
                    </p>

                    <h6 class="mt-4"><strong>Aparece un error al guardar</strong></h6>
                    <p class="mb-2">
                        <strong>Posibles causas:</strong>
                    </p>
                    <ul>
                        <li>Problema de conexi√≥n a internet</li>
                        <li>El jard√≠n seleccionado fue eliminado</li>
                        <li>Error temporal del servidor</li>
                    </ul>
                    <p>
                        <strong>Soluci√≥n:</strong> Verifica tu conexi√≥n e intenta nuevamente. Si el problema 
                        persiste, reporta el error usando el bot√≥n de "Reportar Bug" al final de esta p√°gina.
                    </p>
                </div>

                <!-- BUENAS PR√ÅCTICAS -->
                <div class="success-box">
                    <strong><i class="bi bi-check-circle me-2"></i>Buenas Pr√°cticas:</strong>
                    <ul class="mb-0 mt-2">
                        <li>Registra las acciones lo antes posible despu√©s de realizarlas (no dejes pasar d√≠as)</li>
                        <li>S√© espec√≠fico en las descripciones: incluye qu√© se hizo, con qui√©n, qu√© se acord√≥</li>
                        <li>Si la acci√≥n gener√≥ compromisos o seguimientos, menci√≥nalo en la descripci√≥n</li>
                        <li>Registra TODAS las acciones, no solo las "exitosas". El an√°lisis posterior necesita 
                        datos completos</li>
                        <li>Usa un lenguaje claro y profesional en las descripciones</li>
                        <li>Si una acci√≥n involucr√≥ a varias personas de Tilat√°, menci√≥nalas en la descripci√≥n</li>
                        <li>Revisa peri√≥dicamente el historial para identificar jardines que no han recibido 
                        acciones recientemente</li>
                    </ul>
                </div>

                <!-- PREGUNTAS FRECUENTES -->
                <div class="step-card">
                    <h5><i class="bi bi-question-circle me-2"></i>Preguntas Frecuentes</h5>

                    <h6 class="mt-3"><strong>¬øQu√© tipo de acciones debo registrar?</strong></h6>
                    <p>
                        Todas las actividades de relacionamiento con jardines infantiles, incluyendo:
                    </p>
                    <ul>
                        <li>Visitas presenciales al jard√≠n</li>
                        <li>Reuniones con directivos o docentes</li>
                        <li>Llamadas telef√≥nicas de seguimiento</li>
                        <li>Env√≠o de material informativo o promocional</li>
                        <li>Invitaciones a eventos de Tilat√°</li>
                        <li>Capacitaciones o charlas ofrecidas al jard√≠n</li>
                        <li>Participaci√≥n en ferias o eventos del jard√≠n</li>
                    </ul>

                    <h6 class="mt-4"><strong>¬øPuedo registrar m√∫ltiples acciones en la misma fecha?</strong></h6>
                    <p>
                        S√≠, puedes registrar todas las acciones que necesites, incluso si varias ocurrieron el 
                        mismo d√≠a. Cada una debe registrarse por separado.
                    </p>

                    <h6 class="mt-4"><strong>¬øPuedo cambiar la fecha de una acci√≥n despu√©s de guardarla?</strong></h6>
                    <p>
                        S√≠, puedes editar cualquier campo de la acci√≥n, incluyendo la fecha. Usa el bot√≥n de 
                        editar (√≠cono de l√°piz) en la acci√≥n correspondiente.
                    </p>

                    <h6 class="mt-4"><strong>¬øHay un l√≠mite en la longitud de la descripci√≥n?</strong></h6>
                    <p>
                        No hay un l√≠mite estricto, pero se recomienda ser conciso y directo. Una descripci√≥n 
                        de 2-4 p√°rrafos suele ser suficiente.
                    </p>

                    <h6 class="mt-4"><strong>¬øQui√©n puede ver las acciones que registro?</strong></h6>
                    <p>
                        Todas las personas con el permiso "Gestionar acciones de jardines" pueden ver todas 
                        las acciones registradas por cualquier usuario. Es informaci√≥n compartida del equipo 
                        de admisiones.
                    </p>

                    <h6 class="mt-4"><strong>¬øC√≥mo se usa esto para an√°lisis posteriores?</strong></h6>
                    <p>
                        En el futuro, el m√≥dulo de reportes permitir√° generar an√°lisis que muestren:
                    </p>
                    <ul>
                        <li>Jard√≠n X: 12 acciones registradas ‚Üí 8 aspirantes recibidos ‚Üí 5 matriculados</li>
                        <li>Promedio de acciones necesarias por aspirante conseguido</li>
                        <li>Jardines con m√°s acciones vs. tasa de conversi√≥n</li>
                        <li>Efectividad de diferentes tipos de acciones</li>
                    </ul>

                    <h6 class="mt-4"><strong>¬øPuedo eliminar acciones antiguas?</strong></h6>
                    <p>
                        T√©cnicamente s√≠, pero NO se recomienda. Las acciones hist√≥ricas son valiosas para 
                        an√°lisis de tendencias. Solo elimina si se trata de un registro claramente err√≥neo.
                    </p>

                    <h6 class="mt-4"><strong>¬øQu√© hago si olvid√© registrar acciones de semanas pasadas?</strong></h6>
                    <p>
                        Reg√≠stralas de todas formas, usando la fecha real en que ocurrieron. Es mejor tener 
                        datos tard√≠os que no tenerlos. Trata de incluir todos los detalles que recuerdes.
                    </p>
                </div>

                <!-- INFORMACI√ìN ADICIONAL -->
                <div class="info-box">
                    <strong><i class="bi bi-info-circle me-2"></i>Informaci√≥n Adicional:</strong>
                    <p class="mb-0 mt-2">
                        Esta funcionalidad forma parte de la estrategia de an√°lisis de efectividad del proceso 
                        de admisiones. Los datos que registres aqu√≠ ser√°n fundamentales para tomar decisiones 
                        informadas sobre d√≥nde enfocar esfuerzos de vinculaci√≥n y marketing educativo.
                    </p>
                </div>

                <!-- TARJETA PARA REPORTAR BUGS -->
                <div class="bug-report-card">
                    <i class="bi bi-bug-fill icon-large"></i>
                    <h4 class="mb-3">¬øEncontraste un problema o tienes una sugerencia?</h4>
                    <p class="mb-4">
                        Si experimentaste un error, algo no funciona como esperas, o tienes 
                        una sugerencia para mejorar el sistema, rep√≥rtalo aqu√≠.
                    </p>
                    <a href="../report-bug.html" class="btn btn-light btn-lg">
                        <i class="bi bi-exclamation-triangle me-2"></i>Reportar Bug o Problema
                    </a>
                </div>

            </div>
        </div>

    </div>

    <!-- BOT√ìN FLOTANTE PARA REPORTAR BUGS -->
    <a href="../report-bug.html" class="btn btn-danger btn-lg floating-bug-button" title="Reportar Bug">
        <i class="bi bi-bug-fill me-2"></i>Reportar Bug
    </a>

    <!-- SCRIPTS - ORDEN CR√çTICO -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/js/config.js"></script>
    
    <script>
        // ==========================================
        // VARIABLES GLOBALES
        // ==========================================
        let currentUser = null;

        // ==========================================
        // INICIALIZACI√ìN
        // ==========================================
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üìñ Iniciando p√°gina de manual...');
            
            try {
                // Verificar si existe la funci√≥n de colores corporativos
                if (typeof loadAndApplyBrandColors === 'function') {
                    await loadAndApplyBrandColors();
                }
                
                // Verificar sesi√≥n si la funci√≥n existe
                if (typeof getStoredSession === 'function') {
                    const session = getStoredSession();
                    if (session && session.user) {
                        currentUser = session.user;
                    }
                }
                
                console.log('‚úÖ P√°gina de manual lista');
                
            } catch (error) {
                console.error('‚ùå Error inicializando p√°gina:', error);
                if (typeof showMessage === 'function') {
                    showMessage('Error al cargar la p√°gina: ' + error.message, 'danger');
                }
            }
        });

        // ==========================================
        // UTILIDADES DE LOADING
        // ==========================================
        function showLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.remove('hidden');
            }
        }

        function hideLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.add('hidden');
            }
        }

        // ==========================================
        // FUNCI√ìN DE MENSAJES
        // ==========================================
        function showMessage(message, type) {
            const alertContainer = document.getElementById('alertContainer');
            if (!alertContainer) return;
            
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} alert-dismissible fade show`;
            alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            alertContainer.appendChild(alertDiv);
            
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 5000);
        }

    </script>
</body>
</html>
