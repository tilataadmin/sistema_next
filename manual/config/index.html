<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- VERSI√ìN DE LA P√ÅGINA -->
    <meta name="page-version" content="25.12.11.20.00">
    
    <title>Manual - M√≥dulo de Configuraci√≥n - SchoolNet</title>
    
    <!-- Bootstrap CSS - VERSI√ìN FIJA PROBADA -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #1B365D;
            --secondary-color: #667eea;
            --tertiary-color: #f59e0b;
            --module-primary: #6f42c1;
        }

        body {
            background-color: #f8f9fa;
        }

        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .loading-overlay.hidden {
            display: none;
        }
        
        .loading-content {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #007bff;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Encabezado del manual */
        .manual-header {
            background: linear-gradient(135deg, var(--module-primary) 0%, #553c9a 100%);
            color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
        }

        .manual-header h1 {
            font-size: 1.75rem;
            margin-bottom: 0.5rem;
        }

        .manual-header .subtitle {
            opacity: 0.9;
            font-size: 1rem;
        }

        /* Contenedor principal del contenido */
        .manual-content {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        /* Secciones del manual */
        .manual-section {
            margin-bottom: 2.5rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #e9ecef;
        }

        .manual-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .manual-section h2 {
            color: var(--module-primary);
            font-size: 1.4rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .manual-section h3 {
            color: #495057;
            font-size: 1.15rem;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }

        /* Tarjetas de pasos */
        .step-card {
            background: #f8f9fa;
            border-left: 4px solid var(--module-primary);
            padding: 1rem 1.25rem;
            margin-bottom: 1rem;
            border-radius: 0 8px 8px 0;
        }

        .step-card h4 {
            color: var(--primary-color);
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }

        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            background: var(--module-primary);
            color: white;
            border-radius: 50%;
            font-weight: bold;
            font-size: 0.85rem;
            margin-right: 0.5rem;
        }

        /* Cajas de informaci√≥n */
        .info-box {
            background: #e7f3ff;
            border: 1px solid #b8daff;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .warning-box {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .success-box {
            background: #d4edda;
            border: 1px solid #28a745;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .danger-box {
            background: #f8d7da;
            border: 1px solid #dc3545;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        /* Lista de caracter√≠sticas */
        .feature-list {
            list-style: none;
            padding-left: 0;
        }

        .feature-list li {
            padding: 0.5rem 0;
            padding-left: 1.75rem;
            position: relative;
        }

        .feature-list li::before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #28a745;
            font-weight: bold;
        }

        /* Preguntas frecuentes */
        .faq-item {
            margin-bottom: 1rem;
        }

        .faq-question {
            font-weight: 600;
            color: var(--module-primary);
            margin-bottom: 0.25rem;
        }

        .faq-answer {
            color: #495057;
            padding-left: 1rem;
            border-left: 2px solid #dee2e6;
        }

        /* ================================================
           SECCI√ìN DE REPORTAR BUGS - ALTO CONTRASTE
           ================================================ */
        .bug-report-card {
            background: #1a1a2e;
            color: #ffffff;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
        }

        .bug-report-card h4 {
            color: #ffffff;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .bug-report-card p {
            color: #e0e0e0;
            margin-bottom: 1.5rem;
        }

        .bug-report-card .btn-report {
            background: #ff6b6b;
            border: none;
            color: #ffffff;
            font-weight: 600;
            padding: 0.75rem 2rem;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .bug-report-card .btn-report:hover {
            background: #ee5a5a;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 107, 107, 0.4);
            color: #ffffff;
        }

        /* Bot√≥n flotante de reportar bugs - ALTO CONTRASTE */
        .floating-bug-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            background: #dc2626 !important;
            border: 2px solid #ffffff !important;
            color: #ffffff !important;
            font-weight: 600;
            padding: 0.75rem 1.25rem;
            border-radius: 50px;
            box-shadow: 0 4px 15px rgba(220, 38, 38, 0.5);
            transition: all 0.3s ease;
        }

        .floating-bug-button:hover {
            background: #b91c1c !important;
            color: #ffffff !important;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(220, 38, 38, 0.6);
        }

        /* √çndice de contenido */
        .toc-card {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1.25rem;
            margin-bottom: 2rem;
        }

        .toc-card h5 {
            color: var(--module-primary);
            margin-bottom: 1rem;
        }

        .toc-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .toc-list li {
            padding: 0.35rem 0;
        }

        .toc-list a {
            color: #495057;
            text-decoration: none;
            transition: color 0.2s;
        }

        .toc-list a:hover {
            color: var(--module-primary);
        }

        /* Tarjetas de funciones ejemplo */
        .function-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .function-card-example {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 12px;
            padding: 1rem;
            text-align: left;
            transition: all 0.2s;
        }

        .function-card-example:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }

        .function-icon-example {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: #f8f5ff;
            color: var(--module-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            margin-bottom: 0.75rem;
        }

        .function-title-example {
            font-weight: 600;
            color: #2c3e50;
            font-size: 0.95rem;
            margin-bottom: 0.25rem;
        }

        .function-desc-example {
            font-size: 0.8rem;
            color: #6c757d;
            margin: 0;
        }

        /* Tarjetas de m√©tricas ejemplo */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .metric-card-example {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 12px;
            padding: 1rem;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .metric-value-example {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--module-primary);
        }

        .metric-label-example {
            font-size: 0.85rem;
            color: #6c757d;
        }

        .metric-icon-example {
            color: var(--module-primary);
            font-size: 1.25rem;
        }

        /* Badge ejemplo */
        .badge-example {
            background: #f8f5ff;
            color: var(--module-primary);
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.85rem;
            font-weight: 500;
        }

        /* Bot√≥n ejemplo */
        .btn-example {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.375rem 0.75rem;
            border-radius: 4px;
            font-size: 0.875rem;
        }

        .btn-example.outline-primary {
            border: 1px solid #0d6efd;
            color: #0d6efd;
            background: white;
        }

        /* Tabla de funciones */
        .functions-table {
            width: 100%;
            margin: 1rem 0;
        }

        .functions-table th {
            background: var(--module-primary);
            color: white;
            padding: 0.75rem;
            text-align: left;
        }

        .functions-table td {
            padding: 0.75rem;
            border-bottom: 1px solid #dee2e6;
            vertical-align: top;
        }

        .functions-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .functions-table .icon-cell {
            width: 50px;
            text-align: center;
        }

        .functions-table .icon-cell i {
            color: var(--module-primary);
            font-size: 1.25rem;
        }

        /* Diagrama de estructura */
        .structure-diagram {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
            text-align: center;
        }

        .structure-level {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin: 0.5rem 0;
        }

        .structure-box {
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .structure-box.config {
            background: var(--module-primary);
            color: white;
        }

        .structure-box.section {
            background: #e0cffc;
            color: var(--module-primary);
        }

        .structure-box.grade {
            background: #f8f5ff;
            color: var(--module-primary);
            border: 1px solid #e0cffc;
        }

        .structure-arrow {
            color: #6c757d;
            font-size: 1.5rem;
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <p class="mb-0">Cargando...</p>
        </div>
    </div>

    <!-- ENCABEZADO DEL MANUAL -->
    <div class="manual-header">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1>
                        <i class="bi bi-book me-2"></i>
                        Manual: M√≥dulo de Configuraci√≥n
                    </h1>
                    <p class="subtitle mb-0">
                        <i class="bi bi-gear me-1"></i>
                        Gu√≠a completa del m√≥dulo de configuraci√≥n del sistema
                    </p>
                </div>
                <div class="col-md-4 text-md-end mt-3 mt-md-0">
                    <a href="../../modules/config/index.html" class="btn btn-outline-light">
                        <i class="bi bi-arrow-left me-1"></i>Volver al M√≥dulo
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="container">

        <!-- CONTENEDOR DE ALERTAS -->
        <div id="alertContainer"></div>

        <div class="row">
            <div class="col-lg-10 mx-auto">

                <!-- √çNDICE DE CONTENIDO -->
                <div class="toc-card">
                    <h5><i class="bi bi-list-ul me-2"></i>Contenido de este manual</h5>
                    <ul class="toc-list">
                        <li><a href="#que-es"><i class="bi bi-arrow-right me-2"></i>¬øQu√© es el M√≥dulo de Configuraci√≥n?</a></li>
                        <li><a href="#pantalla-principal"><i class="bi bi-arrow-right me-2"></i>Conociendo la pantalla principal</a></li>
                        <li><a href="#metricas"><i class="bi bi-arrow-right me-2"></i>Las m√©tricas del m√≥dulo</a></li>
                        <li><a href="#funciones"><i class="bi bi-arrow-right me-2"></i>Funciones disponibles</a></li>
                        <li><a href="#estructura"><i class="bi bi-arrow-right me-2"></i>Estructura organizacional</a></li>
                        <li><a href="#permisos"><i class="bi bi-arrow-right me-2"></i>Permisos y acceso</a></li>
                        <li><a href="#navegacion"><i class="bi bi-arrow-right me-2"></i>C√≥mo navegar el m√≥dulo</a></li>
                        <li><a href="#preguntas-frecuentes"><i class="bi bi-arrow-right me-2"></i>Preguntas frecuentes</a></li>
                    </ul>
                </div>

                <!-- CONTENIDO PRINCIPAL -->
                <div class="manual-content">

                    <!-- ¬øQU√â ES? -->
                    <section class="manual-section" id="que-es">
                        <h2><i class="bi bi-info-circle"></i> ¬øQu√© es el M√≥dulo de Configuraci√≥n?</h2>
                        
                        <p>
                            El <strong>M√≥dulo de Configuraci√≥n</strong> es el centro de control de SchoolNet. 
                            Desde aqu√≠ se gestiona toda la estructura organizacional del colegio: a√±os acad√©micos, 
                            secciones, grados, cursos, √°reas acad√©micas, programas, familias, estudiantes y tarifas.
                        </p>

                        <h3>¬øPor qu√© es importante?</h3>
                        <p>
                            La configuraci√≥n correcta de este m√≥dulo es fundamental porque:
                        </p>
                        <ul class="feature-list">
                            <li>Define la estructura acad√©mica que usan todos los dem√°s m√≥dulos</li>
                            <li>Establece los per√≠odos acad√©micos para matr√≠culas y evaluaciones</li>
                            <li>Organiza los estudiantes en familias, grados y cursos</li>
                            <li>Configura las tarifas para facturaci√≥n</li>
                            <li>Centraliza la informaci√≥n de configuraci√≥n global</li>
                        </ul>

                        <div class="info-box">
                            <strong><i class="bi bi-lightbulb me-2"></i>Recomendaci√≥n:</strong>
                            Antes de usar otros m√≥dulos de SchoolNet, aseg√∫rate de que la configuraci√≥n 
                            est√© completa: a√±os acad√©micos, secciones, grados, cursos y estudiantes.
                        </div>
                    </section>

                    <!-- PANTALLA PRINCIPAL -->
                    <section class="manual-section" id="pantalla-principal">
                        <h2><i class="bi bi-display"></i> Conociendo la pantalla principal</h2>

                        <p>
                            La p√°gina de inicio del m√≥dulo de Configuraci√≥n muestra un resumen visual 
                            con m√©tricas y acceso r√°pido a todas las funciones. Estas son sus partes:
                        </p>

                        <h3>Encabezado con badge contextual</h3>
                        <p>
                            En la parte superior ver√°s el t√≠tulo del m√≥dulo y un badge que muestra 
                            el a√±o acad√©mico actual:
                        </p>
                        <div class="mb-3">
                            <span class="badge-example">A√±o Acad√©mico: 2025-2026</span>
                        </div>
                        <p>
                            Este badge te ayuda a recordar en qu√© per√≠odo est√°s trabajando.
                        </p>

                        <h3>Secci√≥n de m√©tricas</h3>
                        <p>
                            Las m√©tricas muestran un resumen r√°pido de la configuraci√≥n actual. 
                            Por defecto aparecen con valores "--" hasta que hagas clic en 
                            "Cargar M√©tricas":
                        </p>
                        <div class="mb-3">
                            <span class="btn-example outline-primary">
                                <i class="bi bi-bar-chart"></i> Cargar M√©tricas
                            </span>
                        </div>

                        <h3>Grid de funciones</h3>
                        <p>
                            Debajo de las m√©tricas hay tarjetas para acceder a cada funci√≥n del m√≥dulo. 
                            Solo ver√°s las funciones para las que tienes permiso.
                        </p>
                    </section>

                    <!-- M√âTRICAS -->
                    <section class="manual-section" id="metricas">
                        <h2><i class="bi bi-graph-up"></i> Las m√©tricas del m√≥dulo</h2>

                        <p>
                            Las m√©tricas proporcionan una vista r√°pida del estado de la configuraci√≥n. 
                            Se cargan bajo demanda para mejorar el rendimiento de la p√°gina.
                        </p>

                        <h3>M√©tricas disponibles</h3>
                        <div class="metrics-grid">
                            <div class="metric-card-example">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <span class="metric-value-example">4</span>
                                    <i class="bi bi-collection metric-icon-example"></i>
                                </div>
                                <p class="metric-label-example mb-0">Secciones</p>
                            </div>
                            <div class="metric-card-example">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <span class="metric-value-example">15</span>
                                    <i class="bi bi-diagram-2 metric-icon-example"></i>
                                </div>
                                <p class="metric-label-example mb-0">Grados</p>
                            </div>
                            <div class="metric-card-example">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <span class="metric-value-example">42</span>
                                    <i class="bi bi-diagram-3 metric-icon-example"></i>
                                </div>
                                <p class="metric-label-example mb-0">Cursos</p>
                            </div>
                            <div class="metric-card-example">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <span class="metric-value-example">8</span>
                                    <i class="bi bi-mortarboard metric-icon-example"></i>
                                </div>
                                <p class="metric-label-example mb-0">√Åreas</p>
                            </div>
                            <div class="metric-card-example">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <span class="metric-value-example">856</span>
                                    <i class="bi bi-people metric-icon-example"></i>
                                </div>
                                <p class="metric-label-example mb-0">Estudiantes</p>
                            </div>
                        </div>

                        <h3>C√≥mo cargar las m√©tricas</h3>
                        <div class="step-card">
                            <h4><span class="step-number">1</span>Localizar el bot√≥n</h4>
                            <p>
                                En la esquina derecha de la secci√≥n "Resumen del M√≥dulo" hay un bot√≥n 
                                "Cargar M√©tricas".
                            </p>
                        </div>
                        <div class="step-card">
                            <h4><span class="step-number">2</span>Hacer clic</h4>
                            <p>
                                Al hacer clic, el sistema consultar√° la base de datos y mostrar√° 
                                los valores actuales.
                            </p>
                        </div>
                        <div class="step-card">
                            <h4><span class="step-number">3</span>Ver los resultados</h4>
                            <p>
                                Las tarjetas mostrar√°n los n√∫meros reales. El bot√≥n cambiar√° a 
                                "Actualizar M√©tricas" para futuras consultas.
                            </p>
                        </div>

                        <div class="info-box">
                            <strong><i class="bi bi-info-circle me-2"></i>¬øPor qu√© carga bajo demanda?</strong><br>
                            Las m√©tricas se cargan manualmente para que la p√°gina abra m√°s r√°pido. 
                            Consultar la base de datos para contar registros puede tomar tiempo, 
                            especialmente con muchos estudiantes.
                        </div>
                    </section>

                    <!-- FUNCIONES -->
                    <section class="manual-section" id="funciones">
                        <h2><i class="bi bi-grid-3x3-gap"></i> Funciones disponibles</h2>

                        <p>
                            El m√≥dulo de Configuraci√≥n incluye 10 funciones principales, cada una 
                            representada por una tarjeta en el grid:
                        </p>

                        <table class="functions-table">
                            <thead>
                                <tr>
                                    <th class="icon-cell"></th>
                                    <th>Funci√≥n</th>
                                    <th>Descripci√≥n</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="icon-cell"><i class="bi bi-sliders"></i></td>
                                    <td><strong>Configuraci√≥n General</strong></td>
                                    <td>Informaci√≥n b√°sica del sistema: nombre del colegio, colores, logo, etc.</td>
                                </tr>
                                <tr>
                                    <td class="icon-cell"><i class="bi bi-calendar-check"></i></td>
                                    <td><strong>A√±os Acad√©micos</strong></td>
                                    <td>Gestionar per√≠odos acad√©micos (2024-2025, 2025-2026, etc.) y definir cu√°l es el actual.</td>
                                </tr>
                                <tr>
                                    <td class="icon-cell"><i class="bi bi-collection"></i></td>
                                    <td><strong>Secciones</strong></td>
                                    <td>Administrar las grandes divisiones del colegio: Preescolar, Primaria, Bachillerato.</td>
                                </tr>
                                <tr>
                                    <td class="icon-cell"><i class="bi bi-diagram-2"></i></td>
                                    <td><strong>Grados</strong></td>
                                    <td>Configurar los grados dentro de cada secci√≥n: Prejard√≠n, Primero, Segundo, etc.</td>
                                </tr>
                                <tr>
                                    <td class="icon-cell"><i class="bi bi-diagram-3"></i></td>
                                    <td><strong>Cursos</strong></td>
                                    <td>Administrar los grupos dentro de cada grado: 3¬∞A, 3¬∞B, 3¬∞C, etc.</td>
                                </tr>
                                <tr>
                                    <td class="icon-cell"><i class="bi bi-mortarboard"></i></td>
                                    <td><strong>√Åreas Acad√©micas</strong></td>
                                    <td>Configurar las √°reas del conocimiento: Matem√°ticas, Ciencias, Espa√±ol, etc.</td>
                                </tr>
                                <tr>
                                    <td class="icon-cell"><i class="bi bi-bookmark"></i></td>
                                    <td><strong>Programas</strong></td>
                                    <td>Administrar programas especiales: Biling√ºismo, PAI, PEP, etc.</td>
                                </tr>
                                <tr>
                                    <td class="icon-cell"><i class="bi bi-house-heart"></i></td>
                                    <td><strong>Gestionar Familias</strong></td>
                                    <td>Administrar las familias del colegio para agrupar hermanos.</td>
                                </tr>
                                <tr>
                                    <td class="icon-cell"><i class="bi bi-people"></i></td>
                                    <td><strong>Gestionar Estudiantes</strong></td>
                                    <td>Registrar y editar informaci√≥n de estudiantes, asignarlos a cursos y familias.</td>
                                </tr>
                                <tr>
                                    <td class="icon-cell"><i class="bi bi-currency-dollar"></i></td>
                                    <td><strong>Tarifas Anuales</strong></td>
                                    <td>Configurar los costos educativos por grado para cada a√±o acad√©mico.</td>
                                </tr>
                            </tbody>
                        </table>

                        <h3>Ejemplo visual del grid</h3>
                        <div class="function-grid">
                            <div class="function-card-example">
                                <div class="function-icon-example">
                                    <i class="bi bi-sliders"></i>
                                </div>
                                <div class="function-title-example">Configuraci√≥n General</div>
                                <p class="function-desc-example">Configurar informaci√≥n b√°sica</p>
                            </div>
                            <div class="function-card-example">
                                <div class="function-icon-example">
                                    <i class="bi bi-calendar-check"></i>
                                </div>
                                <div class="function-title-example">A√±os Acad√©micos</div>
                                <p class="function-desc-example">Gestionar per√≠odos acad√©micos</p>
                            </div>
                            <div class="function-card-example">
                                <div class="function-icon-example">
                                    <i class="bi bi-collection"></i>
                                </div>
                                <div class="function-title-example">Secciones</div>
                                <p class="function-desc-example">Administrar secciones</p>
                            </div>
                            <div class="function-card-example">
                                <div class="function-icon-example">
                                    <i class="bi bi-people"></i>
                                </div>
                                <div class="function-title-example">Gestionar Estudiantes</div>
                                <p class="function-desc-example">Administrar estudiantes</p>
                            </div>
                        </div>
                    </section>

                    <!-- ESTRUCTURA -->
                    <section class="manual-section" id="estructura">
                        <h2><i class="bi bi-diagram-3"></i> Estructura organizacional</h2>

                        <p>
                            El m√≥dulo de Configuraci√≥n define la estructura jer√°rquica del colegio. 
                            Es importante entender c√≥mo se relacionan los elementos:
                        </p>

                        <div class="structure-diagram">
                            <div class="structure-level">
                                <span class="structure-box config">Configuraci√≥n General</span>
                            </div>
                            <div class="structure-arrow">‚Üì</div>
                            <div class="structure-level">
                                <span class="structure-box section">Preescolar</span>
                                <span class="structure-box section">Primaria</span>
                                <span class="structure-box section">Bachillerato</span>
                            </div>
                            <div class="structure-arrow">‚Üì</div>
                            <div class="structure-level">
                                <span class="structure-box grade">Prejard√≠n</span>
                                <span class="structure-box grade">Jard√≠n</span>
                                <span class="structure-box grade">Primero</span>
                                <span class="structure-box grade">...</span>
                                <span class="structure-box grade">Once</span>
                            </div>
                            <div class="structure-arrow">‚Üì</div>
                            <div class="structure-level">
                                <span class="structure-box grade">3¬∞A</span>
                                <span class="structure-box grade">3¬∞B</span>
                                <span class="structure-box grade">3¬∞C</span>
                            </div>
                        </div>

                        <h3>Orden de configuraci√≥n recomendado</h3>
                        <p>
                            Para una configuraci√≥n correcta, sigue este orden:
                        </p>
                        <ol>
                            <li><strong>Configuraci√≥n General</strong> - Nombre y datos del colegio</li>
                            <li><strong>A√±os Acad√©micos</strong> - Crear el a√±o actual</li>
                            <li><strong>Secciones</strong> - Preescolar, Primaria, Bachillerato</li>
                            <li><strong>Grados</strong> - Dentro de cada secci√≥n</li>
                            <li><strong>Cursos</strong> - Grupos dentro de cada grado</li>
                            <li><strong>√Åreas Acad√©micas</strong> - √Åreas del conocimiento</li>
                            <li><strong>Programas</strong> - Si hay programas especiales</li>
                            <li><strong>Familias</strong> - Antes de los estudiantes</li>
                            <li><strong>Estudiantes</strong> - Con sus familias y cursos</li>
                            <li><strong>Tarifas Anuales</strong> - Costos por grado</li>
                        </ol>

                        <div class="warning-box">
                            <strong><i class="bi bi-exclamation-triangle me-2"></i>Importante:</strong>
                            Cada elemento depende de los anteriores. Por ejemplo, no puedes crear 
                            grados sin secciones, ni cursos sin grados, ni estudiantes sin familias y cursos.
                        </div>
                    </section>

                    <!-- PERMISOS -->
                    <section class="manual-section" id="permisos">
                        <h2><i class="bi bi-shield-lock"></i> Permisos y acceso</h2>

                        <p>
                            El acceso al m√≥dulo de Configuraci√≥n est√° controlado por permisos. 
                            No todos los usuarios ven todas las funciones.
                        </p>

                        <h3>¬øC√≥mo funcionan los permisos?</h3>
                        <ul>
                            <li>
                                <strong>Acceso al m√≥dulo:</strong> Solo usuarios con al menos un permiso 
                                del m√≥dulo pueden ver la p√°gina principal.
                            </li>
                            <li>
                                <strong>Funciones individuales:</strong> Cada tarjeta de funci√≥n tiene 
                                un permiso espec√≠fico. Si no tienes el permiso, la tarjeta no aparece.
                            </li>
                            <li>
                                <strong>M√©tricas:</strong> Las m√©tricas tambi√©n tienen permisos. 
                                Solo ver√°s las m√©tricas para las que tienes acceso.
                            </li>
                        </ul>

                        <h3>Roles comunes</h3>
                        <ul>
                            <li>
                                <strong>Administrador:</strong> Acceso completo a todas las funciones.
                            </li>
                            <li>
                                <strong>Secretaria Acad√©mica:</strong> Acceso a estudiantes, familias, 
                                estructura acad√©mica.
                            </li>
                            <li>
                                <strong>Coordinador:</strong> Acceso limitado seg√∫n su √°rea.
                            </li>
                        </ul>

                        <div class="info-box">
                            <strong><i class="bi bi-info-circle me-2"></i>¬øNo ves una funci√≥n?</strong><br>
                            Si esperas ver una funci√≥n que no aparece, es probable que no tengas 
                            el permiso necesario. Contacta al administrador del sistema para 
                            solicitar acceso.
                        </div>
                    </section>

                    <!-- NAVEGACI√ìN -->
                    <section class="manual-section" id="navegacion">
                        <h2><i class="bi bi-signpost-2"></i> C√≥mo navegar el m√≥dulo</h2>

                        <h3>Desde el Dashboard</h3>
                        <div class="step-card">
                            <h4><span class="step-number">1</span>Ir al Dashboard</h4>
                            <p>Desde cualquier p√°gina, haz clic en "Dashboard" en el men√∫ o breadcrumbs.</p>
                        </div>
                        <div class="step-card">
                            <h4><span class="step-number">2</span>Buscar el m√≥dulo</h4>
                            <p>Localiza la tarjeta "Configuraci√≥n" con el √≠cono de engranaje morado.</p>
                        </div>
                        <div class="step-card">
                            <h4><span class="step-number">3</span>Hacer clic</h4>
                            <p>Al hacer clic, llegar√°s a la p√°gina principal del m√≥dulo.</p>
                        </div>

                        <h3>Dentro del m√≥dulo</h3>
                        <ul>
                            <li>
                                <strong>Breadcrumbs:</strong> Usa la ruta de navegaci√≥n en la parte superior 
                                para volver al Dashboard o a la p√°gina principal del m√≥dulo.
                            </li>
                            <li>
                                <strong>Tarjetas de funci√≥n:</strong> Haz clic en cualquier tarjeta para 
                                ir a esa funci√≥n espec√≠fica.
                            </li>
                            <li>
                                <strong>Bot√≥n "Volver":</strong> Cada funci√≥n tiene un bot√≥n para regresar 
                                al √≠ndice del m√≥dulo.
                            </li>
                        </ul>

                        <h3>Acceso directo</h3>
                        <p>
                            Si conoces la funci√≥n que necesitas, puedes acceder directamente usando 
                            la URL correspondiente. Por ejemplo:
                        </p>
                        <ul>
                            <li><code>/modules/config/students.html</code> - Gestionar Estudiantes</li>
                            <li><code>/modules/config/families.html</code> - Gestionar Familias</li>
                            <li><code>/modules/config/annual-fees.html</code> - Tarifas Anuales</li>
                        </ul>
                    </section>

                    <!-- PREGUNTAS FRECUENTES -->
                    <section class="manual-section" id="preguntas-frecuentes">
                        <h2><i class="bi bi-chat-left-quote"></i> Preguntas frecuentes</h2>

                        <div class="faq-item">
                            <p class="faq-question">¬øPor qu√© las m√©tricas aparecen como "--"?</p>
                            <p class="faq-answer">
                                Las m√©tricas no se cargan autom√°ticamente para que la p√°gina abra m√°s r√°pido. 
                                Haz clic en "Cargar M√©tricas" para ver los valores actuales.
                            </p>
                        </div>

                        <div class="faq-item">
                            <p class="faq-question">¬øPor qu√© no veo todas las funciones?</p>
                            <p class="faq-answer">
                                Solo se muestran las funciones para las que tienes permiso. Si necesitas 
                                acceso a una funci√≥n espec√≠fica, contacta al administrador del sistema.
                            </p>
                        </div>

                        <div class="faq-item">
                            <p class="faq-question">¬øQu√© significa el badge del a√±o acad√©mico?</p>
                            <p class="faq-answer">
                                Muestra el a√±o acad√©mico marcado como "actual" en el sistema. Este a√±o 
                                se usa por defecto en operaciones como matr√≠culas y configuraci√≥n de tarifas.
                            </p>
                        </div>

                        <div class="faq-item">
                            <p class="faq-question">¬øEn qu√© orden debo configurar el sistema?</p>
                            <p class="faq-answer">
                                Sigue el orden jer√°rquico: Configuraci√≥n General ‚Üí A√±os ‚Üí Secciones ‚Üí 
                                Grados ‚Üí Cursos ‚Üí √Åreas ‚Üí Programas ‚Üí Familias ‚Üí Estudiantes ‚Üí Tarifas. 
                                Cada elemento depende de los anteriores.
                            </p>
                        </div>

                        <div class="faq-item">
                            <p class="faq-question">¬øPuedo configurar varios a√±os a la vez?</p>
                            <p class="faq-answer">
                                S√≠, puedes tener varios a√±os acad√©micos configurados, pero solo uno puede 
                                estar marcado como "actual". Las tarifas se configuran por a√±o, 
                                as√≠ que puedes preparar el siguiente per√≠odo con anticipaci√≥n.
                            </p>
                        </div>

                        <div class="faq-item">
                            <p class="faq-question">¬øLas m√©tricas se actualizan solas?</p>
                            <p class="faq-answer">
                                No, las m√©tricas muestran el estado al momento de cargarlas. Si haces 
                                cambios en otra pesta√±a, haz clic en "Actualizar M√©tricas" para ver 
                                los nuevos valores.
                            </p>
                        </div>

                        <div class="faq-item">
                            <p class="faq-question">¬øQu√© es la m√©trica "Estudiantes Activos"?</p>
                            <p class="faq-answer">
                                Muestra la cantidad de estudiantes con estado "Activo" (c√≥digo 1). 
                                No incluye estudiantes inscritos, retirados o en otros estados.
                            </p>
                        </div>
                    </section>

                </div>

                <!-- TARJETA PARA REPORTAR BUGS - ALTO CONTRASTE -->
                <div class="bug-report-card">
                    <i class="bi bi-bug-fill" style="font-size: 2.5rem; margin-bottom: 0.5rem; display: block;"></i>
                    <h4>¬øEncontraste un problema o tienes una sugerencia?</h4>
                    <p>
                        Si algo no funciona como esperas, experimentaste un error, o tienes ideas 
                        para mejorar esta funcionalidad, cu√©ntanos. Tu retroalimentaci√≥n es muy valiosa.
                    </p>
                    <a href="../report-bug.html" class="btn btn-report">
                        <i class="bi bi-exclamation-triangle me-2"></i>Reportar Bug o Problema
                    </a>
                </div>

            </div>
        </div>

    </div>

    <!-- BOT√ìN FLOTANTE PARA REPORTAR BUGS -->
    <a href="../report-bug.html" class="btn floating-bug-button" title="Reportar Bug">
        <i class="bi bi-bug-fill me-2"></i>Reportar Bug
    </a>

    <!-- SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/js/config.js"></script>
    
    <script>
        // ==========================================
        // VARIABLES GLOBALES
        // ==========================================
        let currentUser = null;

        // ==========================================
        // CONFIGURACI√ìN DE LA P√ÅGINA
        // ==========================================
        const PAGE_CONFIG = {
            moduleName: 'Configuraci√≥n',
            modulePath: 'config',
            pageTitle: '√çndice del M√≥dulo',
            pagePath: 'index.html',
            moduleDescription: 'P√°gina principal del m√≥dulo de configuraci√≥n'
        };

        // ==========================================
        // INICIALIZACI√ìN
        // ==========================================
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üìñ Iniciando p√°gina de manual...');
            
            try {
                // Verificar si existe la funci√≥n de colores corporativos
                if (typeof loadAndApplyBrandColors === 'function') {
                    await loadAndApplyBrandColors();
                }
                
                // Verificar sesi√≥n si la funci√≥n existe
                if (typeof getStoredSession === 'function') {
                    const session = getStoredSession();
                    if (session && session.user) {
                        currentUser = session.user;
                    }
                }
                
                // Actualizar informaci√≥n en la p√°gina
                updatePageInfo();
                
                console.log('‚úÖ P√°gina de manual lista');
                
            } catch (error) {
                console.error('‚ùå Error inicializando p√°gina:', error);
            }
        });

        // ==========================================
        // ACTUALIZAR INFORMACI√ìN DE LA P√ÅGINA
        // ==========================================
        function updatePageInfo() {
            document.title = `Manual - ${PAGE_CONFIG.moduleName} - ${PAGE_CONFIG.pageTitle} - SchoolNet`;
        }

        // ==========================================
        // UTILIDADES DE LOADING
        // ==========================================
        function showLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.remove('hidden');
            }
        }

        function hideLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.add('hidden');
            }
        }

        // ==========================================
        // FUNCI√ìN DE MENSAJES
        // ==========================================
        function showMessage(message, type) {
            const alertContainer = document.getElementById('alertContainer');
            if (!alertContainer) return;
            
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} alert-dismissible fade show`;
            alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            alertContainer.appendChild(alertDiv);
            
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 5000);
        }
    </script>
</body>
</html>
