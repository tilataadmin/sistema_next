<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- VERSI√ìN DE LA P√ÅGINA -->
    <meta name="page-version" content="25.12.11.12.00">
    
    <title>Manual - Gesti√≥n de Secciones - SchoolNet</title>
    
    <!-- Bootstrap CSS - VERSI√ìN FIJA PROBADA -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #1B365D;
            --secondary-color: #667eea;
            --tertiary-color: #f59e0b;
        }

        body {
            background-color: #f8f9fa;
        }

        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .loading-overlay.hidden {
            display: none;
        }
        
        .loading-content {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #007bff;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Encabezado del manual */
        .manual-header {
            background: linear-gradient(135deg, var(--primary-color) 0%, #2a4a7a 100%);
            color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
        }

        .manual-header h1 {
            font-size: 1.75rem;
            margin-bottom: 0.5rem;
        }

        .manual-header .subtitle {
            opacity: 0.9;
            font-size: 1rem;
        }

        /* Contenedor principal del contenido */
        .manual-content {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        /* Secciones del manual */
        .manual-section {
            margin-bottom: 2.5rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #e9ecef;
        }

        .manual-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .manual-section h2 {
            color: var(--primary-color);
            font-size: 1.4rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .manual-section h3 {
            color: #495057;
            font-size: 1.15rem;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }

        /* Tarjetas de pasos */
        .step-card {
            background: #f8f9fa;
            border-left: 4px solid var(--secondary-color);
            padding: 1rem 1.25rem;
            margin-bottom: 1rem;
            border-radius: 0 8px 8px 0;
        }

        .step-card h4 {
            color: var(--primary-color);
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }

        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            background: var(--secondary-color);
            color: white;
            border-radius: 50%;
            font-weight: bold;
            font-size: 0.85rem;
            margin-right: 0.5rem;
        }

        /* Cajas de informaci√≥n */
        .info-box {
            background: #e7f3ff;
            border: 1px solid #b8daff;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .warning-box {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .success-box {
            background: #d4edda;
            border: 1px solid #28a745;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .danger-box {
            background: #f8d7da;
            border: 1px solid #dc3545;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        /* Lista de caracter√≠sticas */
        .feature-list {
            list-style: none;
            padding-left: 0;
        }

        .feature-list li {
            padding: 0.5rem 0;
            padding-left: 1.75rem;
            position: relative;
        }

        .feature-list li::before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #28a745;
            font-weight: bold;
        }

        /* Preguntas frecuentes */
        .faq-item {
            margin-bottom: 1rem;
        }

        .faq-question {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 0.25rem;
        }

        .faq-answer {
            color: #495057;
            padding-left: 1rem;
            border-left: 2px solid #dee2e6;
        }

        /* ================================================
           SECCI√ìN DE REPORTAR BUGS - ALTO CONTRASTE
           ================================================ */
        .bug-report-card {
            background: #1a1a2e;
            color: #ffffff;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
        }

        .bug-report-card h4 {
            color: #ffffff;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .bug-report-card p {
            color: #e0e0e0;
            margin-bottom: 1.5rem;
        }

        .bug-report-card .btn-report {
            background: #ff6b6b;
            border: none;
            color: #ffffff;
            font-weight: 600;
            padding: 0.75rem 2rem;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .bug-report-card .btn-report:hover {
            background: #ee5a5a;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 107, 107, 0.4);
            color: #ffffff;
        }

        /* Bot√≥n flotante de reportar bugs - ALTO CONTRASTE */
        .floating-bug-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            background: #dc2626 !important;
            border: 2px solid #ffffff !important;
            color: #ffffff !important;
            font-weight: 600;
            padding: 0.75rem 1.25rem;
            border-radius: 50px;
            box-shadow: 0 4px 15px rgba(220, 38, 38, 0.5);
            transition: all 0.3s ease;
        }

        .floating-bug-button:hover {
            background: #b91c1c !important;
            color: #ffffff !important;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(220, 38, 38, 0.6);
        }

        /* Tabla de campos */
        .fields-table {
            width: 100%;
            margin: 1rem 0;
        }

        .fields-table th {
            background: var(--primary-color);
            color: white;
            padding: 0.75rem;
            text-align: left;
        }

        .fields-table td {
            padding: 0.75rem;
            border-bottom: 1px solid #dee2e6;
            vertical-align: top;
        }

        .fields-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .required-badge {
            background: #dc3545;
            color: white;
            font-size: 0.7rem;
            padding: 0.15rem 0.4rem;
            border-radius: 4px;
            margin-left: 0.5rem;
        }

        .optional-badge {
            background: #6c757d;
            color: white;
            font-size: 0.7rem;
            padding: 0.15rem 0.4rem;
            border-radius: 4px;
            margin-left: 0.5rem;
        }

        /* √çndice de contenido */
        .toc-card {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1.25rem;
            margin-bottom: 2rem;
        }

        .toc-card h5 {
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .toc-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .toc-list li {
            padding: 0.35rem 0;
        }

        .toc-list a {
            color: #495057;
            text-decoration: none;
            transition: color 0.2s;
        }

        .toc-list a:hover {
            color: var(--secondary-color);
        }

        /* Iconos de acci√≥n */
        .action-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            border-radius: 4px;
            margin-right: 0.5rem;
        }

        .action-icon.edit {
            background: #e7f3ff;
            color: #0d6efd;
        }

        .action-icon.delete {
            background: #f8d7da;
            color: #dc3545;
        }

        /* Ejemplo visual de secci√≥n */
        .section-example {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .section-example .section-title {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .section-example .section-director {
            font-size: 0.9rem;
            color: #6c757d;
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <p class="mb-0">Cargando...</p>
        </div>
    </div>

    <!-- ENCABEZADO DEL MANUAL -->
    <div class="manual-header">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1>
                        <i class="bi bi-book me-2"></i>
                        Manual: Gesti√≥n de Secciones
                    </h1>
                    <p class="subtitle mb-0">
                        <i class="bi bi-collection me-1"></i>
                        Gu√≠a completa para organizar la estructura acad√©mica de la instituci√≥n
                    </p>
                </div>
                <div class="col-md-4 text-md-end mt-3 mt-md-0">
                    <a href="../../modules/config/sections.html" class="btn btn-outline-light">
                        <i class="bi bi-arrow-left me-1"></i>Volver al M√≥dulo
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="container">

        <!-- CONTENEDOR DE ALERTAS -->
        <div id="alertContainer"></div>

        <div class="row">
            <div class="col-lg-10 mx-auto">

                <!-- √çNDICE DE CONTENIDO -->
                <div class="toc-card">
                    <h5><i class="bi bi-list-ul me-2"></i>Contenido de este manual</h5>
                    <ul class="toc-list">
                        <li><a href="#que-es"><i class="bi bi-arrow-right me-2"></i>¬øQu√© son las Secciones?</a></li>
                        <li><a href="#antes-comenzar"><i class="bi bi-arrow-right me-2"></i>Antes de comenzar</a></li>
                        <li><a href="#pantalla-principal"><i class="bi bi-arrow-right me-2"></i>Conociendo la pantalla</a></li>
                        <li><a href="#crear-seccion"><i class="bi bi-arrow-right me-2"></i>Crear una nueva secci√≥n</a></li>
                        <li><a href="#editar-seccion"><i class="bi bi-arrow-right me-2"></i>Editar una secci√≥n</a></li>
                        <li><a href="#eliminar-seccion"><i class="bi bi-arrow-right me-2"></i>Eliminar una secci√≥n</a></li>
                        <li><a href="#problemas-comunes"><i class="bi bi-arrow-right me-2"></i>Soluci√≥n de problemas</a></li>
                        <li><a href="#preguntas-frecuentes"><i class="bi bi-arrow-right me-2"></i>Preguntas frecuentes</a></li>
                    </ul>
                </div>

                <!-- CONTENIDO PRINCIPAL -->
                <div class="manual-content">

                    <!-- ¬øQU√â ES? -->
                    <section class="manual-section" id="que-es">
                        <h2><i class="bi bi-info-circle"></i> ¬øQu√© son las Secciones?</h2>
                        
                        <p>
                            Las <strong>Secciones</strong> son las grandes divisiones que organizan la estructura 
                            acad√©mica de la instituci√≥n. Cada secci√≥n agrupa varios grados bajo la supervisi√≥n 
                            de un director de secci√≥n.
                        </p>

                        <div class="info-box">
                            <strong><i class="bi bi-lightbulb me-2"></i>Ejemplo t√≠pico de secciones:</strong><br>
                            Una instituci√≥n educativa podr√≠a tener secciones como: <strong>Preescolar</strong> 
                            (grados Prejard√≠n a Transici√≥n), <strong>Primaria</strong> (grados 1¬∞ a 5¬∞), 
                            <strong>Bachillerato</strong> (grados 6¬∞ a 11¬∞).
                        </div>

                        <h3>¬øPor qu√© son importantes?</h3>
                        <p>
                            Las secciones permiten organizar la gesti√≥n acad√©mica de forma jer√°rquica. 
                            Cada director de secci√≥n puede supervisar los grados bajo su cargo, 
                            generar reportes espec√≠ficos y tomar decisiones para su √°rea.
                        </p>

                        <h3>Funcionalidades principales</h3>
                        <ul class="feature-list">
                            <li>Crear secciones con nombres personalizados</li>
                            <li>Asignar un director responsable a cada secci√≥n</li>
                            <li>Ver informaci√≥n de contacto del director asignado</li>
                            <li>Modificar la informaci√≥n de secciones existentes</li>
                            <li>Eliminar secciones cuando sea necesario</li>
                            <li>Ver estad√≠sticas generales de las secciones</li>
                        </ul>

                        <h3>Ejemplo visual de una secci√≥n</h3>
                        <div class="section-example">
                            <div class="d-flex justify-content-between align-items-start">
                                <div>
                                    <div class="section-title">Primaria</div>
                                    <div class="section-director">
                                        <strong>Director:</strong> Mar√≠a Garc√≠a L√≥pez<br>
                                        <strong>Email:</strong> maria.garcia@colegio.edu.co
                                    </div>
                                </div>
                                <div>
                                    <span class="action-icon edit"><i class="bi bi-pencil"></i></span>
                                    <span class="action-icon delete"><i class="bi bi-trash"></i></span>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- ANTES DE COMENZAR -->
                    <section class="manual-section" id="antes-comenzar">
                        <h2><i class="bi bi-exclamation-triangle"></i> Antes de comenzar</h2>

                        <div class="warning-box">
                            <strong><i class="bi bi-shield-lock me-2"></i>Acceso restringido</strong><br>
                            Esta p√°gina solo est√° disponible para usuarios con permisos de administraci√≥n. 
                            Si no puedes acceder, contacta al administrador del sistema.
                        </div>

                        <h3>Requisitos previos</h3>
                        <p>Antes de crear secciones, aseg√∫rate de que:</p>
                        <ul>
                            <li>
                                <strong>Existan trabajadores registrados:</strong> Los directores de secci√≥n 
                                se seleccionan de la lista de trabajadores activos del sistema. Si no hay 
                                trabajadores, no podr√°s asignar directores.
                            </li>
                            <li>
                                <strong>Los trabajadores tengan email:</strong> El sistema identifica a los 
                                directores por su correo electr√≥nico, por lo que cada trabajador debe tener 
                                un email registrado.
                            </li>
                        </ul>

                        <h3>Planifica la estructura</h3>
                        <p>
                            Antes de crear las secciones, define claramente c√≥mo se organizar√° tu instituci√≥n:
                        </p>
                        <ul>
                            <li>¬øCu√°ntas secciones necesitas?</li>
                            <li>¬øQu√© nombre tendr√° cada secci√≥n?</li>
                            <li>¬øQui√©n ser√° el director de cada una?</li>
                        </ul>

                        <div class="info-box">
                            <strong><i class="bi bi-info-circle me-2"></i>Consejo:</strong>
                            Los nombres de las secciones deben ser √∫nicos. No puedes tener dos secciones 
                            con el mismo nombre.
                        </div>
                    </section>

                    <!-- PANTALLA PRINCIPAL -->
                    <section class="manual-section" id="pantalla-principal">
                        <h2><i class="bi bi-display"></i> Conociendo la pantalla</h2>

                        <p>La pantalla de Gesti√≥n de Secciones tiene tres √°reas principales:</p>

                        <h3>Panel de estad√≠sticas</h3>
                        <p>En la parte superior ver√°s tres indicadores:</p>
                        <ul>
                            <li><strong>Secciones Totales:</strong> Cantidad de secciones creadas en el sistema.</li>
                            <li><strong>Con Director Asignado:</strong> Secciones que tienen un director configurado.</li>
                            <li><strong>Directores Disponibles:</strong> Total de trabajadores activos que pueden ser asignados como directores.</li>
                        </ul>

                        <h3>Formulario de creaci√≥n</h3>
                        <p>
                            Justo debajo de las estad√≠sticas hay un formulario r√°pido para crear nuevas secciones. 
                            Tiene dos campos (nombre y director) y un bot√≥n de crear.
                        </p>

                        <h3>Lista de secciones</h3>
                        <p>
                            La parte inferior muestra todas las secciones existentes en forma de tarjetas. 
                            Cada tarjeta muestra el nombre de la secci√≥n, el director asignado, su email 
                            y la fecha de creaci√≥n. Tambi√©n incluye botones para editar y eliminar.
                        </p>

                        <div class="info-box">
                            <strong><i class="bi bi-arrow-clockwise me-2"></i>Bot√≥n de actualizar:</strong>
                            Si sospechas que los datos no est√°n actualizados, usa el bot√≥n de actualizar 
                            (√≠cono de flechas circulares) junto al t√≠tulo "Crear Nueva Secci√≥n" para 
                            recargar la informaci√≥n desde el servidor.
                        </div>
                    </section>

                    <!-- CREAR SECCI√ìN -->
                    <section class="manual-section" id="crear-seccion">
                        <h2><i class="bi bi-plus-circle"></i> Crear una nueva secci√≥n</h2>

                        <div class="step-card">
                            <h4><span class="step-number">1</span>Escribir el nombre de la secci√≥n</h4>
                            <p>
                                En el campo <strong>"Nombre de la Secci√≥n"</strong>, escribe un nombre 
                                descriptivo y √∫nico. Por ejemplo: "Preescolar", "Primaria", "Bachillerato", 
                                "Media Vocacional".
                            </p>
                        </div>

                        <div class="step-card">
                            <h4><span class="step-number">2</span>Seleccionar el director</h4>
                            <p>
                                En el campo <strong>"Director de la Secci√≥n"</strong>, haz clic en el 
                                selector desplegable y elige al trabajador que ser√° el director. 
                                La lista muestra todos los trabajadores activos ordenados alfab√©ticamente.
                            </p>
                        </div>

                        <div class="step-card">
                            <h4><span class="step-number">3</span>Verificar la informaci√≥n del director</h4>
                            <p>
                                Al seleccionar un director, aparecer√° un recuadro gris debajo del formulario 
                                mostrando el nombre completo y el email del director seleccionado. 
                                Verifica que sea la persona correcta.
                            </p>
                        </div>

                        <div class="step-card">
                            <h4><span class="step-number">4</span>Crear la secci√≥n</h4>
                            <p>
                                Haz clic en el bot√≥n <strong>"Crear"</strong>. El sistema validar√° que 
                                el nombre no est√© duplicado y guardar√° la nueva secci√≥n.
                            </p>
                        </div>

                        <div class="success-box">
                            <strong><i class="bi bi-check-circle me-2"></i>¬°Listo!</strong><br>
                            La nueva secci√≥n aparecer√° inmediatamente en la lista de secciones existentes 
                            y el formulario se limpiar√° para que puedas crear otra si lo necesitas.
                        </div>
                    </section>

                    <!-- EDITAR SECCI√ìN -->
                    <section class="manual-section" id="editar-seccion">
                        <h2><i class="bi bi-pencil"></i> Editar una secci√≥n</h2>

                        <div class="step-card">
                            <h4><span class="step-number">1</span>Localizar la secci√≥n</h4>
                            <p>
                                Busca la secci√≥n que deseas modificar en la lista de tarjetas.
                            </p>
                        </div>

                        <div class="step-card">
                            <h4><span class="step-number">2</span>Abrir el editor</h4>
                            <p>
                                Haz clic en el bot√≥n con el √≠cono de l√°piz 
                                <span class="action-icon edit"><i class="bi bi-pencil"></i></span> 
                                en la esquina superior derecha de la tarjeta. Se abrir√° una ventana 
                                con el formulario de edici√≥n.
                            </p>
                        </div>

                        <div class="step-card">
                            <h4><span class="step-number">3</span>Modificar los datos</h4>
                            <p>
                                Puedes cambiar el nombre de la secci√≥n, el director asignado, o ambos. 
                                Al cambiar el director, ver√°s su informaci√≥n de contacto actualizada.
                            </p>
                        </div>

                        <div class="step-card">
                            <h4><span class="step-number">4</span>Guardar los cambios</h4>
                            <p>
                                Haz clic en <strong>"Actualizar"</strong> para guardar. Si decides no 
                                hacer cambios, haz clic en <strong>"Cancelar"</strong> o cierra la ventana.
                            </p>
                        </div>

                        <div class="info-box">
                            <strong><i class="bi bi-info-circle me-2"></i>Cambio de director:</strong>
                            Cambiar el director de una secci√≥n es una acci√≥n administrativa com√∫n. 
                            El director anterior dejar√° de tener ese rol y el nuevo director lo asumir√° 
                            de inmediato. No se pierden datos hist√≥ricos.
                        </div>
                    </section>

                    <!-- ELIMINAR SECCI√ìN -->
                    <section class="manual-section" id="eliminar-seccion">
                        <h2><i class="bi bi-trash"></i> Eliminar una secci√≥n</h2>

                        <div class="danger-box">
                            <strong><i class="bi bi-exclamation-octagon me-2"></i>¬°Precauci√≥n!</strong><br>
                            Eliminar una secci√≥n es una acci√≥n que no se puede deshacer. Aseg√∫rate de 
                            que realmente deseas eliminarla antes de confirmar.
                        </div>

                        <div class="step-card">
                            <h4><span class="step-number">1</span>Localizar la secci√≥n</h4>
                            <p>
                                Encuentra la secci√≥n que deseas eliminar en la lista de tarjetas.
                            </p>
                        </div>

                        <div class="step-card">
                            <h4><span class="step-number">2</span>Hacer clic en eliminar</h4>
                            <p>
                                Haz clic en el bot√≥n con el √≠cono de papelera 
                                <span class="action-icon delete"><i class="bi bi-trash"></i></span> 
                                en la esquina superior derecha de la tarjeta.
                            </p>
                        </div>

                        <div class="step-card">
                            <h4><span class="step-number">3</span>Confirmar la eliminaci√≥n</h4>
                            <p>
                                Aparecer√° un mensaje de confirmaci√≥n preguntando si realmente deseas 
                                eliminar la secci√≥n. El mensaje incluir√° el nombre de la secci√≥n 
                                para que verifiques que es la correcta.
                            </p>
                        </div>

                        <div class="step-card">
                            <h4><span class="step-number">4</span>Aceptar o cancelar</h4>
                            <p>
                                Haz clic en <strong>"Aceptar"</strong> para confirmar la eliminaci√≥n, 
                                o en <strong>"Cancelar"</strong> si cambiaste de opini√≥n.
                            </p>
                        </div>

                        <div class="warning-box">
                            <strong><i class="bi bi-exclamation-triangle me-2"></i>Antes de eliminar:</strong>
                            Verifica que la secci√≥n no tenga grados asociados que dependan de ella. 
                            Eliminar una secci√≥n podr√≠a afectar la organizaci√≥n de los grados si no 
                            se reasignan previamente.
                        </div>
                    </section>

                    <!-- SOLUCI√ìN DE PROBLEMAS -->
                    <section class="manual-section" id="problemas-comunes">
                        <h2><i class="bi bi-wrench"></i> Soluci√≥n de problemas</h2>

                        <div class="faq-item">
                            <p class="faq-question">El selector de director est√° vac√≠o</p>
                            <p class="faq-answer">
                                Esto ocurre cuando no hay trabajadores activos registrados en el sistema. 
                                Debes ir al m√≥dulo de Recursos Humanos y registrar trabajadores con estado 
                                "activo" antes de poder asignarlos como directores.
                            </p>
                        </div>

                        <div class="faq-item">
                            <p class="faq-question">No puedo crear la secci√≥n: "Ya existe una secci√≥n con ese nombre"</p>
                            <p class="faq-answer">
                                Los nombres de las secciones deben ser √∫nicos. Verifica en la lista si ya 
                                existe una secci√≥n con el nombre que intentas usar. Si necesitas distinguirlas, 
                                usa nombres m√°s espec√≠ficos como "Primaria A" y "Primaria B".
                            </p>
                        </div>

                        <div class="faq-item">
                            <p class="faq-question">Aparece "Director no encontrado" en una secci√≥n</p>
                            <p class="faq-answer">
                                Esto significa que el trabajador asignado como director ya no est√° activo 
                                en el sistema (fue desactivado o eliminado). Debes editar la secci√≥n y 
                                asignar un nuevo director de la lista de trabajadores activos.
                            </p>
                        </div>

                        <div class="faq-item">
                            <p class="faq-question">No encuentro al trabajador que quiero asignar como director</p>
                            <p class="faq-answer">
                                El selector solo muestra trabajadores con estado "activo". Si el trabajador 
                                no aparece, verifica en el m√≥dulo de Recursos Humanos que su estado sea 
                                activo y que tenga un email registrado.
                            </p>
                        </div>

                        <div class="faq-item">
                            <p class="faq-question">Los cambios no se reflejan despu√©s de guardar</p>
                            <p class="faq-answer">
                                Usa el bot√≥n de actualizar (√≠cono de flechas circulares) para recargar 
                                los datos. Si el problema persiste, recarga la p√°gina completa con F5.
                            </p>
                        </div>

                        <div class="faq-item">
                            <p class="faq-question">No puedo eliminar una secci√≥n</p>
                            <p class="faq-answer">
                                Si aparece un error al eliminar, puede ser que la secci√≥n tenga datos 
                                asociados (grados, estudiantes, etc.) que impiden su eliminaci√≥n. 
                                Contacta al administrador t√©cnico para resolver esta situaci√≥n.
                            </p>
                        </div>
                    </section>

                    <!-- PREGUNTAS FRECUENTES -->
                    <section class="manual-section" id="preguntas-frecuentes">
                        <h2><i class="bi bi-chat-left-quote"></i> Preguntas frecuentes</h2>

                        <div class="faq-item">
                            <p class="faq-question">¬øCu√°ntas secciones puedo crear?</p>
                            <p class="faq-answer">
                                No hay l√≠mite en la cantidad de secciones. Puedes crear tantas como 
                                necesite tu estructura acad√©mica.
                            </p>
                        </div>

                        <div class="faq-item">
                            <p class="faq-question">¬øUn trabajador puede ser director de varias secciones?</p>
                            <p class="faq-answer">
                                S√≠, el sistema permite asignar el mismo trabajador como director de 
                                m√∫ltiples secciones. Sin embargo, eval√∫a si esto es conveniente para 
                                la carga de trabajo de esa persona.
                            </p>
                        </div>

                        <div class="faq-item">
                            <p class="faq-question">¬øQu√© pasa si el director renuncia o cambia de cargo?</p>
                            <p class="faq-answer">
                                Simplemente edita la secci√≥n y selecciona al nuevo director. El cambio 
                                es inmediato y no afecta el historial de la secci√≥n.
                            </p>
                        </div>

                        <div class="faq-item">
                            <p class="faq-question">¬øPuedo crear una secci√≥n sin director?</p>
                            <p class="faq-answer">
                                No, el sistema requiere que cada secci√≥n tenga un director asignado. 
                                Si temporalmente no tienes un director definido, puedes asignar 
                                provisionalmente a otro trabajador y cambiarlo despu√©s.
                            </p>
                        </div>

                        <div class="faq-item">
                            <p class="faq-question">¬øC√≥mo asocio grados a una secci√≥n?</p>
                            <p class="faq-answer">
                                La asociaci√≥n de grados a secciones se realiza desde la gesti√≥n de 
                                grados, no desde esta pantalla. Aqu√≠ solo se definen las secciones 
                                y sus directores.
                            </p>
                        </div>

                        <div class="faq-item">
                            <p class="faq-question">¬øEl director de secci√≥n recibe notificaciones especiales?</p>
                            <p class="faq-answer">
                                Depende de la configuraci√≥n del sistema. El email del director queda 
                                registrado y puede usarse para enviar notificaciones o reportes 
                                espec√≠ficos de su secci√≥n.
                            </p>
                        </div>

                        <div class="faq-item">
                            <p class="faq-question">¬øPuedo cambiar el nombre de una secci√≥n despu√©s de crearla?</p>
                            <p class="faq-answer">
                                S√≠, puedes editar el nombre de cualquier secci√≥n en cualquier momento 
                                usando el bot√≥n de editar. Solo aseg√∫rate de que el nuevo nombre 
                                no est√© duplicado.
                            </p>
                        </div>
                    </section>

                </div>

                <!-- TARJETA PARA REPORTAR BUGS - ALTO CONTRASTE -->
                <div class="bug-report-card">
                    <i class="bi bi-bug-fill" style="font-size: 2.5rem; margin-bottom: 0.5rem; display: block;"></i>
                    <h4>¬øEncontraste un problema o tienes una sugerencia?</h4>
                    <p>
                        Si algo no funciona como esperas, experimentaste un error, o tienes ideas 
                        para mejorar esta funcionalidad, cu√©ntanos. Tu retroalimentaci√≥n es muy valiosa.
                    </p>
                    <a href="../report-bug.html" class="btn btn-report">
                        <i class="bi bi-exclamation-triangle me-2"></i>Reportar Bug o Problema
                    </a>
                </div>

            </div>
        </div>

    </div>

    <!-- BOT√ìN FLOTANTE PARA REPORTAR BUGS -->
    <a href="../report-bug.html" class="btn floating-bug-button" title="Reportar Bug">
        <i class="bi bi-bug-fill me-2"></i>Reportar Bug
    </a>

    <!-- SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/js/config.js"></script>
    
    <script>
        // ==========================================
        // VARIABLES GLOBALES
        // ==========================================
        let currentUser = null;

        // ==========================================
        // CONFIGURACI√ìN DE LA P√ÅGINA
        // ==========================================
        const PAGE_CONFIG = {
            moduleName: 'Configuraci√≥n',
            modulePath: 'config',
            pageTitle: 'Gesti√≥n de Secciones',
            pagePath: 'sections.html',
            moduleDescription: 'Organizaci√≥n de la estructura acad√©mica de la instituci√≥n'
        };

        // ==========================================
        // INICIALIZACI√ìN
        // ==========================================
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üìñ Iniciando p√°gina de manual...');
            
            try {
                // Verificar si existe la funci√≥n de colores corporativos
                if (typeof loadAndApplyBrandColors === 'function') {
                    await loadAndApplyBrandColors();
                }
                
                // Verificar sesi√≥n si la funci√≥n existe
                if (typeof getStoredSession === 'function') {
                    const session = getStoredSession();
                    if (session && session.user) {
                        currentUser = session.user;
                    }
                }
                
                // Actualizar informaci√≥n en la p√°gina
                updatePageInfo();
                
                console.log('‚úÖ P√°gina de manual lista');
                
            } catch (error) {
                console.error('‚ùå Error inicializando p√°gina:', error);
            }
        });

        // ==========================================
        // ACTUALIZAR INFORMACI√ìN DE LA P√ÅGINA
        // ==========================================
        function updatePageInfo() {
            document.title = `Manual - ${PAGE_CONFIG.moduleName} - ${PAGE_CONFIG.pageTitle} - SchoolNet`;
        }

        // ==========================================
        // UTILIDADES DE LOADING
        // ==========================================
        function showLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.remove('hidden');
            }
        }

        function hideLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.add('hidden');
            }
        }

        // ==========================================
        // FUNCI√ìN DE MENSAJES
        // ==========================================
        function showMessage(message, type) {
            const alertContainer = document.getElementById('alertContainer');
            if (!alertContainer) return;
            
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} alert-dismissible fade show`;
            alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            alertContainer.appendChild(alertDiv);
            
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 5000);
        }
    </script>
</body>
</html>
