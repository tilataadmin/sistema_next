<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="page-version" content="25.11.09.11.15">
    <title>Manual - Talento Humano - Autorizar Ausencias - SchoolNet</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #1e3a8a;
            --secondary-color: #3b82f6;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --info-color: #06b6d4;
            --light-bg: #f8fafc;
            --border-color: #e2e8f0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--light-bg);
            color: #1e293b;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            padding: 2rem 1rem;
        }

        .header-section {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .header-section h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .header-section p {
            font-size: 1.125rem;
            opacity: 0.95;
            margin-bottom: 0;
        }

        .section-card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--border-color);
        }

        .section-card h2 {
            color: var(--primary-color);
            font-size: 1.75rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 3px solid var(--secondary-color);
        }

        .section-card h3 {
            color: var(--secondary-color);
            font-size: 1.25rem;
            font-weight: 600;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }

        .info-box {
            background-color: #dbeafe;
            border-left: 4px solid var(--info-color);
            padding: 1rem 1.25rem;
            border-radius: 8px;
            margin: 1.5rem 0;
        }

        .success-box {
            background-color: #d1fae5;
            border-left: 4px solid var(--success-color);
            padding: 1rem 1.25rem;
            border-radius: 8px;
            margin: 1.5rem 0;
        }

        .warning-box {
            background-color: #fef3c7;
            border-left: 4px solid var(--warning-color);
            padding: 1rem 1.25rem;
            border-radius: 8px;
            margin: 1.5rem 0;
        }

        .danger-box {
            background-color: #fee2e2;
            border-left: 4px solid var(--danger-color);
            padding: 1rem 1.25rem;
            border-radius: 8px;
            margin: 1.5rem 0;
        }

        .step-card {
            background: var(--light-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.25rem;
            margin: 1rem 0;
        }

        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            background-color: var(--secondary-color);
            color: white;
            border-radius: 50%;
            font-weight: 600;
            margin-right: 0.75rem;
        }

        .feature-list {
            list-style: none;
            padding-left: 0;
        }

        .feature-list li {
            padding: 0.75rem 0;
            padding-left: 2rem;
            position: relative;
        }

        .feature-list li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: var(--success-color);
            font-weight: bold;
            font-size: 1.25rem;
        }

        .btn-return {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
        }

        .bug-report-card {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
            border: 2px solid var(--danger-color);
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
            margin-top: 3rem;
        }

        .floating-bug-button {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% {
                box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
            }
            50% {
                box-shadow: 0 6px 20px rgba(239, 68, 68, 0.6);
            }
        }

        .table-responsive {
            margin-top: 1rem;
        }

        .table {
            margin-bottom: 0;
        }

        .table th {
            background-color: var(--light-bg);
            color: var(--primary-color);
            font-weight: 600;
        }

        .badge-example {
            display: inline-block;
            margin: 0.25rem;
        }

        ol, ul {
            margin: 1rem 0;
        }

        ol li, ul li {
            margin: 0.5rem 0;
        }

        @media (max-width: 768px) {
            .header-section h1 {
                font-size: 1.75rem;
            }

            .container {
                padding: 1rem 0.5rem;
            }

            .floating-bug-button {
                bottom: 1rem;
                right: 1rem;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        
        <!-- Botón Volver -->
        <a href="../../modules/hr/authorize-absences.html" class="btn btn-outline-primary btn-return">
            <i class="bi bi-arrow-left"></i>
            <span>Volver al Módulo</span>
        </a>

        <!-- Encabezado -->
        <div class="header-section">
            <h1>
                <i class="bi bi-check-circle me-3"></i>
                Manual: Autorizar Ausencias
            </h1>
            <p>Módulo de Talento Humano - Gestión y Aprobación de Solicitudes</p>
        </div>

        <!-- ¿Qué es? -->
        <div class="section-card">
            <h2>
                <i class="bi bi-info-circle me-2"></i>
                ¿Qué es esta función?
            </h2>
            <p>
                La función <strong>"Autorizar Ausencias"</strong> es la herramienta que utilizan jefes, 
                coordinadores y directivos para revisar y aprobar (o rechazar) las solicitudes de ausencia 
                que les han sido asignadas. Esta función te permite tomar decisiones informadas sobre las 
                ausencias de tu equipo de trabajo.
            </p>
            <p>
                Cuando un trabajador solicita una ausencia, el sistema automáticamente crea autorizaciones 
                para las personas correspondientes según el tipo y duración de la ausencia. Si tú eres una 
                de esas personas, verás esas solicitudes en esta pantalla para que puedas revisarlas, 
                consultar los documentos adjuntos y decidir si las apruebas o rechazas.
            </p>

            <div class="info-box">
                <strong><i class="bi bi-lightbulb me-2"></i>Importante:</strong>
                Esta función es exclusiva para personas con responsabilidades de autorización. Solo verás 
                las solicitudes que requieren específicamente tu aprobación, no todas las solicitudes del sistema.
            </div>
        </div>

        <!-- Características -->
        <div class="section-card">
            <h2>
                <i class="bi bi-star me-2"></i>
                Características Principales
            </h2>
            <ul class="feature-list">
                <li><strong>Vista personalizada:</strong> Solo ves las solicitudes que requieren tu autorización específica</li>
                <li><strong>Filtros avanzados:</strong> Filtra por estado (pendiente, aprobada, rechazada), fechas o nombre del solicitante</li>
                <li><strong>Información completa:</strong> Accede a todos los detalles de cada solicitud antes de decidir</li>
                <li><strong>Documentos adjuntos:</strong> Visualiza y descarga incapacidades, certificados y otros documentos de soporte</li>
                <li><strong>Timeline de autorizaciones:</strong> Ve quién más debe autorizar y el estado de cada autorización</li>
                <li><strong>Decisiones con comentarios:</strong> Agrega comentarios al aprobar o rechazar (obligatorio al rechazar)</li>
                <li><strong>Notificaciones automáticas:</strong> El sistema informa al trabajador y otras partes cuando tomas una decisión</li>
                <li><strong>Clasificación por nivel:</strong> Las solicitudes muestran si necesitan autorización como jefe directo, TH o directivas</li>
                <li><strong>Priorización visual:</strong> Las solicitudes urgentes (pendientes) se destacan visualmente</li>
                <li><strong>Historial completo:</strong> Consulta decisiones anteriores y sus comentarios</li>
            </ul>
        </div>

        <!-- Antes de Comenzar -->
        <div class="section-card">
            <h2>
                <i class="bi bi-clipboard-check me-2"></i>
                Antes de Comenzar
            </h2>

            <h3>Requisitos Previos</h3>
            <ol>
                <li><strong>Tener rol de autorizador:</strong> Debes ser jefe directo de trabajadores, o tener un rol en Talento Humano o Directivas</li>
                <li><strong>Permisos activos:</strong> Tu usuario debe tener acceso al módulo de "Autorizar Ausencias"</li>
                <li><strong>Conocer las políticas:</strong> Es importante que conozcas las políticas institucionales sobre ausencias</li>
            </ol>

            <h3>Niveles de Autorización</h3>
            <p>El sistema maneja tres niveles de autorización, cada uno con un color distintivo:</p>
            
            <div class="step-card">
                <strong><i class="bi bi-person-badge me-2"></i>Jefe Directo</strong>
                <span class="badge bg-primary badge-example">Azul claro</span>
                <p class="mb-0 mt-2">
                    Eres el jefe principal del trabajador que solicita la ausencia. Este nivel de 
                    autorización <strong>siempre es obligatorio</strong> para cualquier tipo de ausencia.
                </p>
            </div>

            <div class="step-card">
                <strong><i class="bi bi-people me-2"></i>Talento Humano</strong>
                <span class="badge bg-info badge-example">Azul medio</span>
                <p class="mb-0 mt-2">
                    Se requiere cuando la ausencia supera cierta cantidad de días (configurado por la institución). 
                    El área de TH revisa aspectos de política laboral y disponibilidad de personal.
                </p>
            </div>

            <div class="step-card">
                <strong><i class="bi bi-building me-2"></i>Dirección Superior</strong>
                <span class="badge bg-danger badge-example">Rojo/rosado</span>
                <p class="mb-0 mt-2">
                    Se requiere para ausencias muy largas o de impacto significativo. Puede ser el Rector 
                    (para personal de secciones académicas) o el Coordinador Administrativo (para personal sin sección).
                </p>
            </div>

            <h3>Flujo de Autorización</h3>
            <p>Es importante entender cómo funciona el proceso completo:</p>
            <ol>
                <li><strong>Solicitud creada:</strong> El trabajador envía su solicitud con documentos</li>
                <li><strong>Autorizaciones generadas:</strong> El sistema crea automáticamente las autorizaciones necesarias según el tipo y duración</li>
                <li><strong>Notificaciones enviadas:</strong> Cada autorizador recibe un email informando que tiene una solicitud pendiente</li>
                <li><strong>Revisión independiente:</strong> Cada autorizador revisa y decide de forma independiente</li>
                <li><strong>Decisión final:</strong> La solicitud se aprueba solo cuando TODOS los autorizadores la aprueban. Si uno rechaza, queda rechazada.</li>
                <li><strong>Notificación al trabajador:</strong> El solicitante recibe email informando la decisión</li>
            </ol>

            <div class="warning-box">
                <strong><i class="bi bi-exclamation-triangle me-2"></i>Importante sobre decisiones:</strong>
                <ul class="mt-2 mb-0">
                    <li>Las decisiones NO se pueden revertir una vez tomadas</li>
                    <li>Al rechazar una solicitud, DEBES explicar el motivo (es obligatorio)</li>
                    <li>Si apruebas pero luego surge un problema, debes contactar a Talento Humano</li>
                    <li>Revisa cuidadosamente antes de aprobar o rechazar</li>
                </ul>
            </div>
        </div>

        <!-- Guía Paso a Paso -->
        <div class="section-card">
            <h2>
                <i class="bi bi-list-ol me-2"></i>
                Guía Paso a Paso
            </h2>

            <div class="step-card">
                <h3>
                    <span class="step-number">1</span>
                    Accede a la Página de Autorizar Ausencias
                </h3>
                <p>
                    Desde el menú principal o el dashboard de SchoolNet:
                </p>
                <ol>
                    <li>Ve a <strong>Talento Humano</strong></li>
                    <li>Haz clic en <strong>Autorizar Ausencias</strong></li>
                    <li>La página cargará automáticamente todas las solicitudes que requieren tu autorización</li>
                </ol>
                <div class="info-box">
                    <strong><i class="bi bi-lightbulb me-2"></i>Primer acceso:</strong>
                    Si es la primera vez que entras, el sistema verificará que tienes permisos y que estás 
                    registrado como trabajador. Si ves un error, contacta al administrador del sistema.
                </div>
            </div>

            <div class="step-card">
                <h3>
                    <span class="step-number">2</span>
                    Comprende la Vista Principal
                </h3>
                <p>
                    Al entrar, verás una pantalla organizada en estas secciones:
                </p>
                
                <h4><i class="bi bi-funnel me-2"></i>Panel de Filtros (parte superior)</h4>
                <p>Aquí puedes filtrar las solicitudes por:</p>
                <ul>
                    <li><strong>Estado:</strong> Pendientes (opción por defecto), Aprobadas, Rechazadas o Todas</li>
                    <li><strong>Desde/Hasta:</strong> Rango de fechas de la ausencia</li>
                    <li><strong>Solicitante:</strong> Buscar por nombre del trabajador</li>
                </ul>

                <h4><i class="bi bi-grid me-2"></i>Tarjetas de Solicitudes</h4>
                <p>Cada solicitud se muestra como una tarjeta que contiene:</p>
                <ul>
                    <li><strong>Nivel de autorización:</strong> Tu rol en esta solicitud (badge azul, celeste o rosado)</li>
                    <li><strong>Estado:</strong> Pendiente (amarillo), Aprobada (verde) o Rechazada (rojo)</li>
                    <li><strong>Nombre del solicitante</strong></li>
                    <li><strong>Categoría de ausencia:</strong> Tipo de permiso solicitado</li>
                    <li><strong>Fechas y horarios</strong></li>
                    <li><strong>Total de días</strong></li>
                    <li><strong>Fecha de la solicitud</strong></li>
                </ul>

                <div class="success-box">
                    <strong><i class="bi bi-lightbulb me-2"></i>Identificar prioridades:</strong>
                    Las solicitudes pendientes tienen un borde rojo más grueso en el lado izquierdo. 
                    Estas son las que requieren tu atención inmediata.
                </div>
            </div>

            <div class="step-card">
                <h3>
                    <span class="step-number">3</span>
                    Usa los Filtros para Organizar
                </h3>
                <p>
                    Por defecto, verás solo las solicitudes <strong>Pendientes</strong>. Para ajustar la vista:
                </p>

                <h4>Filtrar por estado:</h4>
                <ol>
                    <li>En el menú desplegable <strong>"Estado"</strong>, selecciona:
                        <ul>
                            <li><strong>Pendientes:</strong> Solo las que necesitas revisar</li>
                            <li><strong>Aprobadas:</strong> Las que ya aprobaste</li>
                            <li><strong>Rechazadas:</strong> Las que rechazaste</li>
                            <li><strong>Todas:</strong> Todo tu historial</li>
                        </ul>
                    </li>
                    <li>La lista se actualiza automáticamente</li>
                </ol>

                <h4>Filtrar por fechas:</h4>
                <ol>
                    <li>En <strong>"Desde"</strong>, selecciona la fecha inicial del rango</li>
                    <li>En <strong>"Hasta"</strong>, selecciona la fecha final</li>
                    <li>El sistema mostrará solo las ausencias en ese período</li>
                </ol>

                <h4>Buscar por nombre:</h4>
                <ol>
                    <li>En el campo <strong>"Solicitante"</strong>, escribe el nombre o apellido</li>
                    <li>El filtrado es instantáneo mientras escribes</li>
                    <li>No es necesario escribir el nombre completo</li>
                </ol>

                <h4>Limpiar filtros:</h4>
                <ul>
                    <li>Haz clic en el botón <strong>"Limpiar Filtros"</strong></li>
                    <li>Esto restaura la vista a "Pendientes" sin fechas ni búsqueda</li>
                </ul>

                <h4>Actualizar la lista:</h4>
                <ul>
                    <li>Haz clic en el botón <strong>"Actualizar"</strong> (icono de flecha circular)</li>
                    <li>Esto recarga las solicitudes desde el servidor</li>
                    <li>Útil si sospechas que hay nuevas solicitudes</li>
                </ul>

                <div class="info-box">
                    <strong><i class="bi bi-info-circle me-2"></i>Combinación de filtros:</strong>
                    Puedes combinar todos los filtros simultáneamente. Por ejemplo: ver solo solicitudes 
                    aprobadas de María entre el 1 y 15 de noviembre.
                </div>
            </div>

            <div class="step-card">
                <h3>
                    <span class="step-number">4</span>
                    Abre el Detalle de una Solicitud
                </h3>
                <p>
                    Para revisar toda la información antes de decidir:
                </p>
                <ol>
                    <li>Haz clic en cualquier parte de la tarjeta de la solicitud</li>
                    <li>Se abrirá una ventana emergente grande con el detalle completo</li>
                    <li>Esta ventana tiene varias secciones importantes (explicadas en el siguiente paso)</li>
                </ol>
            </div>

            <div class="step-card">
                <h3>
                    <span class="step-number">5</span>
                    Revisa el Detalle Completo
                </h3>
                <p>
                    La ventana de detalle está organizada en estas secciones:
                </p>

                <h4><i class="bi bi-person-circle me-2"></i>Información del Solicitante</h4>
                <p>Aquí verás:</p>
                <ul>
                    <li>Nombre completo del trabajador</li>
                    <li>Email de contacto</li>
                    <li>Categoría de ausencia</li>
                    <li>Si es remunerada o no remunerada</li>
                </ul>

                <h4><i class="bi bi-calendar-event me-2"></i>Detalles de la Ausencia</h4>
                <p>Esta sección muestra:</p>
                <ul>
                    <li><strong>Fechas:</strong> Período completo de la ausencia</li>
                    <li><strong>Total días:</strong> Cantidad exacta de días laborales</li>
                    <li><strong>Total horas:</strong> Equivalente en horas</li>
                    <li><strong>Reemplazo:</strong> Si aplica, quién cubrirá al trabajador</li>
                </ul>

                <h4><i class="bi bi-chat-left-text me-2"></i>Descripción</h4>
                <p>
                    Si el trabajador agregó comentarios explicando el motivo de su ausencia, 
                    aparecerán aquí. Esta sección solo se muestra si hay descripción.
                </p>

                <h4><i class="bi bi-paperclip me-2"></i>Archivos Adjuntos</h4>
                <p>
                    Si el trabajador adjuntó documentos (incapacidades, certificados, etc.), 
                    verás una lista con cada archivo. Para cada uno puedes:
                </p>
                <ul>
                    <li><strong>Ver:</strong> Clic en el ícono del ojo para abrir en una nueva pestaña</li>
                    <li><strong>Descargar:</strong> Clic en el ícono de descarga para guardar en tu computador</li>
                </ul>
                <div class="info-box">
                    <strong><i class="bi bi-lightbulb me-2"></i>Consejo:</strong>
                    Para incapacidades médicas, verifica que el documento muestre claramente: 
                    nombre del paciente, días de incapacidad, fecha y firma del médico.
                </div>

                <h4><i class="bi bi-diagram-3 me-2"></i>Estado de Autorizaciones</h4>
                <p>
                    Esta es una línea de tiempo visual que muestra:
                </p>
                <ul>
                    <li>Todas las personas que deben autorizar esta solicitud</li>
                    <li>El nivel de cada autorizador (Jefe Directo, TH, Dirección)</li>
                    <li>El estado de cada autorización:
                        <ul>
                            <li><strong>Pendiente</strong> (punto amarillo)</li>
                            <li><strong>Aprobada</strong> (punto verde)</li>
                            <li><strong>Rechazada</strong> (punto rojo)</li>
                        </ul>
                    </li>
                    <li>Fecha de la decisión (si ya fue tomada)</li>
                    <li>Comentarios de cada autorizador (si los agregaron)</li>
                    <li>Un badge azul que dice <strong>"Tú"</strong> en tu propia autorización</li>
                </ul>

                <div class="success-box">
                    <strong><i class="bi bi-lightbulb me-2"></i>Entender el timeline:</strong>
                    Puedes ver quién ya aprobó y quién falta. Esto te ayuda a entender el contexto 
                    de la decisión. Por ejemplo, si tu jefe directo ya aprobó, es una señal positiva.
                </div>
            </div>

            <div class="step-card">
                <h3>
                    <span class="step-number">6</span>
                    Aprobar una Solicitud
                </h3>
                <p>
                    Si después de revisar decides aprobar:
                </p>
                <ol>
                    <li>En la ventana de detalle, haz clic en el botón verde <strong>"Aprobar"</strong> (parte inferior derecha)</li>
                    <li>Se abrirá un cuadro de confirmación</li>
                    <li>Opcionalmente, puedes agregar comentarios en el área de texto (no es obligatorio)</li>
                    <li>Haz clic en <strong>"Aprobar"</strong> para confirmar</li>
                    <li>Verás un mensaje de éxito</li>
                    <li>La ventana de detalle se cerrará automáticamente</li>
                    <li>La lista de solicitudes se actualizará mostrando el nuevo estado</li>
                </ol>

                <h4>¿Qué sucede al aprobar?</h4>
                <ul>
                    <li>Tu autorización cambia de estado a "Aprobada"</li>
                    <li>Se guarda la fecha y hora de tu decisión</li>
                    <li>Si agregaste comentarios, quedan registrados</li>
                    <li>Si TODAS las autorizaciones están aprobadas:
                        <ul>
                            <li>La solicitud completa cambia a estado "Aprobada"</li>
                            <li>El trabajador recibe un email de confirmación</li>
                            <li>Talento Humano recibe notificación (si está configurado)</li>
                            <li>El reemplazo recibe notificación (si existe)</li>
                        </ul>
                    </li>
                    <li>Si aún faltan otras autorizaciones, la solicitud permanece en "Pendiente"</li>
                </ul>

                <div class="success-box">
                    <strong><i class="bi bi-check-circle me-2"></i>Buena práctica:</strong>
                    Aunque los comentarios son opcionales al aprobar, considera agregar una nota 
                    si hay condiciones especiales (por ejemplo: "Aprobado, pero debe coordinar la 
                    entrega de pendientes antes de salir").
                </div>
            </div>

            <div class="step-card">
                <h3>
                    <span class="step-number">7</span>
                    Rechazar una Solicitud
                </h3>
                <p>
                    Si después de revisar decides NO aprobar:
                </p>
                <ol>
                    <li>En la ventana de detalle, haz clic en el botón rojo <strong>"Rechazar"</strong></li>
                    <li>Se abrirá un cuadro de confirmación</li>
                    <li><strong>IMPORTANTE:</strong> DEBES escribir el motivo del rechazo (campo obligatorio)</li>
                    <li>Sé claro y específico en tu explicación</li>
                    <li>Haz clic en <strong>"Rechazar"</strong> para confirmar</li>
                    <li>Verás un mensaje confirmando el rechazo</li>
                    <li>La ventana se cerrará y la lista se actualizará</li>
                </ol>

                <h4>¿Qué sucede al rechazar?</h4>
                <ul>
                    <li>Tu autorización cambia inmediatamente a "Rechazada"</li>
                    <li>La solicitud COMPLETA cambia a estado "Rechazada" (sin importar otras autorizaciones)</li>
                    <li>El trabajador recibe un email con:
                        <ul>
                            <li>Notificación del rechazo</li>
                            <li>Tu nombre como quien rechazó</li>
                            <li>El motivo que escribiste</li>
                        </ul>
                    </li>
                    <li>Talento Humano recibe copia de la notificación</li>
                    <li>La decisión es FINAL y no se puede revertir</li>
                </ul>

                <div class="danger-box">
                    <strong><i class="bi bi-shield-exclamation me-2"></i>MUY IMPORTANTE:</strong>
                    <ul class="mt-2 mb-0">
                        <li>Al rechazar, TODA la solicitud queda rechazada para todos los niveles</li>
                        <li>El trabajador no podrá editar la solicitud, debe crear una nueva</li>
                        <li>Tu motivo quedará registrado permanentemente</li>
                        <li>Asegúrate de explicar claramente para que el trabajador entienda</li>
                        <li>Si tienes dudas, consulta antes de rechazar</li>
                    </ul>
                </div>

                <h4>Ejemplos de buenos motivos de rechazo:</h4>
                <ul>
                    <li>"No se adjuntó la incapacidad médica requerida"</li>
                    <li>"Las fechas coinciden con un evento crítico del área y no hay reemplazo disponible"</li>
                    <li>"Se superó el límite de ausencias de este tipo en el período"</li>
                    <li>"La documentación adjunta no cumple con los requisitos (falta firma médica)"</li>
                </ul>

                <h4>Ejemplos de motivos INCORRECTOS:</h4>
                <ul>
                    <li>"No" (demasiado escueto)</li>
                    <li>"Porque sí" (no explica nada)</li>
                    <li>"Ya veremos" (no es una razón válida)</li>
                </ul>
            </div>

            <div class="step-card">
                <h3>
                    <span class="step-number">8</span>
                    Consulta tu Historial de Decisiones
                </h3>
                <p>
                    Para ver solicitudes que ya autorizaste anteriormente:
                </p>
                <ol>
                    <li>En el filtro de <strong>"Estado"</strong>, selecciona:
                        <ul>
                            <li><strong>"Aprobadas"</strong> para ver las que aprobaste</li>
                            <li><strong>"Rechazadas"</strong> para ver las que rechazaste</li>
                            <li><strong>"Todas"</strong> para ver tu historial completo</li>
                        </ul>
                    </li>
                    <li>Puedes hacer clic en cualquiera para ver el detalle</li>
                    <li>En el detalle, verás tus comentarios en el timeline de autorizaciones</li>
                </ol>

                <div class="info-box">
                    <strong><i class="bi bi-info-circle me-2"></i>Nota:</strong>
                    En solicitudes ya decididas (aprobadas o rechazadas), NO aparecerán los botones 
                    de "Aprobar" o "Rechazar" en el detalle. La decisión es definitiva.
                </div>
            </div>

            <div class="step-card">
                <h3>
                    <span class="step-number">9</span>
                    Manejo de Situaciones Especiales
                </h3>
                
                <h4>Si recibes muchas notificaciones:</h4>
                <ul>
                    <li>Revisa tu correo regularmente para no acumular pendientes</li>
                    <li>Entra a SchoolNet al menos una vez al día</li>
                    <li>Prioriza las solicitudes más antiguas (orden FIFO - primero en llegar, primero en revisar)</li>
                </ul>

                <h4>Si no estás seguro de una decisión:</h4>
                <ul>
                    <li>NO apruebes ni rechaces precipitadamente</li>
                    <li>Contacta al trabajador para aclarar dudas</li>
                    <li>Consulta con Talento Humano si hay cuestiones de política</li>
                    <li>Pide documentación adicional si es necesaria</li>
                </ul>

                <h4>Si te equivocaste al aprobar o rechazar:</h4>
                <ul>
                    <li>Contacta INMEDIATAMENTE a Talento Humano</li>
                    <li>Explica la situación</li>
                    <li>Solo TH o administradores pueden revertir decisiones</li>
                </ul>

                <h4>Si ves que falta documentación obligatoria:</h4>
                <ul>
                    <li>NO apruebes la solicitud</li>
                    <li>Contacta al trabajador para que adjunte lo faltante</li>
                    <li>El trabajador debe enviar una nueva solicitud con la documentación correcta</li>
                </ul>
            </div>

        </div>

        <!-- Solución de Problemas -->
        <div class="section-card">
            <h2>
                <i class="bi bi-question-circle me-2"></i>
                Solución de Problemas Comunes
            </h2>

            <div class="step-card">
                <h3><i class="bi bi-x-circle me-2 text-danger"></i>Problema 1: "No hay sesión activa"</h3>
                <p><strong>Causa:</strong> Tu sesión expiró o no iniciaste sesión correctamente.</p>
                <p><strong>Solución:</strong></p>
                <ol>
                    <li>Cierra completamente el navegador</li>
                    <li>Abre nuevamente y accede a SchoolNet</li>
                    <li>Inicia sesión con tus credenciales</li>
                    <li>Intenta nuevamente acceder a "Autorizar Ausencias"</li>
                </ol>
            </div>

            <div class="step-card">
                <h3><i class="bi bi-x-circle me-2 text-danger"></i>Problema 2: No veo ninguna solicitud</h3>
                <p><strong>Posibles causas y soluciones:</strong></p>
                <ul>
                    <li><strong>No tienes pendientes:</strong> ¡Excelente! Significa que no hay solicitudes que requieran tu autorización en este momento</li>
                    <li><strong>Filtros activos:</strong> Verifica que el filtro "Estado" esté en "Pendientes". Si está en "Todas" y aún no ves nada, realmente no tienes solicitudes asignadas</li>
                    <li><strong>No eres autorizador:</strong> Si nunca has visto solicitudes, es posible que no estés configurado como jefe de nadie. Contacta a Talento Humano</li>
                </ul>
            </div>

            <div class="step-card">
                <h3><i class="bi bi-x-circle me-2 text-danger"></i>Problema 3: No puedo abrir los archivos adjuntos</h3>
                <p><strong>Causa:</strong> Problema con el enlace o el navegador bloquea pop-ups.</p>
                <p><strong>Solución:</strong></p>
                <ol>
                    <li>Verifica que tu navegador permita ventanas emergentes para este sitio</li>
                    <li>Si el botón "Ver" no funciona, usa el botón "Descargar"</li>
                    <li>Descarga el archivo y ábrelo desde tu computador</li>
                    <li>Si el problema persiste, contacta a soporte técnico</li>
                </ol>
            </div>

            <div class="step-card">
                <h3><i class="bi bi-x-circle me-2 text-danger"></i>Problema 4: Error al aprobar o rechazar</h3>
                <p><strong>Causa:</strong> Problema de conexión o la solicitud cambió de estado.</p>
                <p><strong>Solución:</strong></p>
                <ol>
                    <li>Verifica tu conexión a internet</li>
                    <li>Haz clic en "Actualizar" para recargar las solicitudes</li>
                    <li>Abre nuevamente la solicitud e intenta decidir</li>
                    <li>Si el problema persiste, recarga la página completa (F5)</li>
                </ol>
            </div>

            <div class="step-card">
                <h3><i class="bi bi-x-circle me-2 text-danger"></i>Problema 5: La ventana de detalle no se abre</h3>
                <p><strong>Solución:</strong></p>
                <ol>
                    <li>Asegúrate de hacer clic dentro del área de la tarjeta</li>
                    <li>Espera a que la página termine de cargar completamente</li>
                    <li>Recarga la página (F5) e intenta nuevamente</li>
                    <li>Prueba con un navegador diferente (Chrome, Firefox)</li>
                </ol>
            </div>

            <div class="step-card">
                <h3><i class="bi bi-x-circle me-2 text-danger"></i>Problema 6: No puedo escribir en el campo de comentarios</h3>
                <p><strong>Causa:</strong> El navegador puede tener problemas o el modal no cargó correctamente.</p>
                <p><strong>Solución:</strong></p>
                <ol>
                    <li>Cierra la ventana de confirmación</li>
                    <li>Cierra la ventana de detalle</li>
                    <li>Abre nuevamente la solicitud</li>
                    <li>Intenta aprobar/rechazar nuevamente</li>
                </ol>
            </div>

            <div class="step-card">
                <h3><i class="bi bi-x-circle me-2 text-danger"></i>Problema 7: Los filtros no funcionan</h3>
                <p><strong>Solución:</strong></p>
                <ol>
                    <li>Haz clic en "Limpiar Filtros"</li>
                    <li>Aplica los filtros uno por uno para identificar cuál falla</li>
                    <li>Recarga la página completa (F5)</li>
                    <li>Si persiste, contacta a soporte técnico</li>
                </ol>
            </div>

            <div class="step-card">
                <h3><i class="bi bi-x-circle me-2 text-danger"></i>Problema 8: Veo solicitudes que no deberían estar asignadas a mí</h3>
                <p><strong>Causa:</strong> Configuración incorrecta de jerarquías o roles.</p>
                <p><strong>Solución:</strong></p>
                <ol>
                    <li>Verifica el nivel de autorización que aparece en la tarjeta</li>
                    <li>Si realmente no deberías autorizar esa solicitud, contacta a Talento Humano</li>
                    <li>NO apruebes ni rechaces solicitudes que no corresponden a tu rol</li>
                </ol>
            </div>

            <div class="step-card">
                <h3><i class="bi bi-x-circle me-2 text-danger"></i>Problema 9: "No se pudo crear la solicitud" al aprobar/rechazar</h3>
                <p><strong>Causa:</strong> Error de comunicación con el servidor.</p>
                <p><strong>Solución:</strong></p>
                <ol>
                    <li>No intentes decidir nuevamente inmediatamente</li>
                    <li>Haz clic en "Actualizar" para verificar si la decisión se guardó</li>
                    <li>Si no se guardó, espera 1 minuto y vuelve a intentar</li>
                    <li>Si persiste, toma captura de pantalla del error y contacta a soporte</li>
                </ol>
            </div>

            <div class="step-card">
                <h3><i class="bi bi-x-circle me-2 text-danger"></i>Problema 10: No recibo notificaciones por email</h3>
                <p><strong>Solución:</strong></p>
                <ol>
                    <li>Revisa tu carpeta de SPAM o correo no deseado</li>
                    <li>Verifica que tu email esté correcto en tu perfil de trabajador</li>
                    <li>Agrega el dominio del sistema a tu lista de remitentes seguros</li>
                    <li>Contacta a Talento Humano para verificar la configuración</li>
                </ol>
            </div>

        </div>

        <!-- Buenas Prácticas -->
        <div class="section-card">
            <h2>
                <i class="bi bi-award me-2"></i>
                Buenas Prácticas y Recomendaciones
            </h2>

            <div class="step-card">
                <h3><i class="bi bi-clock-history me-2"></i>Sé puntual en tus revisiones</h3>
                <ul>
                    <li>Revisa las solicitudes pendientes al menos una vez al día</li>
                    <li>No dejes acumular muchas solicitudes sin revisar</li>
                    <li>Los trabajadores esperan respuesta en tiempo razonable</li>
                    <li>Prioriza solicitudes para fechas próximas</li>
                </ul>
            </div>

            <div class="step-card">
                <h3><i class="bi bi-file-earmark-check me-2"></i>Revisa minuciosamente</h3>
                <ul>
                    <li>Lee toda la información antes de decidir</li>
                    <li>Descarga y revisa TODOS los archivos adjuntos</li>
                    <li>Verifica que las fechas sean razonables</li>
                    <li>Confirma que la documentación esté completa y legible</li>
                    <li>Para incapacidades médicas, verifica que cumplan requisitos legales</li>
                </ul>
            </div>

            <div class="step-card">
                <h3><i class="bi bi-chat-left-text me-2"></i>Comunícate claramente</h3>
                <ul>
                    <li>Al rechazar, sé específico sobre el motivo</li>
                    <li>Al aprobar con condiciones, déjalas claras en comentarios</li>
                    <li>Si necesitas más información, contacta al trabajador antes de decidir</li>
                    <li>Evita comentarios ambiguos o poco profesionales</li>
                </ul>
            </div>

            <div class="step-card">
                <h3><i class="bi bi-balance-scale me-2"></i>Sé justo y consistente</h3>
                <ul>
                    <li>Aplica los mismos criterios para todos los trabajadores</li>
                    <li>No hagas excepciones sin justificación válida</li>
                    <li>Considera el contexto de cada situación</li>
                    <li>Balancea las necesidades del trabajador con las del área</li>
                </ul>
            </div>

            <div class="step-card">
                <h3><i class="bi bi-shield-check me-2"></i>Conoce las políticas</h3>
                <ul>
                    <li>Familiarízate con las políticas institucionales de ausencias</li>
                    <li>Conoce los derechos laborales básicos</li>
                    <li>Ante dudas legales, consulta con Talento Humano</li>
                    <li>Mantente actualizado sobre cambios en normativas</li>
                </ul>
            </div>

            <div class="step-card">
                <h3><i class="bi bi-people me-2"></i>Planifica con tu equipo</h3>
                <ul>
                    <li>Considera el impacto de la ausencia en el área</li>
                    <li>Verifica disponibilidad de reemplazos si es necesario</li>
                    <li>Coordina con otros autorizadores si hay dudas</li>
                    <li>Anticipa períodos críticos donde las ausencias sean problemáticas</li>
                </ul>
            </div>

            <div class="step-card">
                <h3><i class="bi bi-graph-up me-2"></i>Usa los datos para mejorar</h3>
                <ul>
                    <li>Revisa periódicamente las ausencias de tu equipo</li>
                    <li>Identifica patrones o problemas recurrentes</li>
                    <li>Conversa con tu equipo sobre planificación de ausencias</li>
                    <li>Reporta a TH si observas situaciones irregulares</li>
                </ul>
            </div>

            <div class="step-card">
                <h3><i class="bi bi-hand-thumbs-up me-2"></i>Sé empático pero profesional</h3>
                <ul>
                    <li>Entiende que las ausencias a veces son necesarias</li>
                    <li>No juzgues sin conocer el contexto completo</li>
                    <li>Mantén la confidencialidad de información médica o personal</li>
                    <li>Sé firme en las políticas pero comprensivo en las situaciones</li>
                </ul>
            </div>

        </div>

        <!-- Preguntas Frecuentes -->
        <div class="section-card">
            <h2>
                <i class="bi bi-chat-dots me-2"></i>
                Preguntas Frecuentes
            </h2>

            <div class="step-card">
                <h3>1. ¿Debo aprobar las solicitudes en algún orden específico?</h3>
                <p>
                    <strong>No es obligatorio, pero es recomendable.</strong> Las solicitudes aparecen 
                    ordenadas cronológicamente (las más antiguas primero - FIFO). Te sugerimos revisar 
                    en ese orden para ser justo con quienes solicitaron primero. Sin embargo, puedes 
                    priorizar solicitudes urgentes o para fechas muy próximas.
                </p>
            </div>

            <div class="step-card">
                <h3>2. ¿Qué pasa si varios autorizadores deben aprobar la misma solicitud?</h3>
                <p>
                    Cada autorizador revisa y decide de forma independiente. La solicitud completa se 
                    aprueba SOLO cuando TODOS los autorizadores la aprueban. Si cualquiera rechaza, 
                    queda rechazada para todos. No es necesario esperar a que otros decidan primero, 
                    puedes aprobar cuando estés listo.
                </p>
            </div>

            <div class="step-card">
                <h3>3. ¿Puedo ver quién más debe autorizar antes de tomar mi decisión?</h3>
                <p>
                    <strong>Sí.</strong> En la ventana de detalle, la sección "Estado de Autorizaciones" 
                    te muestra todos los autorizadores necesarios, sus roles y el estado de cada uno. 
                    Puedes ver quién ya aprobó y quién está pendiente.
                </p>
            </div>

            <div class="step-card">
                <h3>4. ¿Puedo contactar al trabajador para pedir más información antes de decidir?</h3>
                <p>
                    <strong>Sí, absolutamente.</strong> Si necesitas aclaraciones, NO dudes en contactar 
                    al trabajador por email, teléfono o en persona. Es mejor aclarar dudas que aprobar 
                    o rechazar sin estar seguro. En el detalle de la solicitud puedes ver el email del trabajador.
                </p>
            </div>

            <div class="step-card">
                <h3>5. ¿Qué hago si la documentación adjunta es ilegible o incorrecta?</h3>
                <p>
                    NO apruebes la solicitud. Contacta al trabajador explicándole el problema. El trabajador 
                    debe crear una nueva solicitud con la documentación correcta. No hay forma de "editar" 
                    una solicitud existente para adjuntar nuevos archivos.
                </p>
            </div>

            <div class="step-card">
                <h3>6. ¿Puedo cambiar mi decisión después de aprobar o rechazar?</h3>
                <p>
                    <strong>No directamente.</strong> Una vez que apruebas o rechazas, la decisión es 
                    permanente en el sistema. Si cometiste un error, debes contactar INMEDIATAMENTE a 
                    Talento Humano. Solo administradores pueden revertir decisiones en casos excepcionales.
                </p>
            </div>

            <div class="step-card">
                <h3>7. ¿Debo aprobar todas las solicitudes que me llegan?</h3>
                <p>
                    <strong>No.</strong> Tu responsabilidad es revisar cuidadosamente y tomar una decisión 
                    informada. Si una solicitud no cumple con los requisitos, no tiene documentación adecuada, 
                    o afecta significativamente las operaciones del área sin justificación válida, tienes 
                    el derecho y la responsabilidad de rechazarla explicando el motivo.
                </p>
            </div>

            <div class="step-card">
                <h3>8. ¿Qué pasa si no reviso una solicitud a tiempo?</h3>
                <p>
                    La solicitud permanecerá pendiente hasta que tomes una decisión. No hay "aprobación 
                    automática" por tiempo. Sin embargo, retrasar innecesariamente las decisiones afecta 
                    al trabajador que necesita planificar. Si no puedes revisar por estar ausente, 
                    informa a Talento Humano para que puedan reasignar temporalmente.
                </p>
            </div>

            <div class="step-card">
                <h3>9. ¿Puedo ver las ausencias de trabajadores que no están bajo mi supervisión?</h3>
                <p>
                    <strong>No.</strong> Solo verás solicitudes que requieren específicamente tu autorización. 
                    Esto significa que el trabajador está bajo tu supervisión directa, o que tu nivel 
                    (TH, Directivas) requiere aprobar ese tipo de ausencia.
                </p>
            </div>

            <div class="step-card">
                <h3>10. ¿Cómo sé si una ausencia es remunerada o no?</h3>
                <p>
                    En la ventana de detalle, bajo "Información del Solicitante", verás un badge que indica 
                    si es "Remunerada" (verde) o "No remunerada" (amarillo). Esto depende de la categoría 
                    de ausencia y está configurado en el sistema.
                </p>
            </div>

            <div class="step-card">
                <h3>11. ¿Las incapacidades médicas requieren mi aprobación?</h3>
                <p>
                    <strong>Sí.</strong> Aunque las incapacidades médicas son obligatorias por ley, igual 
                    pasan por el proceso de autorización. Tu rol es verificar que la documentación sea 
                    válida (certificado médico legítimo) y que el trabajador haya informado apropiadamente. 
                    NO debes rechazar una incapacidad médica válida.
                </p>
            </div>

            <div class="step-card">
                <h3>12. ¿Qué significa que una solicitud tenga un reemplazo asignado?</h3>
                <p>
                    Significa que el trabajador solicitante indicó quién cubrirá sus funciones durante 
                    la ausencia. Esto es obligatorio en algunas categorías de ausencias. Verás el nombre 
                    del reemplazo en el detalle de la solicitud. El reemplazo recibirá notificación 
                    automática cuando la solicitud se apruebe completamente.
                </p>
            </div>

            <div class="step-card">
                <h3>13. ¿Puedo aprobar solicitudes desde mi celular?</h3>
                <p>
                    <strong>Sí.</strong> SchoolNet es responsive y funciona en dispositivos móviles. 
                    Puedes usar el navegador de tu celular para revisar y autorizar solicitudes. 
                    Todas las funciones están disponibles igual que en computador, aunque la interfaz 
                    se adapta a pantallas pequeñas.
                </p>
            </div>

            <div class="step-card">
                <h3>14. ¿Recibiré alguna notificación cuando aprueben o rechacen solicitudes en las que también participo?</h3>
                <p>
                    No automáticamente. Solo recibes notificación cuando una solicitud nueva llega que 
                    requiere tu autorización. Para saber si otros ya decidieron sobre una solicitud en 
                    la que participas, debes entrar al sistema y revisar el timeline de autorizaciones 
                    en el detalle de la solicitud.
                </p>
            </div>

            <div class="step-card">
                <h3>15. ¿Qué hago si veo un problema con el sistema de autorizaciones?</h3>
                <p>
                    Si detectas errores, solicitudes mal asignadas, o problemas técnicos, repórtalos 
                    inmediatamente a Talento Humano o al soporte técnico. No tomes decisiones sobre 
                    solicitudes que claramente no deberían estar asignadas a ti.
                </p>
            </div>

        </div>

        <!-- Tarjeta de Reporte de Bugs -->
        <div class="bug-report-card">
            <i class="bi bi-bug-fill" style="font-size: 3rem; color: #dc3545;"></i>
            <h3 class="mt-3 mb-3">¿Encontraste un problema o bug?</h3>
            <p class="mb-4">
                Si algo no funciona correctamente o tienes algún inconveniente con esta función, 
                puedes reportarlo a través de nuestro sistema de reporte de errores.
            </p>
            <a href="../report-bug.html" class="btn btn-light btn-lg">
                <i class="bi bi-exclamation-triangle me-2"></i>
                Reportar Bug o Problema
            </a>
        </div>

        <!-- Botón Flotante -->
        <a href="../report-bug.html" class="btn btn-danger btn-lg floating-bug-button" 
           title="Reportar un problema">
            <i class="bi bi-bug-fill me-2"></i>
            Reportar Bug
        </a>

    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Configuración de la página para futuras funcionalidades
        const PAGE_CONFIG = {
            moduleName: 'Talento Humano',
            modulePath: 'hr',
            pageTitle: 'Autorizar Ausencias',
            pagePath: 'authorize-absences.html',
            moduleDescription: 'Revisión y aprobación de solicitudes de ausencia'
        };

        // Log de carga de la página
        console.log('📖 Manual cargado:', PAGE_CONFIG.pageTitle);
        console.log('📂 Módulo:', PAGE_CONFIG.moduleName);
    </script>
</body>
</html>
