<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- VERSI√ìN DE LA P√ÅGINA -->
    <meta name="page-version" content="25.06.12.20.15">
    
    <title>Manual - Talento Humano - Inicio del M√≥dulo - SchoolNet</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <style>
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .loading-overlay.hidden {
            display: none;
        }
        
        .loading-content {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #007bff;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Encabezado discreto */
        .manual-header {
            background: #f8f9fa;
            border-bottom: 2px solid var(--system-primary-color, #1B365D);
            padding: 1.5rem 0;
            margin-bottom: 2rem;
        }

        .manual-header h1 {
            font-size: 1.75rem;
            color: var(--system-primary-color, #1B365D);
            margin-bottom: 0.25rem;
        }

        .manual-header .subtitle {
            color: #6c757d;
            font-size: 0.95rem;
        }

        /* Info card */
        .info-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        /* Tarjeta para reportar bugs */
        .bug-report-card {
            background: var(--system-primary-color, #1B365D);
            color: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .bug-report-card h4, .bug-report-card h5 {
            color: white;
        }

        /* Bot√≥n flotante para reportar bugs */
        .floating-bug-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            background: var(--system-primary-color, #1B365D) !important;
            border-color: var(--system-primary-color, #1B365D) !important;
        }

        .floating-bug-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.4);
            opacity: 0.9;
        }

        .icon-large {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        /* Estilos para el contenido del manual */
        .section-title {
            color: var(--system-primary-color, #1B365D);
            border-bottom: 2px solid var(--system-primary-color, #1B365D);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
            margin-top: 2rem;
        }

        .step-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            background: var(--system-primary-color, #1B365D);
            color: white;
            border-radius: 50%;
            font-weight: bold;
            margin-right: 0.75rem;
        }

        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #0d6efd;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .success-box {
            background: #d1e7dd;
            border-left: 4px solid #198754;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .danger-box {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .faq-item {
            margin-bottom: 1rem;
        }

        .faq-item h6 {
            color: var(--system-primary-color, #1B365D);
            margin-bottom: 0.5rem;
        }

        /* Metric card preview */
        .metric-card-preview {
            border: none;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            padding: 1rem;
            text-align: center;
            background: white;
            transition: transform 0.2s;
        }

        .metric-card-preview:hover {
            transform: translateY(-2px);
        }

        .metric-value-preview {
            font-size: 1.5rem;
            font-weight: 700;
            color: #fd7e14;
        }

        .metric-label-preview {
            font-size: 0.75rem;
            color: #6c757d;
        }

        .metric-icon-preview {
            color: #fd7e14;
            font-size: 1.25rem;
        }

        /* Function card preview */
        .function-card-preview {
            border: none;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            padding: 1rem;
            background: white;
            text-decoration: none;
            color: inherit;
            display: block;
            transition: all 0.2s;
        }

        .function-card-preview:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            color: inherit;
        }

        .function-icon-preview {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background-color: #ffecd1;
            color: #fd7e14;
            font-size: 1.25rem;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 0.75rem;
        }

        .function-title-preview {
            font-size: 0.95rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 0.25rem;
        }

        .function-description-preview {
            font-size: 0.8rem;
            color: #6c757d;
            line-height: 1.3;
        }

        /* Section title preview */
        .section-title-preview {
            font-size: 0.8rem;
            color: #6c757d;
            font-weight: 500;
            margin-bottom: 0.75rem;
            margin-top: 1rem;
        }

        /* Module color indicator */
        .module-color-indicator {
            width: 24px;
            height: 24px;
            border-radius: 6px;
            background: #fd7e14;
            display: inline-block;
            vertical-align: middle;
            margin-right: 0.5rem;
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <p class="mb-0">Cargando...</p>
        </div>
    </div>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="container-fluid">

        <!-- ENCABEZADO DISCRETO -->
        <div class="manual-header">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h1>
                            <i class="bi bi-book me-2"></i>
                            Manual: Talento Humano
                        </h1>
                        <p class="subtitle mb-0">Inicio del M√≥dulo</p>
                    </div>
                    <div class="col-md-4 text-md-end mt-3 mt-md-0">
                        <a href="../../modules/hr/index.html" class="btn btn-outline-primary">
                            <i class="bi bi-arrow-left me-1"></i>Volver al M√≥dulo
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONTENEDOR DE ALERTAS -->
        <div id="alertContainer"></div>

        <div class="row">
            <div class="col-lg-8 mx-auto">

                <!-- INFORMACI√ìN CONTEXTUAL -->
                <div class="info-card">
                    <div class="row align-items-center">
                        <div class="col-md-6">
                            <h6 class="text-muted mb-2">Manual de:</h6>
                            <h5 class="mb-1">
                                <span class="module-color-indicator"></span>
                                <strong id="display-module">Talento Humano</strong>
                            </h5>
                            <p class="text-muted mb-0 small" id="display-page">Inicio del M√≥dulo</p>
                        </div>
                        <div class="col-md-6 text-md-end mt-3 mt-md-0">
                            <p class="small text-muted mb-0">
                                <i class="bi bi-info-circle me-1"></i>
                                Si tienes dudas o encuentras alg√∫n problema,<br>
                                puedes reportarlo usando el bot√≥n de abajo.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- ========================================== -->
                <!-- CONTENIDO DEL MANUAL -->
                <!-- ========================================== -->

                <!-- SECCI√ìN 1: ¬øQU√â ES? -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-people me-2"></i>
                        ¬øQu√© es el M√≥dulo de Talento Humano?
                    </h2>
                    
                    <div class="step-card">
                        <p class="lead">
                            El m√≥dulo de Talento Humano es el centro de gesti√≥n organizacional 
                            y administraci√≥n de personal del colegio. Desde aqu√≠ se administra 
                            toda la estructura organizativa, los trabajadores y sus ausencias.
                        </p>
                        
                        <p>
                            Esta p√°gina de inicio te presenta un resumen visual del estado 
                            del m√≥dulo y acceso directo a todas sus funciones.
                        </p>

                        <h5 class="mt-4">El m√≥dulo incluye:</h5>
                        <ul>
                            <li><strong>Estructura organizacional:</strong> Divisiones, centros de costos, √°reas, sub√°reas</li>
                            <li><strong>Gesti√≥n de personal:</strong> Trabajadores, roles/cargos, informaci√≥n de n√≥mina</li>
                            <li><strong>Sistema de ausencias:</strong> Solicitudes, autorizaciones, saldos, reportes</li>
                            <li><strong>Reporter√≠a:</strong> Dashboard ejecutivo y reportes detallados</li>
                        </ul>

                        <div class="info-box">
                            <strong><i class="bi bi-shield-lock me-2"></i>Acceso basado en permisos:</strong>
                            <p class="mb-0 mt-2">
                                Solo ver√°s las funciones para las cuales tienes permisos 
                                asignados. Las funciones sin acceso se ocultan autom√°ticamente.
                            </p>
                        </div>
                    </div>
                </section>

                <!-- SECCI√ìN 2: M√âTRICAS DE RESUMEN -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-graph-up me-2"></i>
                        M√©tricas de Resumen
                    </h2>
                    
                    <div class="step-card">
                        <p>
                            En la parte superior de la p√°gina encontrar√°s 6 m√©tricas que 
                            muestran el estado actual del m√≥dulo. Estas m√©tricas se 
                            actualizan cada vez que cargas la p√°gina.
                        </p>

                        <div class="row g-2 mb-4">
                            <div class="col-4 col-md-2">
                                <div class="metric-card-preview">
                                    <div class="d-flex align-items-center justify-content-between mb-1">
                                        <div class="metric-value-preview">45</div>
                                        <i class="bi bi-person-check metric-icon-preview"></i>
                                    </div>
                                    <p class="metric-label-preview mb-0">Trabajadores Activos</p>
                                </div>
                            </div>
                            <div class="col-4 col-md-2">
                                <div class="metric-card-preview">
                                    <div class="d-flex align-items-center justify-content-between mb-1">
                                        <div class="metric-value-preview">12</div>
                                        <i class="bi bi-briefcase metric-icon-preview"></i>
                                    </div>
                                    <p class="metric-label-preview mb-0">Roles/Cargos</p>
                                </div>
                            </div>
                            <div class="col-4 col-md-2">
                                <div class="metric-card-preview">
                                    <div class="d-flex align-items-center justify-content-between mb-1">
                                        <div class="metric-value-preview">0</div>
                                        <i class="bi bi-building-exclamation metric-icon-preview"></i>
                                    </div>
                                    <p class="metric-label-preview mb-0">Centros sin √Åreas</p>
                                </div>
                            </div>
                            <div class="col-4 col-md-2">
                                <div class="metric-card-preview">
                                    <div class="d-flex align-items-center justify-content-between mb-1">
                                        <div class="metric-value-preview">2</div>
                                        <i class="bi bi-diagram-3 metric-icon-preview"></i>
                                    </div>
                                    <p class="metric-label-preview mb-0">√Åreas sin Sub√°reas</p>
                                </div>
                            </div>
                            <div class="col-4 col-md-2">
                                <div class="metric-card-preview">
                                    <div class="d-flex align-items-center justify-content-between mb-1">
                                        <div class="metric-value-preview">3</div>
                                        <i class="bi bi-person-x metric-icon-preview"></i>
                                    </div>
                                    <p class="metric-label-preview mb-0">Sin Estructura</p>
                                </div>
                            </div>
                            <div class="col-4 col-md-2">
                                <div class="metric-card-preview">
                                    <div class="d-flex align-items-center justify-content-between mb-1">
                                        <div class="metric-value-preview">1</div>
                                        <i class="bi bi-person-dash metric-icon-preview"></i>
                                    </div>
                                    <p class="metric-label-preview mb-0">Sin Roles/Cargos</p>
                                </div>
                            </div>
                        </div>

                        <h5>Significado de cada m√©trica:</h5>
                        
                        <table class="table table-sm">
                            <thead class="table-light">
                                <tr>
                                    <th>M√©trica</th>
                                    <th>Descripci√≥n</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Trabajadores Activos</strong></td>
                                    <td>Total de trabajadores con estado activo en el sistema</td>
                                </tr>
                                <tr>
                                    <td><strong>Roles/Cargos</strong></td>
                                    <td>Cantidad de roles laborales activos definidos</td>
                                </tr>
                                <tr>
                                    <td><strong>Centros sin √Åreas</strong></td>
                                    <td>Centros de costos que no tienen √°reas asignadas</td>
                                </tr>
                                <tr>
                                    <td><strong>√Åreas sin Sub√°reas</strong></td>
                                    <td>√Åreas organizacionales sin sub√°reas definidas</td>
                                </tr>
                                <tr>
                                    <td><strong>Sin Estructura</strong></td>
                                    <td>Trabajadores sin sub√°rea organizacional asignada</td>
                                </tr>
                                <tr>
                                    <td><strong>Sin Roles/Cargos</strong></td>
                                    <td>Trabajadores sin un rol/cargo laboral asignado</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="warning-box">
                            <strong><i class="bi bi-exclamation-triangle me-2"></i>M√©tricas de alerta:</strong>
                            <p class="mb-0 mt-2">
                                Las √∫ltimas 4 m√©tricas (Centros sin √Åreas, √Åreas sin Sub√°reas, 
                                Sin Estructura, Sin Roles) indican posibles problemas de 
                                configuraci√≥n. Lo ideal es que todas muestren <strong>0</strong>.
                            </p>
                        </div>

                        <div class="info-box">
                            <strong><i class="bi bi-eye-slash me-2"></i>Visibilidad de m√©tricas:</strong>
                            <p class="mb-0 mt-2">
                                Las m√©tricas solo son visibles para usuarios con el rol de 
                                <strong>Gestor de Talento Humano</strong> o Super Administrador. 
                                Si no ves las m√©tricas, es porque tu rol no las requiere.
                            </p>
                        </div>
                    </div>
                </section>

                <!-- SECCI√ìN 3: FUNCIONES DEL M√ìDULO -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-grid-3x3-gap me-2"></i>
                        Funciones del M√≥dulo
                    </h2>
                    
                    <div class="step-card">
                        <p>
                            Las funciones est√°n organizadas en 4 secciones seg√∫n su prop√≥sito. 
                            Cada tarjeta te lleva directamente a la p√°gina correspondiente.
                        </p>

                        <!-- Secci√≥n Configuraci√≥n -->
                        <h5 class="section-title-preview">
                            <i class="bi bi-gear me-2"></i>Configuraci√≥n
                        </h5>
                        <p class="small text-muted">
                            P√°ginas para definir la estructura organizacional del colegio.
                        </p>
                        
                        <div class="row g-2 mb-3">
                            <div class="col-6 col-md-4">
                                <div class="function-card-preview">
                                    <div class="function-icon-preview">
                                        <i class="bi bi-layers"></i>
                                    </div>
                                    <div class="function-title-preview">Divisiones</div>
                                    <div class="function-description-preview">Divisiones organizacionales</div>
                                </div>
                            </div>
                            <div class="col-6 col-md-4">
                                <div class="function-card-preview">
                                    <div class="function-icon-preview">
                                        <i class="bi bi-building"></i>
                                    </div>
                                    <div class="function-title-preview">Centros de Costos</div>
                                    <div class="function-description-preview">Por divisi√≥n</div>
                                </div>
                            </div>
                            <div class="col-6 col-md-4">
                                <div class="function-card-preview">
                                    <div class="function-icon-preview">
                                        <i class="bi bi-diagram-3"></i>
                                    </div>
                                    <div class="function-title-preview">Secciones / √Åreas</div>
                                    <div class="function-description-preview">Por centro de costos</div>
                                </div>
                            </div>
                        </div>

                        <div class="row g-2 mb-4">
                            <div class="col-6 col-md-4">
                                <div class="function-card-preview">
                                    <div class="function-icon-preview">
                                        <i class="bi bi-boxes"></i>
                                    </div>
                                    <div class="function-title-preview">Sub√°reas</div>
                                    <div class="function-description-preview">Dentro de secciones</div>
                                </div>
                            </div>
                            <div class="col-6 col-md-4">
                                <div class="function-card-preview">
                                    <div class="function-icon-preview">
                                        <i class="bi bi-briefcase"></i>
                                    </div>
                                    <div class="function-title-preview">Roles y Cargos</div>
                                    <div class="function-description-preview">Cargos laborales</div>
                                </div>
                            </div>
                            <div class="col-6 col-md-4">
                                <div class="function-card-preview">
                                    <div class="function-icon-preview">
                                        <i class="bi bi-sliders"></i>
                                    </div>
                                    <div class="function-title-preview">Configuraci√≥n</div>
                                    <div class="function-description-preview">Par√°metros del m√≥dulo</div>
                                </div>
                            </div>
                        </div>

                        <!-- Secci√≥n Gesti√≥n de Personal -->
                        <h5 class="section-title-preview">
                            <i class="bi bi-people me-2"></i>Gesti√≥n de Personal
                        </h5>
                        <p class="small text-muted">
                            P√°ginas para administrar la informaci√≥n de los trabajadores.
                        </p>

                        <div class="row g-2 mb-4">
                            <div class="col-6 col-md-4">
                                <div class="function-card-preview">
                                    <div class="function-icon-preview">
                                        <i class="bi bi-people"></i>
                                    </div>
                                    <div class="function-title-preview">Gestionar Trabajadores</div>
                                    <div class="function-description-preview">Informaci√≥n completa</div>
                                </div>
                            </div>
                            <div class="col-6 col-md-4">
                                <div class="function-card-preview">
                                    <div class="function-icon-preview">
                                        <i class="bi bi-cash-stack"></i>
                                    </div>
                                    <div class="function-title-preview">Revisi√≥n de N√≥mina</div>
                                    <div class="function-description-preview">Consultar informaci√≥n</div>
                                </div>
                            </div>
                        </div>

                        <!-- Secci√≥n Gesti√≥n de Ausencias -->
                        <h5 class="section-title-preview">
                            <i class="bi bi-calendar-x me-2"></i>Gesti√≥n de Ausencias
                        </h5>
                        <p class="small text-muted">
                            P√°ginas para el sistema completo de control de ausencias.
                        </p>

                        <div class="row g-2 mb-4">
                            <div class="col-6 col-md-4">
                                <div class="function-card-preview">
                                    <div class="function-icon-preview">
                                        <i class="bi bi-tags"></i>
                                    </div>
                                    <div class="function-title-preview">Categor√≠as</div>
                                    <div class="function-description-preview">Tipos de ausencias</div>
                                </div>
                            </div>
                            <div class="col-6 col-md-4">
                                <div class="function-card-preview">
                                    <div class="function-icon-preview">
                                        <i class="bi bi-calendar3"></i>
                                    </div>
                                    <div class="function-title-preview">Calendario Laboral</div>
                                    <div class="function-description-preview">D√≠as no laborables</div>
                                </div>
                            </div>
                            <div class="col-6 col-md-4">
                                <div class="function-card-preview">
                                    <div class="function-icon-preview">
                                        <i class="bi bi-file-earmark-plus"></i>
                                    </div>
                                    <div class="function-title-preview">Solicitar Ausencias</div>
                                    <div class="function-description-preview">Mis solicitudes</div>
                                </div>
                            </div>
                            <div class="col-6 col-md-4">
                                <div class="function-card-preview">
                                    <div class="function-icon-preview">
                                        <i class="bi bi-check2-square"></i>
                                    </div>
                                    <div class="function-title-preview">Autorizar Ausencias</div>
                                    <div class="function-description-preview">Aprobar/rechazar</div>
                                </div>
                            </div>
                            <div class="col-6 col-md-4">
                                <div class="function-card-preview">
                                    <div class="function-icon-preview">
                                        <i class="bi bi-calculator"></i>
                                    </div>
                                    <div class="function-title-preview">Ajustar Saldos</div>
                                    <div class="function-description-preview">Ajustes manuales</div>
                                </div>
                            </div>
                            <div class="col-6 col-md-4">
                                <div class="function-card-preview">
                                    <div class="function-icon-preview">
                                        <i class="bi bi-list-check"></i>
                                    </div>
                                    <div class="function-title-preview">Gestionar Ausencias</div>
                                    <div class="function-description-preview">Todas las solicitudes</div>
                                </div>
                            </div>
                        </div>

                        <!-- Secci√≥n Reportes -->
                        <h5 class="section-title-preview">
                            <i class="bi bi-bar-chart me-2"></i>Reportes
                        </h5>
                        <p class="small text-muted">
                            P√°ginas para an√°lisis y visualizaci√≥n de datos.
                        </p>

                        <div class="row g-2 mb-3">
                            <div class="col-6 col-md-4">
                                <div class="function-card-preview">
                                    <div class="function-icon-preview">
                                        <i class="bi bi-speedometer2"></i>
                                    </div>
                                    <div class="function-title-preview">Dashboard</div>
                                    <div class="function-description-preview">Vista ejecutiva</div>
                                </div>
                            </div>
                            <div class="col-6 col-md-4">
                                <div class="function-card-preview">
                                    <div class="function-icon-preview">
                                        <i class="bi bi-graph-up-arrow"></i>
                                    </div>
                                    <div class="function-title-preview">Reportes de Ausencias</div>
                                    <div class="function-description-preview">An√°lisis detallado</div>
                                </div>
                            </div>
                        </div>

                        <div class="info-box">
                            <strong><i class="bi bi-mouse me-2"></i>Interacci√≥n:</strong>
                            <p class="mb-0 mt-2">
                                Pasa el cursor sobre cualquier tarjeta para ver un efecto visual. 
                                Haz clic en ella para ir directamente a esa funci√≥n.
                            </p>
                        </div>
                    </div>
                </section>

                <!-- SECCI√ìN 4: ESTRUCTURA ORGANIZACIONAL -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-diagram-3 me-2"></i>
                        Entendiendo la Estructura Organizacional
                    </h2>
                    
                    <div class="step-card">
                        <p>
                            El sistema tiene una jerarqu√≠a organizacional de 4 niveles. 
                            Es importante entenderla para configurar correctamente el m√≥dulo.
                        </p>

                        <div class="text-center my-4">
                            <div class="d-inline-block text-start" style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px;">
                                <div class="mb-2">
                                    <span class="badge bg-primary me-2">Nivel 1</span>
                                    <strong>Divisi√≥n</strong> 
                                    <span class="text-muted small">(Ej: Acad√©mica, Administrativa)</span>
                                </div>
                                <div class="mb-2 ms-4">
                                    <span class="badge bg-success me-2">Nivel 2</span>
                                    <strong>Centro de Costos</strong>
                                    <span class="text-muted small">(Ej: Primaria, Bachillerato)</span>
                                </div>
                                <div class="mb-2 ms-5">
                                    <span class="badge bg-warning text-dark me-2">Nivel 3</span>
                                    <strong>√Årea / Secci√≥n</strong>
                                    <span class="text-muted small">(Ej: Matem√°ticas, Ciencias)</span>
                                </div>
                                <div class="ms-5 ps-4">
                                    <span class="badge bg-info me-2">Nivel 4</span>
                                    <strong>Sub√°rea</strong>
                                    <span class="text-muted small">(Ej: √Ålgebra, C√°lculo)</span>
                                </div>
                            </div>
                        </div>

                        <h5>Recomendaciones de configuraci√≥n:</h5>
                        <ol>
                            <li>Primero crea las <strong>Divisiones</strong> (m√≠nimo una)</li>
                            <li>Luego crea los <strong>Centros de Costos</strong> dentro de cada divisi√≥n</li>
                            <li>Despu√©s define las <strong>√Åreas</strong> en cada centro de costos</li>
                            <li>Finalmente crea las <strong>Sub√°reas</strong> dentro de cada √°rea</li>
                            <li>Asigna los <strong>trabajadores</strong> a sus sub√°reas correspondientes</li>
                        </ol>

                        <div class="warning-box">
                            <strong><i class="bi bi-exclamation-triangle me-2"></i>Importante:</strong>
                            <p class="mb-0 mt-2">
                                Todos los trabajadores deben estar asignados a una sub√°rea 
                                para que el sistema funcione correctamente. La m√©trica 
                                "Sin Estructura" te ayuda a identificar trabajadores no asignados.
                            </p>
                        </div>
                    </div>
                </section>

                <!-- SECCI√ìN 5: PERMISOS -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-shield-lock me-2"></i>
                        Permisos del M√≥dulo
                    </h2>
                    
                    <div class="step-card">
                        <p>
                            Cada funci√≥n del m√≥dulo requiere un permiso espec√≠fico. 
                            Si no ves una funci√≥n, significa que tu usuario no tiene 
                            ese permiso asignado.
                        </p>

                        <h5>Lista completa de permisos:</h5>
                        
                        <table class="table table-sm table-striped">
                            <thead class="table-light">
                                <tr>
                                    <th>Permiso</th>
                                    <th>Funci√≥n</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>Divisiones</td><td>Gestionar divisiones organizacionales</td></tr>
                                <tr><td>Centros de costos</td><td>Administrar centros de costos</td></tr>
                                <tr><td>Secciones / √Åreas</td><td>Gestionar √°reas organizacionales</td></tr>
                                <tr><td>Sub√°reas</td><td>Administrar sub√°reas</td></tr>
                                <tr><td>Roles y cargos</td><td>Definir roles laborales</td></tr>
                                <tr><td>Configurar ausencias</td><td>Par√°metros del sistema de ausencias</td></tr>
                                <tr><td>Gestionar trabajadores</td><td>Administrar informaci√≥n de personal</td></tr>
                                <tr><td>Revisi√≥n de n√≥mina</td><td>Consultar informaci√≥n de n√≥mina</td></tr>
                                <tr><td>Gestionar categor√≠as de ausencias</td><td>Tipos de ausencias y reglas</td></tr>
                                <tr><td>Configurar calendario laboral</td><td>D√≠as no laborables</td></tr>
                                <tr><td>Solicitar ausencias</td><td>Crear mis propias solicitudes</td></tr>
                                <tr><td>Autorizar ausencias</td><td>Aprobar/rechazar solicitudes</td></tr>
                                <tr><td>Ajustar saldos de ausencias</td><td>Ajustes manuales de saldos</td></tr>
                                <tr><td>Gestionar todas las ausencias</td><td>Administrar todas las solicitudes</td></tr>
                                <tr><td>Ver reportes de ausencias</td><td>Acceder a reportes</td></tr>
                                <tr><td>Ver dashboard de talento humano</td><td>Dashboard ejecutivo</td></tr>
                            </tbody>
                        </table>

                        <div class="info-box">
                            <strong><i class="bi bi-person-gear me-2"></i>Gestores de Talento Humano:</strong>
                            <p class="mb-0 mt-2">
                                Los usuarios con el rol "Gestor de Talento Humano" t√≠picamente 
                                tienen todos los permisos del m√≥dulo. Contacta al administrador 
                                si necesitas permisos adicionales.
                            </p>
                        </div>
                    </div>
                </section>

                <!-- SECCI√ìN 6: SOLUCI√ìN DE PROBLEMAS -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-question-circle me-2"></i>
                        Soluci√≥n de Problemas
                    </h2>

                    <div class="step-card">
                        <h5>No veo ninguna funci√≥n en el m√≥dulo</h5>
                        <ul>
                            <li>Verifica que tu usuario tenga permisos asignados para este m√≥dulo</li>
                            <li>Contacta al administrador para que revise tus permisos</li>
                            <li>Puede ser que necesites el rol de "Gestor de Talento Humano"</li>
                        </ul>

                        <h5 class="mt-4">Las m√©tricas no se cargan o muestran error</h5>
                        <ul>
                            <li>Las m√©tricas solo son visibles para Gestores de Talento Humano</li>
                            <li>Si tienes el rol correcto, intenta refrescar la p√°gina</li>
                            <li>Verifica tu conexi√≥n a internet</li>
                        </ul>

                        <h5 class="mt-4">Una funci√≥n que antes ve√≠a ya no aparece</h5>
                        <ul>
                            <li>Es posible que se hayan modificado tus permisos</li>
                            <li>Cierra sesi√≥n y vuelve a iniciar sesi√≥n</li>
                            <li>Contacta al administrador si el problema persiste</li>
                        </ul>

                        <h5 class="mt-4">La p√°gina tarda mucho en cargar</h5>
                        <ul>
                            <li>Las m√©tricas se cargan en paralelo para ser m√°s r√°pidas</li>
                            <li>Si hay muchos datos, puede tomar unos segundos</li>
                            <li>Verifica tu conexi√≥n a internet</li>
                        </ul>

                        <h5 class="mt-4">El mensaje dice "Acceso Denegado"</h5>
                        <ul>
                            <li>Tu usuario no tiene ning√∫n permiso de este m√≥dulo</li>
                            <li>Contacta al administrador para solicitar acceso</li>
                            <li>Verifica que est√©s usando la cuenta correcta</li>
                        </ul>
                    </div>
                </section>

                <!-- SECCI√ìN 7: PREGUNTAS FRECUENTES -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-chat-dots me-2"></i>
                        Preguntas Frecuentes
                    </h2>

                    <div class="step-card">
                        <div class="faq-item">
                            <h6>¬øPor qu√© el color del m√≥dulo es naranja?</h6>
                            <p>
                                Cada m√≥dulo de SchoolNet tiene un color distintivo para 
                                facilitar la identificaci√≥n visual. El naranja (#fd7e14) 
                                es el color asignado a Talento Humano.
                            </p>
                        </div>

                        <div class="faq-item">
                            <h6>¬øPuedo personalizar qu√© m√©tricas ver?</h6>
                            <p>
                                No. Las m√©tricas est√°n predefinidas y se muestran u ocultan 
                                seg√∫n tu rol. Todos los usuarios con acceso a m√©tricas ven 
                                las mismas 6 m√©tricas.
                            </p>
                        </div>

                        <div class="faq-item">
                            <h6>¬øCon qu√© frecuencia se actualizan las m√©tricas?</h6>
                            <p>
                                Las m√©tricas se calculan cada vez que cargas la p√°gina. 
                                No hay actualizaci√≥n autom√°tica. Si quieres ver datos 
                                actualizados, refresca la p√°gina.
                            </p>
                        </div>

                        <div class="faq-item">
                            <h6>¬øQu√© significa si "Sin Estructura" muestra un n√∫mero alto?</h6>
                            <p>
                                Significa que tienes muchos trabajadores sin asignar a una 
                                sub√°rea organizacional. Esto puede afectar reportes y la 
                                jerarqu√≠a de autorizaciones. Se recomienda asignar todos 
                                los trabajadores.
                            </p>
                        </div>

                        <div class="faq-item">
                            <h6>¬øPuedo acceder al m√≥dulo desde el celular?</h6>
                            <p>
                                S√≠. La p√°gina est√° dise√±ada para funcionar en dispositivos 
                                m√≥viles. Las tarjetas y m√©tricas se reorganizan autom√°ticamente 
                                para pantallas peque√±as.
                            </p>
                        </div>

                        <div class="faq-item">
                            <h6>¬øHay un orden recomendado para configurar el m√≥dulo?</h6>
                            <p>
                                S√≠. Se recomienda: 1) Divisiones, 2) Centros de Costos, 
                                3) √Åreas, 4) Sub√°reas, 5) Roles/Cargos, 6) Trabajadores. 
                                Este orden garantiza que la estructura jer√°rquica est√© 
                                completa antes de asignar personal.
                            </p>
                        </div>

                        <div class="faq-item">
                            <h6>¬øQui√©n puede ver todas las funciones del m√≥dulo?</h6>
                            <p>
                                El Super Administrador y los usuarios con el rol "Gestor de 
                                Talento Humano" t√≠picamente tienen acceso a todas las funciones. 
                                Otros roles pueden tener acceso parcial seg√∫n sus responsabilidades.
                            </p>
                        </div>
                    </div>
                </section>

                <!-- ========================================== -->
                <!-- FIN DEL CONTENIDO DEL MANUAL -->
                <!-- ========================================== -->

                <!-- TARJETA PARA REPORTAR BUGS -->
                <div class="bug-report-card">
                    <i class="bi bi-bug-fill icon-large"></i>
                    <h4 class="mb-3">¬øEncontraste un problema o tienes una sugerencia?</h4>
                    <p class="mb-4">
                        Si experimentaste un error, algo no funciona como esperas, o tienes 
                        una sugerencia para mejorar el sistema, rep√≥rtalo aqu√≠.
                    </p>
                    <a href="../report-bug.html" class="btn btn-light btn-lg">
                        <i class="bi bi-exclamation-triangle me-2"></i>Reportar Bug o Problema
                    </a>
                </div>

            </div>
        </div>

    </div>

    <!-- BOT√ìN FLOTANTE PARA REPORTAR BUGS -->
    <a href="../report-bug.html" class="btn btn-danger btn-lg floating-bug-button" title="Reportar Bug">
        <i class="bi bi-bug-fill me-2"></i>Reportar Bug
    </a>

    <!-- SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/js/config.js"></script>
    
    <script>
        // ==========================================
        // VARIABLES GLOBALES
        // ==========================================
        let currentUser = null;

        // ==========================================
        // CONFIGURACI√ìN DE LA P√ÅGINA
        // ==========================================
        const PAGE_CONFIG = {
            moduleName: 'Talento Humano',
            modulePath: 'hr',
            pageTitle: 'Inicio del M√≥dulo',
            pagePath: 'index.html',
            moduleDescription: 'Gesti√≥n organizacional y administraci√≥n de personal'
        };

        // ==========================================
        // INICIALIZACI√ìN
        // ==========================================
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üìñ Iniciando p√°gina de manual...');
            
            try {
                if (typeof loadAndApplyBrandColors === 'function') {
                    await loadAndApplyBrandColors();
                }
                
                if (typeof getStoredSession === 'function') {
                    const session = getStoredSession();
                    if (session && session.user) {
                        currentUser = session.user;
                    }
                }
                
                updatePageInfo();
                
                console.log('‚úÖ P√°gina de manual lista');
                
            } catch (error) {
                console.error('‚ùå Error inicializando p√°gina:', error);
            }
        });

        // ==========================================
        // ACTUALIZAR INFORMACI√ìN DE LA P√ÅGINA
        // ==========================================
        function updatePageInfo() {
            document.title = `Manual - ${PAGE_CONFIG.moduleName} - ${PAGE_CONFIG.pageTitle} - SchoolNet`;
        }

        // ==========================================
        // UTILIDADES
        // ==========================================
        function showLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.remove('hidden');
            }
        }

        function hideLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.add('hidden');
            }
        }

        function showMessage(message, type) {
            const alertContainer = document.getElementById('alertContainer');
            if (!alertContainer) return;
            
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} alert-dismissible fade show`;
            alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            alertContainer.appendChild(alertDiv);
            
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 5000);
        }

    </script>
</body>
</html>
