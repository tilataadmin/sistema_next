<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- VERSI√ìN DE LA P√ÅGINA -->
    <meta name="page-version" content="25.06.12.15.00">
    
    <title>Manual - Talento Humano - Roles y Cargos - SchoolNet</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <style>
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .loading-overlay.hidden {
            display: none;
        }
        
        .loading-content {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #007bff;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Encabezado discreto */
        .manual-header {
            background: #f8f9fa;
            border-bottom: 2px solid var(--system-primary-color, #1B365D);
            padding: 1.5rem 0;
            margin-bottom: 2rem;
        }

        .manual-header h1 {
            font-size: 1.75rem;
            color: var(--system-primary-color, #1B365D);
            margin-bottom: 0.25rem;
        }

        .manual-header .subtitle {
            color: #6c757d;
            font-size: 0.95rem;
        }

        /* Info card */
        .info-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        /* Tarjeta para reportar bugs - CORREGIDO */
        .bug-report-card {
            background: var(--system-primary-color, #1B365D);
            color: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .bug-report-card h4, .bug-report-card h5 {
            color: white;
        }

        /* Bot√≥n flotante para reportar bugs */
        .floating-bug-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            background: var(--system-primary-color, #1B365D) !important;
            border-color: var(--system-primary-color, #1B365D) !important;
        }

        .floating-bug-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.4);
            opacity: 0.9;
        }

        .icon-large {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        /* Estilos para el contenido del manual */
        .section-title {
            color: var(--system-primary-color, #1B365D);
            border-bottom: 2px solid var(--system-primary-color, #1B365D);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
            margin-top: 2rem;
        }

        .step-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            background: var(--system-primary-color, #1B365D);
            color: white;
            border-radius: 50%;
            font-weight: bold;
            margin-right: 0.75rem;
        }

        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #0d6efd;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .success-box {
            background: #d1e7dd;
            border-left: 4px solid #198754;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .danger-box {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .faq-item {
            margin-bottom: 1rem;
        }

        .faq-item h6 {
            color: var(--system-primary-color, #1B365D);
            margin-bottom: 0.5rem;
        }

        /* Stats preview */
        .stats-preview {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .stat-item {
            text-align: center;
            padding: 0.5rem;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .stat-label {
            font-size: 0.8rem;
            color: #6c757d;
        }

        /* Concept card */
        .concept-card {
            background: linear-gradient(135deg, #fd7e14 0%, #e55a00 100%);
            color: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .concept-card h6 {
            color: white;
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <p class="mb-0">Cargando...</p>
        </div>
    </div>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="container-fluid">

        <!-- ENCABEZADO DISCRETO -->
        <div class="manual-header">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h1>
                            <i class="bi bi-book me-2"></i>
                            Manual: Talento Humano
                        </h1>
                        <p class="subtitle mb-0">Roles y Cargos</p>
                    </div>
                    <div class="col-md-4 text-md-end mt-3 mt-md-0">
                        <a href="../../modules/hr/job-roles.html" class="btn btn-outline-primary">
                            <i class="bi bi-arrow-left me-1"></i>Volver al M√≥dulo
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONTENEDOR DE ALERTAS -->
        <div id="alertContainer"></div>

        <div class="row">
            <div class="col-lg-8 mx-auto">

                <!-- INFORMACI√ìN CONTEXTUAL -->
                <div class="info-card">
                    <div class="row align-items-center">
                        <div class="col-md-6">
                            <h6 class="text-muted mb-2">Manual de:</h6>
                            <h5 class="mb-1"><strong id="display-module">Talento Humano</strong></h5>
                            <p class="text-muted mb-0 small" id="display-page">Roles y Cargos</p>
                        </div>
                        <div class="col-md-6 text-md-end mt-3 mt-md-0">
                            <p class="small text-muted mb-0">
                                <i class="bi bi-info-circle me-1"></i>
                                Si tienes dudas o encuentras alg√∫n problema,<br>
                                puedes reportarlo usando el bot√≥n de abajo.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- ========================================== -->
                <!-- CONTENIDO DEL MANUAL -->
                <!-- ========================================== -->

                <!-- SECCI√ìN 1: ¬øQU√â ES? -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-award me-2"></i>
                        ¬øQu√© son los Roles y Cargos?
                    </h2>
                    
                    <div class="step-card">
                        <p class="lead">
                            Los <strong>Roles y Cargos</strong> definen las <strong>responsabilidades laborales</strong> 
                            que puede desempe√±ar un trabajador dentro de la instituci√≥n. Son independientes de la 
                            estructura organizacional (divisiones, centros de costo, √°reas).
                        </p>

                        <div class="concept-card">
                            <h6><i class="bi bi-lightbulb me-2"></i>Concepto clave</h6>
                            <p class="mb-0">
                                Un <strong>rol o cargo</strong> describe <em>qu√© hace</em> una persona 
                                (Docente, Secretaria, Coordinador), mientras que la <strong>estructura organizacional</strong> 
                                describe <em>d√≥nde</em> trabaja (Divisi√≥n Acad√©mica, Preescolar, Administraci√≥n).
                            </p>
                        </div>

                        <div class="success-box">
                            <strong><i class="bi bi-check-circle me-2"></i>Ejemplos de Roles y Cargos:</strong>
                            <ul class="mb-0 mt-2">
                                <li>Director Acad√©mico</li>
                                <li>Coordinador de Convivencia</li>
                                <li>Docente de Aula</li>
                                <li>Secretaria Acad√©mica</li>
                                <li>Auxiliar de Enfermer√≠a</li>
                                <li>Psic√≥logo Escolar</li>
                                <li>Bibliotecario</li>
                                <li>Personal de Servicios Generales</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- SECCI√ìN 2: PANEL DE ESTAD√çSTICAS -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-bar-chart me-2"></i>
                        Panel de Estad√≠sticas
                    </h2>
                    
                    <div class="step-card">
                        <p>
                            En la parte inferior de la p√°gina encontrar√°s dos tarjetas con 
                            informaci√≥n resumida:
                        </p>

                        <div class="stats-preview">
                            <div class="row">
                                <div class="col-6 stat-item">
                                    <div class="stat-value text-primary">15</div>
                                    <div class="stat-label">Total de Roles</div>
                                </div>
                                <div class="col-6 stat-item">
                                    <div class="stat-value text-success">12</div>
                                    <div class="stat-label">Roles Activos</div>
                                </div>
                            </div>
                        </div>

                        <table class="table table-bordered mt-3">
                            <thead class="table-light">
                                <tr>
                                    <th>Estad√≠stica</th>
                                    <th>¬øQu√© significa?</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><i class="bi bi-award text-primary me-2"></i><strong>Total de Roles</strong></td>
                                    <td>Cantidad total de roles registrados (activos e inactivos)</td>
                                </tr>
                                <tr>
                                    <td><i class="bi bi-check-circle text-success me-2"></i><strong>Roles Activos</strong></td>
                                    <td>Roles disponibles para asignar a trabajadores</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- SECCI√ìN 3: CREAR ROL -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-plus-circle me-2"></i>
                        Crear un Nuevo Rol
                    </h2>

                    <div class="step-card">
                        <h4>
                            <span class="step-number">1</span>
                            Abrir el formulario
                        </h4>
                        <p>
                            Haz clic en el bot√≥n <strong>"Nuevo Rol"</strong> ubicado en la esquina 
                            superior derecha de la p√°gina.
                        </p>
                    </div>

                    <div class="step-card">
                        <h4>
                            <span class="step-number">2</span>
                            Ingresar el nombre
                        </h4>
                        <p>
                            Escribe el nombre del rol o cargo en el campo <strong>"Nombre del Rol/Cargo"</strong>. 
                            Debe ser descriptivo y √∫nico en el sistema.
                        </p>
                        <div class="info-box">
                            <strong><i class="bi bi-info-circle me-2"></i>Recomendaciones:</strong>
                            <ul class="mb-0 mt-2">
                                <li>Usa nombres claros y reconocibles</li>
                                <li>Evita abreviaturas confusas</li>
                                <li>S√© consistente con la nomenclatura institucional</li>
                            </ul>
                        </div>
                    </div>

                    <div class="step-card">
                        <h4>
                            <span class="step-number">3</span>
                            Seleccionar el estado
                        </h4>
                        <p>
                            El campo <strong>"Estado"</strong> determina si el rol estar√° disponible 
                            para asignarse a trabajadores. Por defecto viene en <strong>Activo</strong>.
                        </p>
                    </div>

                    <div class="step-card">
                        <h4>
                            <span class="step-number">4</span>
                            Guardar
                        </h4>
                        <p>
                            Haz clic en <strong>"Guardar"</strong>. El nuevo rol aparecer√° en la 
                            tabla y las estad√≠sticas se actualizar√°n autom√°ticamente.
                        </p>
                    </div>
                </section>

                <!-- SECCI√ìN 4: EDITAR ROL -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-pencil me-2"></i>
                        Editar un Rol
                    </h2>
                    
                    <div class="step-card">
                        <p>Para modificar un rol existente:</p>
                        <ol>
                            <li>Localiza el rol en la tabla</li>
                            <li>Haz clic en el bot√≥n <i class="bi bi-pencil text-primary"></i> (l√°piz) en la columna "Acciones"</li>
                            <li>Modifica el nombre o el estado seg√∫n necesites</li>
                            <li>Haz clic en <strong>"Guardar"</strong></li>
                        </ol>

                        <div class="info-box">
                            <strong><i class="bi bi-info-circle me-2"></i>Nota:</strong>
                            Si cambias el nombre de un rol que ya tiene trabajadores asignados, 
                            el cambio se reflejar√° autom√°ticamente en los registros de esos trabajadores.
                        </div>
                    </div>
                </section>

                <!-- SECCI√ìN 5: CAMBIAR ESTADO -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-toggle-on me-2"></i>
                        Activar o Desactivar Roles
                    </h2>
                    
                    <div class="step-card">
                        <p>
                            El estado de un rol determina si puede ser asignado a nuevos trabajadores:
                        </p>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="success-box">
                                    <strong><i class="bi bi-check-circle me-2"></i>Activo</strong>
                                    <p class="mb-0 mt-2">
                                        Aparece en los listados de selecci√≥n y puede asignarse a trabajadores.
                                    </p>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="danger-box">
                                    <strong><i class="bi bi-x-circle me-2"></i>Inactivo</strong>
                                    <p class="mb-0 mt-2">
                                        No aparece en listados de selecci√≥n. Los trabajadores ya asignados 
                                        mantienen el rol.
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="warning-box">
                            <strong><i class="bi bi-lightbulb me-2"></i>¬øCu√°ndo desactivar un rol?</strong>
                            <p class="mb-0 mt-2">
                                Desactiva un rol cuando ya no se use en la instituci√≥n pero quieras 
                                mantener el hist√≥rico de trabajadores que lo tuvieron. Ejemplo: si 
                                antes hab√≠a "Auxiliar de Biblioteca" y ahora se llama "Asistente de Biblioteca", 
                                desactiva el antiguo y crea el nuevo.
                            </p>
                        </div>
                    </div>
                </section>

                <!-- SECCI√ìN 6: ELIMINAR ROL -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-trash me-2"></i>
                        Eliminar un Rol
                    </h2>
                    
                    <div class="step-card">
                        <p>Para eliminar un rol:</p>
                        <ol>
                            <li>Localiza el rol en la tabla</li>
                            <li>Haz clic en el bot√≥n <i class="bi bi-trash text-danger"></i> (papelera) en la columna "Acciones"</li>
                            <li>Confirma la eliminaci√≥n en el mensaje que aparece</li>
                        </ol>

                        <div class="danger-box">
                            <strong><i class="bi bi-exclamation-octagon me-2"></i>Restricci√≥n importante:</strong>
                            <p class="mb-0 mt-2">
                                <strong>No puedes eliminar</strong> un rol si tiene trabajadores asignados. 
                                El sistema verificar√° esto autom√°ticamente y mostrar√° un mensaje de error 
                                indicando que el rol est√° en uso.
                            </p>
                        </div>

                        <div class="info-box">
                            <strong><i class="bi bi-lightbulb me-2"></i>Alternativa:</strong>
                            Si no puedes eliminar un rol pero ya no lo necesitas, c√°mbialo a estado 
                            <strong>"Inactivo"</strong>. As√≠ no aparecer√° en las listas de selecci√≥n pero 
                            se mantiene el hist√≥rico.
                        </div>
                    </div>
                </section>

                <!-- SECCI√ìN 7: BUSCAR ROLES -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-search me-2"></i>
                        Buscar Roles
                    </h2>
                    
                    <div class="step-card">
                        <p>
                            Usa el campo de b√∫squeda en la parte superior de la tabla para 
                            encontrar roles r√°pidamente:
                        </p>

                        <ol>
                            <li>Escribe el nombre (o parte del nombre) del rol que buscas</li>
                            <li>La tabla se filtrar√° autom√°ticamente mientras escribes</li>
                            <li>Haz clic en <i class="bi bi-search"></i> o presiona Enter para buscar</li>
                        </ol>

                        <div class="success-box">
                            <strong><i class="bi bi-lightbulb me-2"></i>Ejemplo:</strong>
                            Si buscas "doc", encontrar√°s: Docente, Docente de Apoyo, Coordinador Docente, etc.
                        </div>

                        <div class="info-box">
                            <strong><i class="bi bi-arrow-clockwise me-2"></i>Actualizar:</strong>
                            Usa el bot√≥n <i class="bi bi-arrow-clockwise"></i> junto al buscador para 
                            recargar la lista completa de roles.
                        </div>
                    </div>
                </section>

                <!-- SECCI√ìN 8: TABLA DE INFORMACI√ìN -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-table me-2"></i>
                        Entender la Tabla
                    </h2>
                    
                    <div class="step-card">
                        <p>La tabla muestra las siguientes columnas:</p>

                        <table class="table table-bordered">
                            <thead class="table-light">
                                <tr>
                                    <th>Columna</th>
                                    <th>Descripci√≥n</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Rol/Cargo</strong></td>
                                    <td>Nombre del rol con un √≠cono de identificaci√≥n</td>
                                </tr>
                                <tr>
                                    <td><strong>Estado</strong></td>
                                    <td>
                                        <span class="badge bg-success">Activo</span> o 
                                        <span class="badge bg-danger">Inactivo</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>Fecha Creaci√≥n</strong></td>
                                    <td>Cu√°ndo se registr√≥ el rol en el sistema</td>
                                </tr>
                                <tr>
                                    <td><strong>Acciones</strong></td>
                                    <td>Botones para editar o eliminar</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="info-box">
                            <strong><i class="bi bi-sort-alpha-down me-2"></i>Ordenamiento:</strong>
                            Los roles se muestran ordenados alfab√©ticamente por nombre.
                        </div>
                    </div>
                </section>

                <!-- SECCI√ìN 9: SOLUCI√ìN DE PROBLEMAS -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-question-circle me-2"></i>
                        Soluci√≥n de Problemas
                    </h2>

                    <div class="step-card">
                        <h5>Me dice que el nombre ya existe</h5>
                        <ul>
                            <li>Ya hay un rol con ese nombre exacto en el sistema</li>
                            <li>Usa un nombre diferente o verifica si el rol existente es el que necesitas</li>
                            <li>Revisa si el rol existente est√° inactivo y podr√≠as reactivarlo</li>
                        </ul>

                        <h5 class="mt-4">No puedo eliminar un rol</h5>
                        <ul>
                            <li>El rol tiene trabajadores asignados actualmente</li>
                            <li>Primero reasigna esos trabajadores a otro rol</li>
                            <li>O cambia el rol a estado <strong>"Inactivo"</strong> en lugar de eliminarlo</li>
                        </ul>

                        <h5 class="mt-4">La b√∫squeda no encuentra resultados</h5>
                        <ul>
                            <li>Verifica la ortograf√≠a del t√©rmino buscado</li>
                            <li>Intenta con menos letras (b√∫squeda parcial)</li>
                            <li>Haz clic en el bot√≥n de actualizar para recargar todos los roles</li>
                        </ul>

                        <h5 class="mt-4">No tengo acceso a esta p√°gina</h5>
                        <ul>
                            <li>Necesitas el permiso <strong>"Roles y cargos"</strong> para acceder</li>
                            <li>Contacta al administrador del sistema para solicitar el permiso</li>
                        </ul>

                        <h5 class="mt-4">Los cambios no se guardan</h5>
                        <ul>
                            <li>Verifica tu conexi√≥n a internet</li>
                            <li>Aseg√∫rate de hacer clic en el bot√≥n "Guardar"</li>
                            <li>Revisa que el nombre tenga al menos 2 caracteres</li>
                            <li>Recarga la p√°gina si el problema persiste</li>
                        </ul>
                    </div>
                </section>

                <!-- SECCI√ìN 10: PREGUNTAS FRECUENTES -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-chat-dots me-2"></i>
                        Preguntas Frecuentes
                    </h2>

                    <div class="step-card">
                        <div class="faq-item">
                            <h6>¬øCu√°l es la diferencia entre un rol y un cargo?</h6>
                            <p>
                                En SchoolNet, ambos t√©rminos se usan indistintamente. Puedes registrar 
                                tanto "roles" (Docente, Coordinador) como "cargos" espec√≠ficos 
                                (Director Acad√©mico, Jefe de Sistemas) seg√∫n la nomenclatura de tu instituci√≥n.
                            </p>
                        </div>

                        <div class="faq-item">
                            <h6>¬øUn trabajador puede tener varios roles?</h6>
                            <p>
                                En la configuraci√≥n actual, cada trabajador tiene asignado un rol principal. 
                                Si una persona desempe√±a m√∫ltiples funciones, puedes crear un rol combinado 
                                como "Docente y Coordinador" o usar el rol de la funci√≥n principal.
                            </p>
                        </div>

                        <div class="faq-item">
                            <h6>¬øQu√© pasa con los trabajadores si desactivo un rol?</h6>
                            <p>
                                Los trabajadores que ya est√°n asignados a ese rol mantienen su 
                                asignaci√≥n. Lo que cambia es que el rol ya no aparecer√° como 
                                opci√≥n para asignar a nuevos trabajadores.
                            </p>
                        </div>

                        <div class="faq-item">
                            <h6>¬øPuedo cambiar el nombre de un rol sin afectar a los trabajadores?</h6>
                            <p>
                                S√≠. Al cambiar el nombre, todos los trabajadores que ten√≠an ese rol 
                                autom√°ticamente mostrar√°n el nuevo nombre. No se pierde ninguna asignaci√≥n.
                            </p>
                        </div>

                        <div class="faq-item">
                            <h6>¬øLos roles afectan los permisos del sistema?</h6>
                            <p>
                                No directamente. Los roles describen la funci√≥n laboral, pero los 
                                permisos del sistema se gestionan de manera separada en el m√≥dulo 
                                de Seguridad. Una persona puede ser "Docente" pero tener permisos 
                                administrativos si as√≠ se configura.
                            </p>
                        </div>

                        <div class="faq-item">
                            <h6>¬øHay un l√≠mite de roles que puedo crear?</h6>
                            <p>
                                No hay l√≠mite t√©cnico. Sin embargo, se recomienda mantener una lista 
                                manejable y bien organizada. Si tienes demasiados roles similares, 
                                considera consolidarlos para facilitar la gesti√≥n.
                            </p>
                        </div>
                    </div>
                </section>

                <!-- ========================================== -->
                <!-- FIN DEL CONTENIDO DEL MANUAL -->
                <!-- ========================================== -->

                <!-- TARJETA PARA REPORTAR BUGS -->
                <div class="bug-report-card">
                    <i class="bi bi-bug-fill icon-large"></i>
                    <h4 class="mb-3">¬øEncontraste un problema o tienes una sugerencia?</h4>
                    <p class="mb-4">
                        Si experimentaste un error, algo no funciona como esperas, o tienes 
                        una sugerencia para mejorar el sistema, rep√≥rtalo aqu√≠.
                    </p>
                    <a href="../report-bug.html" class="btn btn-light btn-lg">
                        <i class="bi bi-exclamation-triangle me-2"></i>Reportar Bug o Problema
                    </a>
                </div>

            </div>
        </div>

    </div>

    <!-- BOT√ìN FLOTANTE PARA REPORTAR BUGS -->
    <a href="../report-bug.html" class="btn btn-danger btn-lg floating-bug-button" title="Reportar Bug">
        <i class="bi bi-bug-fill me-2"></i>Reportar Bug
    </a>

    <!-- SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/js/config.js"></script>
    
    <script>
        // ==========================================
        // VARIABLES GLOBALES
        // ==========================================
        let currentUser = null;

        // ==========================================
        // CONFIGURACI√ìN DE LA P√ÅGINA
        // ==========================================
        const PAGE_CONFIG = {
            moduleName: 'Talento Humano',
            modulePath: 'hr',
            pageTitle: 'Roles y Cargos',
            pagePath: 'job-roles.html',
            moduleDescription: 'Gesti√≥n de roles laborales y responsabilidades'
        };

        // ==========================================
        // INICIALIZACI√ìN
        // ==========================================
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üìñ Iniciando p√°gina de manual...');
            
            try {
                if (typeof loadAndApplyBrandColors === 'function') {
                    await loadAndApplyBrandColors();
                }
                
                if (typeof getStoredSession === 'function') {
                    const session = getStoredSession();
                    if (session && session.user) {
                        currentUser = session.user;
                    }
                }
                
                updatePageInfo();
                
                console.log('‚úÖ P√°gina de manual lista');
                
            } catch (error) {
                console.error('‚ùå Error inicializando p√°gina:', error);
            }
        });

        // ==========================================
        // ACTUALIZAR INFORMACI√ìN DE LA P√ÅGINA
        // ==========================================
        function updatePageInfo() {
            document.title = `Manual - ${PAGE_CONFIG.moduleName} - ${PAGE_CONFIG.pageTitle} - SchoolNet`;
        }

        // ==========================================
        // UTILIDADES
        // ==========================================
        function showLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.remove('hidden');
            }
        }

        function hideLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.add('hidden');
            }
        }

        function showMessage(message, type) {
            const alertContainer = document.getElementById('alertContainer');
            if (!alertContainer) return;
            
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} alert-dismissible fade show`;
            alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            alertContainer.appendChild(alertDiv);
            
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 5000);
        }

    </script>
</body>
</html>
