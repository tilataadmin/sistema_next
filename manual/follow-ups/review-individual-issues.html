<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- VERSIÓN DE LA PÁGINA -->
    <meta name="page-version" content="25.11.08.14.30">
    
    <title>Manual - Seguimientos - Revisar Asuntos Individuales - SchoolNet</title>
    
    <!-- Bootstrap CSS - VERSIÓN FIJA PROBADA -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <style>
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .loading-overlay.hidden {
            display: none;
        }
        
        .loading-content {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #007bff;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Encabezado discreto */
        .manual-header {
            background: #f8f9fa;
            border-bottom: 2px solid var(--system-primary-color, #1B365D);
            padding: 1.5rem 0;
            margin-bottom: 2rem;
        }

        .manual-header h1 {
            font-size: 1.75rem;
            color: var(--system-primary-color, #1B365D);
            margin-bottom: 0.25rem;
        }

        .manual-header .subtitle {
            color: #6c757d;
            font-size: 0.95rem;
        }

        /* Info card */
        .info-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        /* Tarjeta para reportar bugs */
        .bug-report-card {
            background: var(--system-primaryy-color, #1B365D);
            color: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .bug-report-card h5 {
            color: white;
        }

        /* Botón flotante para reportar bugs */
        .floating-bug-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            background: var(--system-primary-color, #dc3545) !important;
            border-color: var(--system-primary-color, #dc3545) !important;
        }

        .floating-bug-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.4);
            opacity: 0.9;
        }

        .icon-large {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        /* Estilos específicos para el manual */
        .section-title {
            color: var(--system-primary-color, #1B365D);
            border-bottom: 2px solid var(--system-primary-color, #1B365D);
            padding-bottom: 0.5rem;
            margin-top: 2rem;
            margin-bottom: 1.5rem;
        }

        .step-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 35px;
            height: 35px;
            background: var(--system-primary-color, #1B365D);
            color: white;
            border-radius: 50%;
            font-weight: bold;
            margin-right: 1rem;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }

        .info-box {
            background: #d1ecf1;
            border-left: 4px solid #0dcaf0;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }

        .success-box {
            background: #d1e7dd;
            border-left: 4px solid #198754;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }

        .feature-list {
            list-style: none;
            padding-left: 0;
        }

        .feature-list li {
            padding: 0.5rem 0;
            padding-left: 2rem;
            position: relative;
        }

        .feature-list li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: #198754;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .keyboard-shortcut {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.9rem;
        }

        .table-example {
            font-size: 0.9rem;
            margin: 1rem 0;
        }

        .code-inline {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-family: monospace;
            font-size: 0.9em;
            color: #d63384;
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <p class="mb-0">Cargando...</p>
        </div>
    </div>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="container-fluid">

        <!-- ENCABEZADO DISCRETO -->
        <div class="manual-header">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h1>
                            <i class="bi bi-book me-2"></i>
                            Manual: Seguimientos
                        </h1>
                        <p class="subtitle mb-0">Revisar y clasificar asuntos individuales de estudiantes</p>
                    </div>
                    <div class="col-md-4 text-md-end mt-3 mt-md-0">
                        <a href="../../modules/follow-ups/review-individual-issues.html" class="btn btn-outline-primary">
                            <i class="bi bi-arrow-left me-1"></i>Volver al Módulo
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONTENEDOR DE ALERTAS -->
        <div id="alertContainer"></div>

        <div class="row">
            <div class="col-lg-10 mx-auto">

                <!-- INFORMACIÓN CONTEXTUAL -->
                <div class="info-card">
                    <div class="row align-items-center">
                        <div class="col-md-6">
                            <h6 class="text-muted mb-2">Manual de:</h6>
                            <h5 class="mb-1"><strong>Seguimientos</strong></h5>
                            <p class="text-muted mb-0 small">Revisar Asuntos Individuales</p>
                        </div>
                        <div class="col-md-6 text-md-end mt-3 mt-md-0">
                            <p class="small text-muted mb-0">
                                <i class="bi bi-info-circle me-1"></i>
                                Si tienes dudas o encuentras algún problema,<br>
                                puedes reportarlo usando el botón de abajo.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- CONTENIDO DEL MANUAL -->

                <!-- Descripción General -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-info-circle me-2"></i>
                        ¿Qué es Revisar Asuntos Individuales?
                    </h2>
                    
                    <div class="step-card">
                        <p class="lead">
                            Esta función permite a los <strong>directores de curso</strong> revisar, clasificar y 
                            gestionar los asuntos individuales registrados de los estudiantes de sus cursos asignados.
                        </p>
                        
                        <p>
                            Los directores pueden visualizar todos los asuntos abiertos reportados por docentes, 
                            coordinadores u otros usuarios autorizados, y clasificarlos como <strong>"escalables"</strong> 
                            o <strong>"no escalables"</strong> según requieran atención de niveles superiores de dirección.
                        </p>

                        <div class="info-box">
                            <strong><i class="bi bi-lightbulb me-2"></i>Propósito principal:</strong>
                            Facilitar la gestión y triage de asuntos estudiantiles, permitiendo que los directores 
                            de curso identifiquen rápidamente qué situaciones requieren escalamiento a coordinación 
                            académica o de convivencia, y cuáles pueden ser manejadas a nivel del curso.
                        </div>

                        <div class="warning-box">
                            <strong><i class="bi bi-shield-exclamation me-2"></i>Acceso restringido:</strong>
                            Esta función está disponible únicamente para usuarios con el permiso 
                            <span class="code-inline">"Revisar asuntos individuales"</span>. 
                            Generalmente son directores de curso o coordinadores académicos.
                        </div>
                    </div>
                </section>

                <!-- Conceptos clave -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-diagram-3 me-2"></i>
                        Conceptos clave: Escalable vs. No Escalable
                    </h2>
                    
                    <div class="step-card">
                        <div class="row">
                            <div class="col-md-6">
                                <h5 class="text-warning">
                                    <i class="bi bi-arrow-up-circle me-2"></i>
                                    Asuntos Escalables (SI)
                                </h5>
                                <p>
                                    Son situaciones que requieren atención, seguimiento o intervención 
                                    de niveles superiores de dirección.
                                </p>
                                <p><strong>Ejemplos:</strong></p>
                                <ul>
                                    <li>Problemas de convivencia reiterados</li>
                                    <li>Bajo rendimiento académico persistente</li>
                                    <li>Situaciones que afectan a múltiples estudiantes</li>
                                    <li>Casos que requieren coordinación interdisciplinaria</li>
                                    <li>Situaciones familiares complejas</li>
                                    <li>Asuntos de salud mental que requieren protocolo</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h5 class="text-success">
                                    <i class="bi bi-check-circle me-2"></i>
                                    Asuntos No Escalables (NO)
                                </h5>
                                <p>
                                    Son situaciones puntuales o menores que pueden ser gestionadas 
                                    directamente por el director de curso.
                                </p>
                                <p><strong>Ejemplos:</strong></p>
                                <ul>
                                    <li>Llegadas tarde esporádicas</li>
                                    <li>Olvidos de materiales ocasionales</li>
                                    <li>Incidencias menores de convivencia resueltas</li>
                                    <li>Observaciones positivas de comportamiento</li>
                                    <li>Seguimientos rutinarios sin complicaciones</li>
                                    <li>Situaciones ya resueltas a nivel del curso</li>
                                </ul>
                            </div>
                        </div>

                        <div class="info-box mt-3">
                            <strong><i class="bi bi-info-circle me-2"></i>Criterio profesional:</strong>
                            La clasificación de escalable/no escalable depende del criterio profesional del director 
                            de curso basado en:
                            <ul class="mb-0 mt-2">
                                <li>Gravedad de la situación</li>
                                <li>Frecuencia o reiteración</li>
                                <li>Impacto en el proceso educativo</li>
                                <li>Necesidad de intervención especializada</li>
                                <li>Protocolos institucionales vigentes</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- Características principales -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-star me-2"></i>
                        Características principales
                    </h2>
                    
                    <div class="step-card">
                        <ul class="feature-list">
                            <li><strong>Vista filtrada automática:</strong> Solo muestra asuntos de estudiantes de tus cursos asignados</li>
                            <li><strong>Fotografías de estudiantes:</strong> Visualización de foto para identificación rápida</li>
                            <li><strong>Tabla organizada:</strong> Información clara con columnas de estudiante, curso, fecha, descripción y reportante</li>
                            <li><strong>Actualización en línea:</strong> Cambio instantáneo del estado escalable mediante selector desplegable</li>
                            <li><strong>Estadísticas en tiempo real:</strong> Contadores de total de asuntos, escalables y no escalables</li>
                            <li><strong>Confirmación visual:</strong> Indicadores de éxito o error al actualizar cada registro</li>
                            <li><strong>Función de refrescar:</strong> Botón para actualizar datos sin recargar la página</li>
                            <li><strong>Protección contra duplicados:</strong> Sistema que previene actualizaciones múltiples accidentales</li>
                            <li><strong>Rollback automático:</strong> Reversión del cambio si hay error de conexión</li>
                            <li><strong>Responsive design:</strong> Adaptación a diferentes tamaños de pantalla</li>
                            <li><strong>Descripciones con scroll:</strong> Visualización completa de textos largos sin saturar la tabla</li>
                            <li><strong>Atajos de teclado:</strong> Navegación rápida con combinaciones de teclas</li>
                        </ul>
                    </div>
                </section>

                <!-- Antes de comenzar -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-clipboard-check me-2"></i>
                        Antes de comenzar
                    </h2>
                    
                    <div class="step-card">
                        <h5>Requisitos previos:</h5>
                        <ul>
                            <li>Tener permisos para "Revisar asuntos individuales"</li>
                            <li>Estar asignado como director de al menos un curso</li>
                            <li>Conocer los protocolos institucionales de escalamiento</li>
                            <li>Tener criterio para evaluar la gravedad de las situaciones</li>
                        </ul>

                        <div class="info-box">
                            <strong><i class="bi bi-info-circle me-2"></i>Sobre los asuntos mostrados:</strong>
                            <ul class="mb-0 mt-2">
                                <li>Solo verás asuntos de estudiantes de cursos donde eres director</li>
                                <li>Solo se muestran asuntos con estado <span class="code-inline">is_open = 'SI'</span></li>
                                <li>Los asuntos cerrados no aparecen en esta vista</li>
                                <li>Se muestran hasta 150 registros más recientes</li>
                                <li>Los registros están ordenados por fecha descendente (más recientes primero)</li>
                            </ul>
                        </div>

                        <div class="warning-box">
                            <strong><i class="bi bi-exclamation-triangle me-2"></i>Importante:</strong>
                            <ul class="mb-0 mt-2">
                                <li>Las clasificaciones que realices afectan el flujo de trabajo institucional</li>
                                <li>Los asuntos marcados como escalables serán visibles para coordinación</li>
                                <li>Revisa cuidadosamente cada descripción antes de clasificar</li>
                                <li>Puedes cambiar la clasificación las veces que sea necesario mientras el asunto esté abierto</li>
                            </ul>
                        </div>

                        <div class="success-box">
                            <strong><i class="bi bi-check-circle me-2"></i>Consulta con el equipo:</strong>
                            Ante dudas sobre si un asunto debe ser escalable o no, consulta con:
                            <ul class="mb-0 mt-2">
                                <li>Coordinación académica</li>
                                <li>Coordinación de convivencia</li>
                                <li>Orientación escolar</li>
                                <li>Otros directores de curso con experiencia</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- Paso a paso -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-list-ol me-2"></i>
                        Guía paso a paso
                    </h2>

                    <!-- Paso 1 -->
                    <div class="step-card">
                        <h4>
                            <span class="step-number">1</span>
                            Acceder al módulo y visualizar estadísticas
                        </h4>
                        
                        <p>
                            Al ingresar a la página, el sistema carga automáticamente todos los asuntos 
                            individuales abiertos de tus cursos asignados.
                        </p>

                        <p><strong>Durante la carga inicial verás:</strong></p>
                        <ul>
                            <li>Una pantalla de carga con mensaje "Cargando asuntos..."</li>
                            <li>El sistema consulta la base de datos filtrando por tu correo como director</li>
                            <li>Se cargan las fotografías desde el sistema de almacenamiento</li>
                        </ul>

                        <div class="info-box">
                            <strong><i class="bi bi-bar-chart me-2"></i>Panel de estadísticas:</strong>
                            En la parte superior se muestra un resumen con tarjetas estadísticas:
                            <ul class="mb-0 mt-2">
                                <li><strong>Total Asuntos:</strong> Cantidad total de registros abiertos</li>
                                <li><strong>Escalables (tarjeta amarilla):</strong> Asuntos marcados como <span class="code-inline">is_escalable = 'SI'</span></li>
                                <li><strong>No Escalables (tarjeta verde):</strong> Asuntos marcados como <span class="code-inline">is_escalable = 'NO'</span></li>
                                <li><strong>Botón Refrescar:</strong> Para actualizar los datos manualmente</li>
                            </ul>
                        </div>

                        <div class="warning-box">
                            <strong><i class="bi bi-exclamation-circle me-2"></i>Si no aparecen asuntos:</strong>
                            Esto puede significar que:
                            <ul class="mb-0 mt-2">
                                <li>No hay asuntos abiertos para tus cursos</li>
                                <li>Todos los asuntos ya fueron cerrados</li>
                                <li>No estás asignado como director de ningún curso</li>
                                <li>Tu correo en el sistema no coincide con el correo de sesión</li>
                            </ul>
                            Verás un mensaje indicando: "No hay asuntos registrados"
                        </div>
                    </div>

                    <!-- Paso 2 -->
                    <div class="step-card">
                        <h4>
                            <span class="step-number">2</span>
                            Revisar la tabla de asuntos
                        </h4>
                        
                        <p>
                            La tabla principal muestra todos los asuntos organizados en columnas para facilitar la revisión.
                        </p>

                        <p><strong>Estructura de la tabla:</strong></p>
                        <div class="table-responsive">
                            <table class="table table-bordered table-sm table-example">
                                <thead class="table-primary">
                                    <tr>
                                        <th style="width: 10%;">Foto</th>
                                        <th style="width: 20%;">Estudiante</th>
                                        <th style="width: 12%;">Curso</th>
                                        <th style="width: 10%;">Fecha</th>
                                        <th style="width: 28%;">Descripción</th>
                                        <th style="width: 15%;">Reportado por</th>
                                        <th style="width: 12%;">Escalable</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><em>[Foto 50x50px]</em></td>
                                        <td><strong>Nombre completo</strong><br><small>Código: XXXX</small></td>
                                        <td>11-A</td>
                                        <td>08/11/2025</td>
                                        <td><em>[Descripción con scroll]</em></td>
                                        <td>Juan Pérez</td>
                                        <td><em>[Selector SI/NO]</em></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="info-box">
                            <strong><i class="bi bi-image me-2"></i>Columna de Foto:</strong>
                            <ul class="mb-0 mt-2">
                                <li>Muestra la fotografía del estudiante si está disponible</li>
                                <li>La URL se construye con: <span class="code-inline">config_url_photos + student_code + '.jpg'</span></li>
                                <li>Si no hay foto, el espacio queda en blanco (no muestra imagen rota)</li>
                                <li>Tamaño: 50x50px con bordes redondeados</li>
                            </ul>
                        </div>

                        <div class="info-box">
                            <strong><i class="bi bi-person me-2"></i>Columna de Estudiante:</strong>
                            <ul class="mb-0 mt-2">
                                <li>Nombre completo: Primer nombre + Primer apellido</li>
                                <li>Código del estudiante en texto secundario</li>
                                <li>Formato: <strong>Nombre</strong> seguido de <small>Código: XXXX</small></li>
                            </ul>
                        </div>

                        <div class="info-box">
                            <strong><i class="bi bi-book me-2"></i>Columna de Curso:</strong>
                            Nombre del curso al que pertenece el estudiante (ej: "11-A", "10-B")
                        </div>

                        <div class="info-box">
                            <strong><i class="bi bi-calendar me-2"></i>Columna de Fecha:</strong>
                            Fecha en que se registró el asunto, formato DD/MM/YYYY
                        </div>

                        <div class="info-box">
                            <strong><i class="bi bi-file-text me-2"></i>Columna de Descripción:</strong>
                            <ul class="mb-0 mt-2">
                                <li>Muestra el contenido del asunto registrado</li>
                                <li>Área con scroll vertical si el texto es largo (max 150px altura)</li>
                                <li>Ancho adaptable según tamaño de pantalla (max 400px)</li>
                                <li>Fondo gris claro para facilitar lectura</li>
                                <li>Se limpia de etiquetas HTML para mostrar solo texto</li>
                            </ul>
                        </div>

                        <div class="info-box">
                            <strong><i class="bi bi-person-badge me-2"></i>Columna de Reportado por:</strong>
                            Nombre completo del usuario que creó el registro (docente, coordinador, etc.)
                        </div>

                        <div class="success-box">
                            <strong><i class="bi bi-mouse me-2"></i>Navegación en la tabla:</strong>
                            <ul class="mb-0 mt-2">
                                <li>Desplázate verticalmente para ver todos los registros</li>
                                <li>En móviles, la tabla tiene scroll horizontal para mantener todas las columnas</li>
                                <li>Puedes hacer zoom con el navegador si necesitas ver mejor (Ctrl + / Ctrl -)</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Paso 3 -->
                    <div class="step-card">
                        <h4>
                            <span class="step-number">3</span>
                            Leer y evaluar cada asunto
                        </h4>
                        
                        <p>
                            Antes de clasificar un asunto, es fundamental leerlo cuidadosamente y evaluar 
                            si requiere escalamiento a niveles superiores.
                        </p>

                        <p><strong>Factores a considerar:</strong></p>
                        <ul>
                            <li><strong>Gravedad:</strong> ¿Qué tan seria es la situación?</li>
                            <li><strong>Reiteración:</strong> ¿Es un problema recurrente del estudiante?</li>
                            <li><strong>Contexto familiar:</strong> ¿Hay aspectos familiares involucrados?</li>
                            <li><strong>Impacto académico:</strong> ¿Afecta significativamente el rendimiento?</li>
                            <li><strong>Protocolos:</strong> ¿Existe protocolo institucional específico?</li>
                            <li><strong>Recursos:</strong> ¿Se requieren recursos que no están a tu alcance?</li>
                            <li><strong>Urgencia:</strong> ¿Requiere atención inmediata de otro nivel?</li>
                        </ul>

                        <div class="warning-box">
                            <strong><i class="bi bi-exclamation-triangle me-2"></i>Recomendaciones para la evaluación:</strong>
                            <ul class="mb-0 mt-2">
                                <li>Lee la descripción completa antes de clasificar</li>
                                <li>Verifica si hay otros registros previos del mismo estudiante</li>
                                <li>Considera el contexto del estudiante (EAE, situación familiar conocida, etc.)</li>
                                <li>Consulta con quien reportó si tienes dudas</li>
                                <li>Ante incertidumbre, es preferible escalar que no hacerlo</li>
                            </ul>
                        </div>

                        <div class="info-box">
                            <strong><i class="bi bi-chat-dots me-2"></i>Comunicación con el reportante:</strong>
                            Si necesitas más información sobre un asunto:
                            <ul class="mb-0 mt-2">
                                <li>Identifica quién lo reportó en la columna "Reportado por"</li>
                                <li>Contacta directamente al docente o usuario que creó el registro</li>
                                <li>Solicita contexto adicional o aclaraciones necesarias</li>
                                <li>Coordina acciones previas antes de escalar si es apropiado</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Paso 4 -->
                    <div class="step-card">
                        <h4>
                            <span class="step-number">4</span>
                            Clasificar el asunto (Escalable o No Escalable)
                        </h4>
                        
                        <p>
                            En la columna "Escalable" de cada fila, encontrarás un selector desplegable 
                            con dos opciones: <strong>SI</strong> o <strong>NO</strong>.
                        </p>

                        <p><strong>Para clasificar un asunto:</strong></p>
                        <ol>
                            <li>Localiza la fila del asunto que deseas clasificar</li>
                            <li>En la última columna, haz clic en el selector desplegable</li>
                            <li>Selecciona <strong>SI</strong> si el asunto requiere escalamiento</li>
                            <li>O selecciona <strong>NO</strong> si puede manejarse a nivel del curso</li>
                            <li>El sistema actualizará automáticamente el registro</li>
                        </ol>

                        <div class="success-box">
                            <strong><i class="bi bi-check-circle me-2"></i>Confirmación visual:</strong>
                            <ul class="mb-0 mt-2">
                                <li>Al cambiar el valor, aparece temporalmente el mensaje "Actualizando..."</li>
                                <li>Si la actualización es exitosa, se muestra "Actualizado" en verde</li>
                                <li>Si hay error, se muestra "Error: [descripción]" en rojo</li>
                                <li>Los mensajes desaparecen automáticamente después de 3-5 segundos</li>
                                <li>Las estadísticas del panel superior se actualizan inmediatamente</li>
                            </ul>
                        </div>

                        <div class="warning-box">
                            <strong><i class="bi bi-lock me-2"></i>Durante la actualización:</strong>
                            <ul class="mb-0 mt-2">
                                <li>El selector se deshabilita temporalmente</li>
                                <li>No puedes cambiar otros asuntos hasta que finalice</li>
                                <li>NO cierres ni recargues la página durante este proceso</li>
                                <li>La actualización normalmente toma 1-2 segundos</li>
                            </ul>
                        </div>

                        <div class="info-box">
                            <strong><i class="bi bi-arrow-repeat me-2"></i>Rollback automático en caso de error:</strong>
                            <ul class="mb-0 mt-2">
                                <li>Si hay error de conexión, el selector vuelve al valor anterior</li>
                                <li>Se muestra un mensaje de error descriptivo</li>
                                <li>Puedes intentar el cambio nuevamente cuando se resuelva el problema</li>
                                <li>El estado en la base de datos NO se modifica si hay error</li>
                            </ul>
                        </div>

                        <div class="success-box">
                            <strong><i class="bi bi-recycle me-2"></i>Puedes cambiar la clasificación:</strong>
                            <ul class="mb-0 mt-2">
                                <li>No hay problema en cambiar de SI a NO o viceversa</li>
                                <li>Puedes hacerlo cuantas veces sea necesario</li>
                                <li>Cada cambio se guarda inmediatamente en la base de datos</li>
                                <li>El último valor guardado es el que queda vigente</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Paso 5 -->
                    <div class="step-card">
                        <h4>
                            <span class="step-number">5</span>
                            Refrescar datos cuando sea necesario
                        </h4>
                        
                        <p>
                            Si necesitas actualizar la información mostrada sin recargar toda la página, 
                            usa el botón <button class="btn btn-outline-primary btn-sm"><i class="bi bi-arrow-clockwise me-1"></i>Refrescar</button> 
                            ubicado en el panel de estadísticas.
                        </p>

                        <p><strong>Razones para refrescar:</strong></p>
                        <ul>
                            <li>Se han registrado nuevos asuntos desde otros usuarios</li>
                            <li>Algunos asuntos han sido cerrados por coordinación</li>
                            <li>Quieres verificar los conteos actualizados</li>
                            <li>Has estado trabajando mucho tiempo en la página</li>
                            <li>Necesitas confirmar que tus cambios se guardaron correctamente</li>
                        </ul>

                        <div class="info-box">
                            <strong><i class="bi bi-arrow-clockwise me-2"></i>Proceso de refresco:</strong>
                            <ul class="mb-0 mt-2">
                                <li>Aparece mensaje "Actualizando datos..." en pantalla</li>
                                <li>Se consulta nuevamente la base de datos</li>
                                <li>Se actualizan las estadísticas</li>
                                <li>Se regenera toda la tabla con datos frescos</li>
                                <li>Toma aproximadamente 2-3 segundos</li>
                            </ul>
                        </div>

                        <div class="success-box">
                            <strong><i class="bi bi-keyboard me-2"></i>Atajo de teclado:</strong>
                            También puedes presionar <span class="keyboard-shortcut">F5</span> 
                            o <span class="keyboard-shortcut">Ctrl + R</span> para refrescar los datos 
                            (el evento está capturado y se evita recargar la página completa).
                        </div>
                    </div>
                </section>

                <!-- Funciones adicionales -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-tools me-2"></i>
                        Funciones adicionales
                    </h2>

                    <div class="step-card">
                        <h5><i class="bi bi-funnel me-2"></i>Filtros rápidos (si están habilitados)</h5>
                        <p>
                            El código incluye una función <span class="code-inline">filtrarAsuntos()</span> 
                            que permite filtrar la vista por criterios específicos:
                        </p>
                        <ul>
                            <li><strong>Todos:</strong> Muestra todos los asuntos sin filtro</li>
                            <li><strong>Escalables:</strong> Solo asuntos marcados como SI</li>
                            <li><strong>No escalables:</strong> Solo asuntos marcados como NO</li>
                        </ul>

                        <div class="info-box">
                            <strong><i class="bi bi-keyboard me-2"></i>Atajos de teclado para filtros:</strong>
                            <ul class="mb-0 mt-2">
                                <li><span class="keyboard-shortcut">Alt + 1</span> - Mostrar todos</li>
                                <li><span class="keyboard-shortcut">Alt + 2</span> - Solo escalables</li>
                                <li><span class="keyboard-shortcut">Alt + 3</span> - Solo no escalables</li>
                                <li><span class="keyboard-shortcut">Esc</span> - Limpiar filtros y mostrar todos</li>
                            </ul>
                        </div>

                        <h5 class="mt-4"><i class="bi bi-terminal me-2"></i>Modo Debug (solo desarrollo)</h5>
                        <p>
                            Si estás en un entorno de desarrollo (localhost o vercel.app), puedes usar:
                        </p>
                        <ul>
                            <li><span class="keyboard-shortcut">Ctrl + Shift + D</span> - Ver información de debug en consola</li>
                            <li>O ejecutar <span class="code-inline">window.debugAsuntos()</span> en la consola del navegador</li>
                        </ul>
                        <p>Esto muestra información técnica como datos globales, conteos y configuración.</p>

                        <h5 class="mt-4"><i class="bi bi-download me-2"></i>Exportar a CSV (funcionalidad futura)</h5>
                        <p>
                            El código incluye placeholders para funciones de exportación y impresión 
                            que serán implementadas próximamente:
                        </p>
                        <ul>
                            <li><span class="code-inline">exportarCSV()</span> - Exportar datos a archivo CSV</li>
                            <li><span class="code-inline">imprimirTabla()</span> - Imprimir vista optimizada</li>
                        </ul>
                    </div>
                </section>

                <!-- Solución de problemas -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-question-circle me-2"></i>
                        Solución de problemas comunes
                    </h2>

                    <div class="step-card">
                        <h5>No se cargan los asuntos al abrir la página</h5>
                        <ul>
                            <li>Verifica tu conexión a internet</li>
                            <li>Recarga la página completamente (Ctrl + Shift + R para limpiar caché)</li>
                            <li>Verifica que estés logueado correctamente en el sistema</li>
                            <li>Confirma que tienes el permiso "Revisar asuntos individuales"</li>
                            <li>Verifica que estés asignado como director de al menos un curso</li>
                            <li>Contacta al administrador si el problema persiste</li>
                        </ul>

                        <h5 class="mt-3">La pantalla de carga no desaparece</h5>
                        <ul>
                            <li>Espera al menos 10 segundos para que termine la consulta</li>
                            <li>Verifica tu conexión a internet</li>
                            <li>Abre la consola del navegador (F12) y busca errores</li>
                            <li>Recarga la página si pasan más de 30 segundos</li>
                            <li>Intenta en otro navegador</li>
                        </ul>

                        <h5 class="mt-3">Las fotografías de los estudiantes no aparecen</h5>
                        <ul>
                            <li>Esto es normal si los estudiantes no tienen código asignado</li>
                            <li>También es normal si no hay fotografías cargadas en el sistema</li>
                            <li>Verifica la configuración de <span class="code-inline">photos_url</span> en system_config</li>
                            <li>La falta de fotos NO afecta la funcionalidad de clasificación</li>
                            <li>Contacta al administrador si todas las fotos faltan repentinamente</li>
                        </ul>

                        <h5 class="mt-3">El selector de Escalable no responde</h5>
                        <ul>
                            <li>Verifica que no haya otra actualización en progreso</li>
                            <li>Espera a que termine cualquier mensaje de "Actualizando..."</li>
                            <li>Recarga la página si el selector permanece deshabilitado</li>
                            <li>Verifica tu conexión a internet</li>
                        </ul>

                        <h5 class="mt-3">Mensaje de error al cambiar el estado escalable</h5>
                        <ul>
                            <li>Lee el mensaje de error específico que aparece</li>
                            <li>Verifica tu conexión a internet</li>
                            <li>El selector volverá al valor anterior automáticamente</li>
                            <li>Espera unos segundos y vuelve a intentar</li>
                            <li>Si dice "timeout", puede ser problema de red lenta</li>
                            <li>Contacta al administrador si el error persiste con múltiples registros</li>
                        </ul>

                        <h5 class="mt-3">Las estadísticas no se actualizan después de cambiar un valor</h5>
                        <ul>
                            <li>Esto puede indicar que el cambio no se guardó correctamente</li>
                            <li>Verifica si apareció mensaje de error</li>
                            <li>Haz clic en el botón "Refrescar" para actualizar datos</li>
                            <li>Recarga la página si las estadísticas siguen incorrectas</li>
                        </ul>

                        <h5 class="mt-3">No puedo actualizar ningún asunto (mensaje de "actualización en proceso")</h5>
                        <ul>
                            <li>Significa que hay una actualización pendiente</li>
                            <li>Espera a que termine el proceso actual (máximo 30 segundos)</li>
                            <li>Si persiste, recarga la página</li>
                            <li>Puede haber un problema de conexión que dejó el sistema en espera</li>
                        </ul>

                        <h5 class="mt-3">Aparece un asunto que ya clasifiqué como escalable pero sigue en NO</h5>
                        <ul>
                            <li>Verifica que apareció el mensaje de "Actualizado" en verde</li>
                            <li>Si no apareció, el cambio no se guardó</li>
                            <li>Haz clic en "Refrescar" para verificar el estado real en la base de datos</li>
                            <li>Vuelve a realizar el cambio si no se guardó</li>
                        </ul>

                        <h5 class="mt-3">Los filtros de teclado (Alt + números) no funcionan</h5>
                        <ul>
                            <li>Esta funcionalidad puede estar deshabilitada en la interfaz actual</li>
                            <li>Verifica si hay botones de filtro visibles en el panel de estadísticas</li>
                            <li>Algunos navegadores bloquean combinaciones de teclas específicas</li>
                            <li>Intenta usar el botón "Refrescar" para ver todos los datos</li>
                        </ul>

                        <h5 class="mt-3">La tabla no se adapta bien a mi pantalla móvil</h5>
                        <ul>
                            <li>La tabla tiene scroll horizontal en pantallas pequeñas</li>
                            <li>Desliza horizontalmente para ver todas las columnas</li>
                            <li>Puedes rotar el dispositivo a horizontal para mejor visualización</li>
                            <li>Considera usar una tablet o computadora para gestión más cómoda</li>
                        </ul>

                        <h5 class="mt-3">La descripción de un asunto está cortada</h5>
                        <ul>
                            <li>Las descripciones largas tienen scroll vertical dentro de su celda</li>
                            <li>Desplázate dentro del área de descripción para leer todo</li>
                            <li>El área tiene máximo 150px de altura con scroll interno</li>
                            <li>Si necesitas ver la descripción completa con formato, contacta al reportante</li>
                        </ul>
                    </div>
                </section>

                <!-- Buenas prácticas -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-award me-2"></i>
                        Buenas prácticas para directores de curso
                    </h2>

                    <div class="step-card">
                        <ul class="feature-list">
                            <li>Revisa diariamente los nuevos asuntos registrados de tus estudiantes</li>
                            <li>Lee completamente cada descripción antes de clasificar</li>
                            <li>Consulta con el reportante si necesitas más contexto</li>
                            <li>Escala asuntos que requieran recursos o intervenciones que no están a tu alcance</li>
                            <li>No subestimes asuntos aparentemente menores que se repiten</li>
                            <li>Mantén registro mental de patrones de comportamiento de estudiantes</li>
                            <li>Coordina con orientación cuando hay dudas sobre clasificación</li>
                            <li>Comunica a coordinación sobre asuntos escalados que requieren atención urgente</li>
                            <li>Verifica periódicamente las estadísticas para identificar tendencias</li>
                            <li>Usa el botón refrescar al inicio de cada jornada</li>
                            <li>Documenta acciones tomadas a nivel de curso en observaciones adicionales</li>
                            <li>Responde oportunamente ante asuntos de gravedad evidente</li>
                            <li>Mantén comunicación fluida con docentes reportantes</li>
                            <li>Considera el contexto individual de cada estudiante al clasificar</li>
                            <li>No dudes en cambiar la clasificación si obtienes nueva información</li>
                        </ul>

                        <div class="info-box mt-3">
                            <strong><i class="bi bi-people me-2"></i>Trabajo en equipo:</strong>
                            La clasificación efectiva de asuntos es fundamental para el trabajo coordinado:
                            <ul class="mb-0 mt-2">
                                <li>Permite a coordinación priorizar casos que requieren atención especializada</li>
                                <li>Facilita la distribución eficiente de recursos institucionales</li>
                                <li>Mejora los tiempos de respuesta ante situaciones críticas</li>
                                <li>Optimiza el seguimiento integral de los estudiantes</li>
                                <li>Fortalece la comunicación entre niveles directivos</li>
                            </ul>
                        </div>

                        <div class="success-box mt-3">
                            <strong><i class="bi bi-graph-up me-2"></i>Análisis de tendencias:</strong>
                            Usa las estadísticas para:
                            <ul class="mb-0 mt-2">
                                <li>Identificar si hay aumento de asuntos en ciertos períodos</li>
                                <li>Detectar necesidades de formación o intervención grupal</li>
                                <li>Evaluar la efectividad de estrategias implementadas</li>
                                <li>Solicitar apoyos adicionales cuando sea necesario</li>
                                <li>Generar reportes para reuniones de coordinación</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- Aspectos técnicos -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-gear me-2"></i>
                        Aspectos técnicos importantes
                    </h2>

                    <div class="step-card">
                        <h5>Filtrado de datos por director</h5>
                        <p>
                            La consulta a la base de datos filtra automáticamente los registros 
                            usando la relación:
                        </p>
                        <pre class="bg-light p-3 rounded"><code>stm_students_topics
  → students (student_id)
    → courses (student_course)
      → WHERE course_director_email = [tu_correo]
  → workers (email) [para nombre del reportante]</code></pre>

                        <p>Condiciones adicionales aplicadas:</p>
                        <ul>
                            <li><span class="code-inline">is_open = 'SI'</span> - Solo asuntos abiertos</li>
                            <li><span class="code-inline">ORDER BY topic_date DESC</span> - Más recientes primero</li>
                            <li><span class="code-inline">LIMIT 150</span> - Máximo 150 registros por carga</li>
                        </ul>

                        <h5 class="mt-4">Campos del registro</h5>
                        <p>La aplicación trabaja con los siguientes campos de <span class="code-inline">stm_students_topics</span>:</p>
                        <ul>
                            <li><strong>topic_id:</strong> ID único del registro (clave primaria)</li>
                            <li><strong>student_id:</strong> ID del estudiante asociado</li>
                            <li><strong>topic_date:</strong> Fecha del registro (YYYY-MM-DD)</li>
                            <li><strong>topic_description:</strong> Descripción completa del asunto (HTML)</li>
                            <li><strong>email:</strong> Correo de quien creó el registro</li>
                            <li><strong>is_escalable:</strong> 'SI' o 'NO' - Campo que se actualiza en esta página</li>
                            <li><strong>is_open:</strong> 'SI' o 'NO' - Filtra registros abiertos</li>
                        </ul>

                        <h5 class="mt-4">Proceso de actualización</h5>
                        <p>Cuando cambias el estado escalable:</p>
                        <ol>
                            <li>Se captura el evento <span class="code-inline">change</span> del select</li>
                            <li>Se deshabilita el selector y se marca como "enviando actualización"</li>
                            <li>Se realiza petición PATCH a: <span class="code-inline">/stm_students_topics?topic_id=eq.[ID]</span></li>
                            <li>Body de la petición: <span class="code-inline">{ is_escalable: 'SI' | 'NO' }</span></li>
                            <li>Si es exitoso:
                                <ul>
                                    <li>Se actualiza el valor en <span class="code-inline">datosGlobales.topics</span></li>
                                    <li>Se recalculan las estadísticas</li>
                                    <li>Se muestra mensaje de éxito</li>
                                </ul>
                            </li>
                            <li>Si hay error:
                                <ul>
                                    <li>Se revierte el valor del select (rollback visual)</li>
                                    <li>Se muestra mensaje de error</li>
                                    <li>El estado en BD no cambia</li>
                                </ul>
                            </li>
                            <li>Se habilita nuevamente el selector</li>
                        </ol>

                        <h5 class="mt-4">Protecciones implementadas</h5>
                        <p>El código incluye múltiples capas de protección:</p>
                        <ul>
                            <li><strong>Variable <span class="code-inline">enviandoActualizacion</span>:</strong> Previene actualizaciones simultáneas</li>
                            <li><strong>Deshabilitación de controles:</strong> El select se deshabilita durante actualización</li>
                            <li><strong>Atributo <span class="code-inline">data-previous-value</span>:</strong> Guarda valor anterior para rollback</li>
                            <li><strong>Manejo de errores:</strong> Try-catch con mensajes descriptivos</li>
                            <li><strong>Timeout implícito:</strong> Supabase tiene timeout de 30 segundos</li>
                        </ul>

                        <h5 class="mt-4">Carga de fotografías</h5>
                        <p>Las fotos se cargan desde Supabase Storage:</p>
                        <ul>
                            <li>URL base obtenida de <span class="code-inline">system_config.photos_url</span></li>
                            <li>URL completa: <span class="code-inline">photos_url + student_code + '.jpg'</span></li>
                            <li>Atributo <span class="code-inline">onerror</span> oculta imagen si no existe</li>
                            <li>Tamaño fijo: 50x50px con <span class="code-inline">object-fit: cover</span></li>
                        </ul>

                        <h5 class="mt-4">Funciones globales exportadas</h5>
                        <p>Estas funciones están disponibles globalmente (para uso en consola o futuras mejoras):</p>
                        <ul>
                            <li><span class="code-inline">window.refrescarDatos()</span> - Recarga datos desde BD</li>
                            <li><span class="code-inline">window.filtrarAsuntos(criterio)</span> - Filtra por 'todos', 'escalables', 'no-escalables'</li>
                            <li><span class="code-inline">window.exportarCSV()</span> - Placeholder para exportación</li>
                            <li><span class="code-inline">window.imprimirTabla()</span> - Placeholder para impresión</li>
                            <li><span class="code-inline">window.debugAsuntos()</span> - Debug en desarrollo</li>
                        </ul>

                        <h5 class="mt-4">Estructura de datos en memoria</h5>
                        <p>El objeto <span class="code-inline">datosGlobales</span> contiene:</p>
                        <pre class="bg-light p-3 rounded"><code>{
  topics: [
    {
      topic_id: number,
      student_id: number,
      topic_date: string,
      topic_description: string,
      topic_email: string,
      is_escalable: 'SI' | 'NO',
      student_code: string,
      student_first_name: string,
      student_last_name_1: string,
      course_name: string,
      worker_first_name: string,
      worker_last_name_1: string
    },
    // ... más registros
  ],
  config_url_photos: string
}</code></pre>

                        <h5 class="mt-4">Renderizado eficiente</h5>
                        <p>La tabla se construye usando DocumentFragment para mejor rendimiento:</p>
                        <ul>
                            <li>Se crea un fragment en memoria</li>
                            <li>Se agregan todas las filas al fragment</li>
                            <li>Se inserta el fragment completo al DOM de una sola vez</li>
                            <li>Esto minimiza reflows y mejora la velocidad con muchos registros</li>
                        </ul>
                    </div>
                </section>

                <!-- Preguntas frecuentes -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-chat-dots me-2"></i>
                        Preguntas frecuentes
                    </h2>

                    <div class="step-card">
                        <h5>¿Solo veo asuntos de mis cursos asignados?</h5>
                        <p>
                            Sí, exactamente. El sistema filtra automáticamente usando tu correo como 
                            <span class="code-inline">course_director_email</span>. Solo verás asuntos 
                            de estudiantes de cursos donde estás registrado como director.
                        </p>

                        <h5 class="mt-3">¿Puedo ver asuntos de otros cursos si soy coordinador?</h5>
                        <p>
                            Con esta función específica ("Revisar asuntos individuales"), no. Esta vista 
                            está diseñada para directores de curso. Los coordinadores tienen otras vistas 
                            específicas con alcance más amplio en diferentes módulos del sistema.
                        </p>

                        <h5 class="mt-3">¿Qué pasa si cambio la clasificación de un asunto varias veces?</h5>
                        <p>
                            No hay problema, puedes cambiar la clasificación las veces que necesites. 
                            Cada cambio se guarda inmediatamente y el último valor es el que queda vigente. 
                            No hay registro histórico de los cambios de clasificación.
                        </p>

                        <h5 class="mt-3">¿Los asuntos que marco como escalables se escalan automáticamente?</h5>
                        <p>
                            Marcar un asunto como escalable solo lo clasifica para que sea visible en 
                            reportes y vistas filtradas de coordinación. El proceso de escalamiento real 
                            (asignar a coordinador, crear casos, etc.) se maneja en otros módulos del sistema.
                        </p>

                        <h5 class="mt-3">¿Puedo editar la descripción de un asunto desde esta página?</h5>
                        <p>
                            No, en esta página solo puedes cambiar el estado escalable (SI/NO). 
                            La descripción y otros campos del asunto solo pueden editarse desde la 
                            función donde se creó (ej: "Registrar asuntos individuales") y solo por 
                            el usuario que lo creó, mientras esté abierto.
                        </p>

                        <h5 class="mt-3">¿Puedo cerrar un asunto desde esta página?</h5>
                        <p>
                            No, el cierre de asuntos se gestiona desde otras funciones administrativas. 
                            Esta página está enfocada únicamente en la clasificación escalable/no escalable.
                        </p>

                        <h5 class="mt-3">¿Por qué no veo asuntos que sé que existen de mis estudiantes?</h5>
                        <p>
                            Posibles razones:
                        </p>
                        <ul>
                            <li>Los asuntos ya fueron cerrados (<span class="code-inline">is_open = 'NO'</span>)</li>
                            <li>Fueron registrados para estudiantes de cursos donde no eres director</li>
                            <li>Hay más de 150 asuntos y están fuera del límite mostrado</li>
                            <li>Tu correo en el sistema no coincide con tu sesión actual</li>
                        </ul>

                        <h5 class="mt-3">¿Cuánto tiempo tarda en aparecer un asunto recién registrado?</h5>
                        <p>
                            Los asuntos aparecen inmediatamente después de ser registrados. Si no ves uno reciente:
                        </p>
                        <ul>
                            <li>Haz clic en el botón "Refrescar" para actualizar datos</li>
                            <li>Verifica que sea de un estudiante de tus cursos</li>
                            <li>Confirma que no haya sido cerrado inmediatamente</li>
                        </ul>

                        <h5 class="mt-3">¿Las clasificaciones que hago afectan las notificaciones?</h5>
                        <p>
                            Las clasificaciones escalable/no escalable NO afectan el envío de notificaciones 
                            al momento del registro. Las notificaciones se envían cuando se crea el asunto, 
                            independientemente de su clasificación posterior.
                        </p>

                        <h5 class="mt-3">¿Puedo ver asuntos EAE en esta página?</h5>
                        <p>
                            Sí, los asuntos EAE (<span class="code-inline">is_eae = true</span>) aparecen 
                            mezclados con los asuntos regulares en esta vista. El filtro principal es que 
                            estén abiertos y sean de tus cursos. No hay distinción visual entre asuntos 
                            EAE y regulares en esta tabla.
                        </p>

                        <h5 class="mt-3">¿Qué significa si un asunto no tiene reportante visible?</h5>
                        <p>
                            Si la columna "Reportado por" está vacía o muestra espacios, puede significar:
                        </p>
                        <ul>
                            <li>El usuario que lo creó no tiene nombres registrados en la tabla <span class="code-inline">workers</span></li>
                            <li>El correo del registro no coincide con ningún usuario en <span class="code-inline">workers</span></li>
                            <li>Error de sincronización entre tablas</li>
                        </ul>
                        <p>Contacta al administrador si esto ocurre con múltiples registros.</p>

                        <h5 class="mt-3">¿Por qué algunos asuntos tienen descripciones muy largas?</h5>
                        <p>
                            Las descripciones pueden contener formato HTML del editor Quill (si fueron 
                            creadas desde módulos con editor enriquecido). La tabla muestra el texto 
                            limpio de HTML con scroll vertical para leer todo. Las descripciones largas 
                            y detalladas son esperadas para asuntos complejos.
                        </p>

                        <h5 class="mt-3">¿Puedo ordenar la tabla por diferentes columnas?</h5>
                        <p>
                            Actualmente no hay funcionalidad de ordenamiento en la tabla. Los registros 
                            siempre se muestran por fecha descendente (más recientes primero). Esta es 
                            una funcionalidad que podría agregarse en futuras versiones.
                        </p>

                        <h5 class="mt-3">¿Se genera algún reporte de los asuntos escalables?</h5>
                        <p>
                            Los datos de clasificación escalable quedan disponibles en la base de datos 
                            para generar reportes, pero esta página específica no genera reportes. 
                            Los coordinadores y administradores tienen acceso a módulos de reportería 
                            donde pueden consultar asuntos escalables.
                        </p>

                        <h5 class="mt-3">¿Cuándo debo usar el botón "Refrescar" vs recargar la página completa?</h5>
                        <p>
                            <strong>Usa "Refrescar":</strong>
                        </p>
                        <ul>
                            <li>Para actualizar datos rápidamente</li>
                            <li>Cuando sabes que hay cambios recientes</li>
                            <li>Varias veces durante una sesión de trabajo</li>
                        </ul>
                        <p>
                            <strong>Recarga la página completa (F5 normal):</strong>
                        </p>
                        <ul>
                            <li>Si hay comportamiento extraño o errores</li>
                            <li>Si los datos se ven desactualizados después de refrescar</li>
                            <li>Si cambiaron tus permisos o asignación de cursos</li>
                        </ul>
                    </div>
                </section>

                <!-- TARJETA PARA REPORTAR BUGS -->
                <div class="bug-report-card">
                    <i class="bi bi-bug-fill icon-large"></i>
                    <h4 class="mb-3">¿Encontraste un problema o tienes una sugerencia?</h4>
                    <p class="mb-4">
                        Si experimentaste un error, algo no funciona como esperas, o tienes 
                        una sugerencia para mejorar el sistema, repórtalo aquí.
                    </p>
                    <a href="../report-bug.html" class="btn btn-light btn-lg">
                        <i class="bi bi-exclamation-triangle me-2"></i>Reportar Bug o Problema
                    </a>
                </div>

            </div>
        </div>

    </div>

    <!-- BOTÓN FLOTANTE PARA REPORTAR BUGS -->
    <a href="../report-bug.html" class="btn btn-danger btn-lg floating-bug-button" title="Reportar Bug">
        <i class="bi bi-bug-fill me-2"></i>Reportar Bug
    </a>

    <!-- SCRIPTS - ORDEN CRÍTICO -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/js/config.js"></script>
    
    <script>
        // ==========================================
        // VARIABLES GLOBALES
        // ==========================================
        let currentUser = null;

        // ==========================================
        // CONFIGURACIÓN DE LA PÁGINA
        // ==========================================
        const PAGE_CONFIG = {
            moduleName: 'Seguimientos',
            modulePath: 'follow-ups',
            pageTitle: 'Revisar Asuntos Individuales',
            pagePath: 'review-individual-issues.html',
            moduleDescription: 'Revisar y clasificar asuntos individuales de estudiantes'
        };

        // ==========================================
        // INICIALIZACIÓN
        // ==========================================
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('📖 Iniciando página de manual...');
            
            try {
                // Verificar si existe la función de colores corporativos
                if (typeof loadAndApplyBrandColors === 'function') {
                    await loadAndApplyBrandColors();
                }
                
                // Verificar sesión si la función existe
                if (typeof getStoredSession === 'function') {
                    const session = getStoredSession();
                    if (session && session.user) {
                        currentUser = session.user;
                    }
                }
                
                // Actualizar información en la página
                updatePageInfo();
                
                console.log('✅ Página de manual lista');
                
            } catch (error) {
                console.error('❌ Error inicializando página:', error);
                if (typeof showMessage === 'function') {
                    showMessage('Error al cargar la página: ' + error.message, 'danger');
                }
            }
        });

        // ==========================================
        // ACTUALIZAR INFORMACIÓN DE LA PÁGINA
        // ==========================================
        function updatePageInfo() {
            // Actualizar title
            document.title = `Manual - ${PAGE_CONFIG.moduleName} - ${PAGE_CONFIG.pageTitle} - SchoolNet`;
        }

        // ==========================================
        // UTILIDADES DE LOADING
        // ==========================================
        function showLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.remove('hidden');
            }
        }

        function hideLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.add('hidden');
            }
        }

        // ==========================================
        // FUNCIÓN DE MENSAJES
        // ==========================================
        function showMessage(message, type) {
            const alertContainer = document.getElementById('alertContainer');
            if (!alertContainer) return;
            
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} alert-dismissible fade show`;
            alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            alertContainer.appendChild(alertDiv);
            
            // Auto-remove después de 5 segundos
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 5000);
        }

    </script>
</body>
</html>
