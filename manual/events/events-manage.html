<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- VERSI√ìN DE LA P√ÅGINA -->
    <meta name="page-version" content="26.02.04.06.25">
    
    <title>Manual - Eventos - Gestionar Eventos - SchoolNet</title>
    
    <!-- Bootstrap CSS - VERSI√ìN FIJA PROBADA -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <style>
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .loading-overlay.hidden {
            display: none;
        }
        
        .loading-content {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #007bff;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Encabezado discreto */
        .manual-header {
            background: #f8f9fa;
            border-bottom: 2px solid var(--system-primary-color, #1B365D);
            padding: 1.5rem 0;
            margin-bottom: 2rem;
        }

        .manual-header h1 {
            font-size: 1.75rem;
            color: var(--system-primary-color, #1B365D);
            margin-bottom: 0.25rem;
        }

        .manual-header .subtitle {
            color: #6c757d;
            font-size: 0.95rem;
        }

        /* Info card */
        .info-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        
        /* Secci√≥n de contenido */
        .content-section {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 2rem;
            margin-bottom: 2rem;
        }
        
        .content-section h3 {
            color: var(--system-primary-color, #1B365D);
            border-bottom: 2px solid var(--system-primary-color, #1B365D);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }
        
        .content-section h4 {
            color: var(--system-primary-color, #1B365D);
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }
        
        /* Cajas de informaci√≥n */
        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #0d6efd;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }
        
        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }
        
        .success-box {
            background: #d1e7dd;
            border-left: 4px solid #198754;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }
        
        .danger-box {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }
        
        /* Pasos numerados */
        .step-list {
            counter-reset: step-counter;
            list-style: none;
            padding-left: 0;
        }
        
        .step-list li {
            counter-increment: step-counter;
            margin-bottom: 1.5rem;
            position: relative;
            padding-left: 3rem;
        }
        
        .step-list li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: var(--system-primary-color, #1B365D);
            color: white;
            width: 2rem;
            height: 2rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        /* Tarjeta para reportar bugs - USANDO COLOR PRIMARIO */
        .bug-report-card {
            background: var(--system-primary-color, #1B365D);
            color: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .bug-report-card h5 {
            color: white;
        }

        /* Bot√≥n flotante para reportar bugs - USANDO COLOR PRIMARIO */
        .floating-bug-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            background: var(--system-primary-color, #dc3545) !important;
            border-color: var(--system-primary-color, #dc3545) !important;
        }

        .floating-bug-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.4);
            opacity: 0.9;
        }

        .icon-large {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        /* Tabla de ejemplos */
        .example-table {
            width: 100%;
            margin: 1rem 0;
        }
        
        .example-table th {
            background: var(--system-primary-color, #1B365D);
            color: white;
            padding: 0.75rem;
        }
        
        .example-table td {
            padding: 0.75rem;
            border: 1px solid #dee2e6;
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <p class="mb-0">Cargando...</p>
        </div>
    </div>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="container-fluid">

        <!-- ENCABEZADO DISCRETO -->
        <div class="manual-header">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h1>
                            <i class="bi bi-book me-2"></i>
                            Manual: Eventos
                        </h1>
                        <p class="subtitle mb-0">Gestionar Eventos</p>
                    </div>
                    <div class="col-md-4 text-md-end mt-3 mt-md-0">
                        <a href="../../modules/events/events-manage.html" class="btn btn-outline-primary">
                            <i class="bi bi-arrow-left me-1"></i>Volver al M√≥dulo
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONTENEDOR DE ALERTAS -->
        <div id="alertContainer"></div>

        <div class="row">
            <div class="col-lg-10 mx-auto">

                <!-- INFORMACI√ìN CONTEXTUAL -->
                <div class="info-card">
                    <div class="row align-items-center">
                        <div class="col-md-6">
                            <h6 class="text-muted mb-2">Manual de:</h6>
                            <h5 class="mb-1"><strong id="display-module">Eventos</strong></h5>
                            <p class="text-muted mb-0 small" id="display-page">Gestionar Eventos</p>
                        </div>
                        <div class="col-md-6 text-md-end mt-3 mt-md-0">
                            <p class="small text-muted mb-0">
                                <i class="bi bi-info-circle me-1"></i>
                                Si tienes dudas o encuentras alg√∫n problema,<br>
                                puedes reportarlo usando el bot√≥n de abajo.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- ========================================== -->
                <!-- CONTENIDO DEL MANUAL -->
                <!-- ========================================== -->

                <!-- 1. ¬øQU√â ES? -->
                <div class="content-section">
                    <h3><i class="bi bi-calendar-check me-2"></i>¬øQu√© es Gestionar Eventos?</h3>
                    
                    <p>
                        <strong>Gestionar Eventos</strong> es la p√°gina principal donde puedes crear, editar, buscar 
                        y administrar todos los eventos institucionales de SchoolNet. Es el punto de partida para 
                        organizar cualquier tipo de evento, desde seminarios y conferencias hasta actividades 
                        deportivas o culturales.
                    </p>
                    
                    <div class="info-box">
                        <strong><i class="bi bi-lightbulb me-2"></i>¬øQu√© es un evento?</strong>
                        <p class="mb-0 mt-2">
                            Un evento es cualquier actividad organizada que requiere inscripci√≥n de participantes, 
                            control de asistencia y, opcionalmente, organizaci√≥n en franjas horarias y grupos. 
                            Ejemplos: congresos, talleres, seminarios, competencias, jornadas pedag√≥gicas, etc.
                        </p>
                    </div>
                </div>

                <!-- 2. ¬øPARA QU√â SIRVE? -->
                <div class="content-section">
                    <h3><i class="bi bi-star me-2"></i>¬øPara qu√© sirve?</h3>
                    
                    <p>Esta p√°gina te permite:</p>
                    
                    <ul class="mb-3">
                        <li><strong>Crear eventos nuevos:</strong> Define nombre, fechas, tipo de participantes 
                            y asocia las instituciones que pueden inscribirse.</li>
                        
                        <li><strong>Ver todos tus eventos:</strong> Lista completa con informaci√≥n resumida 
                            de cada evento (fechas, estado, participantes).</li>
                        
                        <li><strong>Buscar y filtrar:</strong> Encuentra eventos r√°pidamente por nombre, estado 
                            (activo, finalizado, cancelado) o tipo de participante.</li>
                        
                        <li><strong>Editar eventos:</strong> Actualiza informaci√≥n b√°sica, cambia fechas o 
                            modifica las instituciones asociadas.</li>
                        
                        <li><strong>Controlar el estado:</strong> Marca eventos como activos, finalizados 
                            o cancelados seg√∫n corresponda.</li>
                        
                        <li><strong>Acceder al detalle completo:</strong> Desde aqu√≠ puedes ir a la p√°gina de 
                            detalle para gestionar franjas, grupos, inscripciones y asistencias.</li>
                    </ul>
                    
                    <div class="success-box">
                        <strong><i class="bi bi-check-circle me-2"></i>Ventaja clave:</strong>
                        <p class="mb-0 mt-2">
                            Esta p√°gina es tu centro de control para eventos. Aqu√≠ defines la estructura b√°sica, 
                            y luego en el detalle gestionas todos los aspectos operativos (franjas, inscripciones, 
                            asistencias).
                        </p>
                    </div>
                </div>

                <!-- 3. ¬øC√ìMO SE USA? -->
                <div class="content-section">
                    <h3><i class="bi bi-gear me-2"></i>¬øC√≥mo se usa?</h3>
                    
                    <h4>Crear un Nuevo Evento</h4>
                    
                    <p>Para crear un evento desde cero, sigue estos pasos:</p>
                    
                    <ol class="step-list">
                        <li>
                            <strong>Haz clic en "Nuevo Evento"</strong><br>
                            Encontrar√°s este bot√≥n en la parte superior derecha de la pantalla.
                        </li>
                        
                        <li>
                            <strong>Completa la informaci√≥n b√°sica</strong><br>
                            Los campos obligatorios est√°n marcados con asterisco (*):
                            <ul class="mt-2">
                                <li><strong>Nombre del Evento:</strong> Un nombre descriptivo y claro 
                                    (Ej: "Seminario de Liderazgo 2026")</li>
                                <li><strong>Fechas:</strong> Define cu√°ndo inicia y termina el evento</li>
                                <li><strong>Tipo de Participantes:</strong> Decide qui√©n puede inscribirse</li>
                                <li><strong>Estado:</strong> Por defecto es "Activo"</li>
                            </ul>
                        </li>
                        
                        <li>
                            <strong>Agrega una descripci√≥n (opcional)</strong><br>
                            Explica brevemente de qu√© trata el evento. Esta descripci√≥n aparecer√° en los 
                            formularios de inscripci√≥n para que los participantes sepan qu√© esperar.
                        </li>
                        
                        <li>
                            <strong>Selecciona el tipo de participantes</strong><br>
                            Tienes tres opciones:
                            <ul class="mt-2">
                                <li><strong>Solo Internos (Workers):</strong> Solo personas registradas en 
                                    el m√≥dulo de Workers pueden inscribirse</li>
                                <li><strong>Solo Externos:</strong> Solo personas de instituciones externas 
                                    pueden inscribirse</li>
                                <li><strong>Ambos:</strong> Cualquier persona puede inscribirse, sean internos 
                                    o externos</li>
                            </ul>
                        </li>
                        
                        <li>
                            <strong>Asocia instituciones participantes</strong><br>
                            Si el evento permite externos o ambos:
                            <ul class="mt-2">
                                <li>Selecciona una instituci√≥n del men√∫ desplegable</li>
                                <li>Haz clic en el bot√≥n "+" para agregarla</li>
                                <li>Repite para agregar todas las instituciones necesarias</li>
                                <li>Puedes remover instituciones con el bot√≥n "X"</li>
                            </ul>
                        </li>
                        
                        <li>
                            <strong>Agrega enlace a encuesta (opcional)</strong><br>
                            Si tienes una encuesta post-evento en el m√≥dulo de encuestas, pega aqu√≠ el enlace. 
                            Podr√°s enviarla a los participantes cuando el evento finalice.
                        </li>
                        
                        <li>
                            <strong>Guarda el evento</strong><br>
                            Haz clic en "Guardar Evento" para crear el evento. Una vez guardado, podr√°s 
                            acceder a su detalle para configurar franjas, grupos y dem√°s.
                        </li>
                    </ol>
                    
                    <div class="info-box">
                        <strong><i class="bi bi-info-circle me-2"></i>Tipos de participantes explicados:</strong>
                        <table class="example-table mt-2">
                            <thead>
                                <tr>
                                    <th>Tipo</th>
                                    <th>¬øQui√©n puede inscribirse?</th>
                                    <th>Caso de uso</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Solo Internos</strong></td>
                                    <td>Empleados, docentes, personal de la instituci√≥n</td>
                                    <td>Capacitaciones internas, juntas, reuniones de trabajo</td>
                                </tr>
                                <tr>
                                    <td><strong>Solo Externos</strong></td>
                                    <td>Personas de instituciones asociadas al evento</td>
                                    <td>Eventos p√∫blicos, conferencias abiertas, seminarios para colegios</td>
                                </tr>
                                <tr>
                                    <td><strong>Ambos</strong></td>
                                    <td>Cualquier persona (internos + externos)</td>
                                    <td>Congresos mixtos, talleres abiertos, eventos h√≠bridos</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <h4>Buscar Eventos</h4>
                    
                    <p>
                        La p√°gina muestra todos tus eventos en forma de tarjetas. Usa las herramientas de 
                        b√∫squeda y filtros para encontrar eventos espec√≠ficos:
                    </p>
                    
                    <ul>
                        <li><strong>Cuadro de b√∫squeda:</strong> Escribe el nombre del evento o palabras clave 
                            de la descripci√≥n. La b√∫squeda filtra autom√°ticamente mientras escribes.</li>
                        
                        <li><strong>Filtro por Estado:</strong> Muestra solo eventos Activos, Finalizados o 
                            Cancelados seg√∫n selecciones.</li>
                        
                        <li><strong>Filtro por Tipo:</strong> Filtra por tipo de participante (Internos, 
                            Externos o Ambos).</li>
                        
                        <li><strong>Bot√≥n "Limpiar":</strong> Quita todos los filtros y muestra todos los eventos.</li>
                    </ul>
                    
                    <h4>Ver el Detalle de un Evento</h4>
                    
                    <p>Cada tarjeta de evento tiene un bot√≥n "Ver Detalle" que te lleva a la p√°gina completa del evento donde puedes:</p>
                    
                    <ul>
                        <li>Crear y gestionar franjas horarias</li>
                        <li>Configurar grupos dentro de las franjas</li>
                        <li>Ver y exportar inscripciones</li>
                        <li>Consultar asistencias</li>
                        <li>Generar reportes y estad√≠sticas</li>
                    </ul>
                    
                    <div class="info-box">
                        <strong><i class="bi bi-lightbulb me-2"></i>Diferencia clave:</strong>
                        <p class="mb-0 mt-2">
                            <strong>Gestionar Eventos</strong> es para crear y editar la informaci√≥n b√°sica. 
                            <strong>Ver Detalle</strong> es para la gesti√≥n operativa del d√≠a a d√≠a 
                            (franjas, inscripciones, asistencias).
                        </p>
                    </div>
                    
                    <h4>Editar un Evento</h4>
                    
                    <p>Para modificar un evento existente:</p>
                    
                    <ol class="step-list">
                        <li>
                            <strong>Ubica el evento</strong><br>
                            Usa los filtros o b√∫squeda para encontrarlo en la lista.
                        </li>
                        
                        <li>
                            <strong>Haz clic en el bot√≥n de editar</strong><br>
                            Es el bot√≥n con √≠cono de l√°piz (<i class="bi bi-pencil"></i>) en la parte 
                            inferior de la tarjeta del evento.
                        </li>
                        
                        <li>
                            <strong>Modifica los campos necesarios</strong><br>
                            El formulario se abrir√° con toda la informaci√≥n actual pre-cargada.
                        </li>
                        
                        <li>
                            <strong>Actualiza las instituciones si es necesario</strong><br>
                            Puedes agregar nuevas instituciones o quitar las existentes.
                        </li>
                        
                        <li>
                            <strong>Guarda los cambios</strong><br>
                            Haz clic en "Guardar Evento" para actualizar.
                        </li>
                    </ol>
                    
                    <div class="warning-box">
                        <strong><i class="bi bi-exclamation-triangle me-2"></i>Ten en cuenta:</strong>
                        <ul class="mb-0 mt-2">
                            <li>Si cambias las fechas, aseg√∫rate de que las franjas horarias sigan siendo v√°lidas</li>
                            <li>Si cambias el tipo de participante, verifica que las inscripciones existentes 
                                sigan siendo coherentes</li>
                            <li>Si quitas una instituci√≥n, las inscripciones de esa instituci√≥n NO se eliminan 
                                autom√°ticamente</li>
                        </ul>
                    </div>
                    
                    <h4>Cambiar el Estado de un Evento</h4>
                    
                    <p>
                        El estado del evento controla si aparece en los formularios p√∫blicos de inscripci√≥n 
                        y c√≥mo se presenta visualmente:
                    </p>
                    
                    <table class="example-table">
                        <thead>
                            <tr>
                                <th>Estado</th>
                                <th>Significado</th>
                                <th>Cu√°ndo usar</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Activo</strong></td>
                                <td>El evento est√° abierto y operativo</td>
                                <td>Durante la planificaci√≥n y ejecuci√≥n del evento</td>
                            </tr>
                            <tr>
                                <td><strong>Finalizado</strong></td>
                                <td>El evento ya termin√≥</td>
                                <td>Cuando todas las actividades del evento concluyeron</td>
                            </tr>
                            <tr>
                                <td><strong>Cancelado</strong></td>
                                <td>El evento fue cancelado antes de realizarse</td>
                                <td>Cuando el evento no se llevar√° a cabo por alguna raz√≥n</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <p class="mt-3">Para cambiar el estado:</p>
                    <ol>
                        <li>Edita el evento</li>
                        <li>Cambia el valor en el campo "Estado"</li>
                        <li>Guarda los cambios</li>
                    </ol>
                    
                    <h4>Asociar Instituciones al Evento</h4>
                    
                    <p>
                        Las instituciones definen qu√© organizaciones pueden inscribirse al evento (si permite 
                        participantes externos o ambos). Es importante entender c√≥mo funciona:
                    </p>
                    
                    <div class="info-box">
                        <strong><i class="bi bi-building me-2"></i>¬øC√≥mo funciona?</strong>
                        <ul class="mb-0 mt-2">
                            <li>Solo aparecen instituciones que est√°n <strong>activas</strong> en el cat√°logo maestro</li>
                            <li>Puedes asociar tantas instituciones como necesites</li>
                            <li>Las instituciones aparecen ordenadas alfab√©ticamente en el men√∫ desplegable</li>
                            <li>Si una instituci√≥n no existe, primero debes crearla en "Cat√°logo de Instituciones"</li>
                        </ul>
                    </div>
                    
                    <p class="mt-3"><strong>Pasos para asociar instituciones:</strong></p>
                    
                    <ol class="step-list">
                        <li>
                            <strong>Abre el formulario del evento</strong><br>
                            Ya sea creando uno nuevo o editando uno existente.
                        </li>
                        
                        <li>
                            <strong>Ve a la secci√≥n "Instituciones Participantes"</strong><br>
                            Est√° en la parte inferior del formulario.
                        </li>
                        
                        <li>
                            <strong>Selecciona una instituci√≥n del men√∫</strong><br>
                            Usa el men√∫ desplegable "Seleccionar instituci√≥n..."
                        </li>
                        
                        <li>
                            <strong>Haz clic en el bot√≥n "+"</strong><br>
                            La instituci√≥n se agregar√° a la lista del lado derecho.
                        </li>
                        
                        <li>
                            <strong>Repite para agregar m√°s instituciones</strong><br>
                            Puedes agregar tantas como necesites.
                        </li>
                        
                        <li>
                            <strong>Para quitar una instituci√≥n</strong><br>
                            Haz clic en el bot√≥n "X" junto al nombre de la instituci√≥n en la lista.
                        </li>
                    </ol>
                    
                    <div class="warning-box">
                        <strong><i class="bi bi-shield-check me-2"></i>Control de inscripci√≥n:</strong>
                        <p class="mb-0 mt-2">
                            Solo las personas de las instituciones asociadas podr√°n inscribirse al evento 
                            (si son externos). Esto te da control sobre qui√©n puede participar.
                        </p>
                    </div>
                    
                    <h4>Eliminar un Evento</h4>
                    
                    <p>Para eliminar permanentemente un evento:</p>
                    
                    <ol class="step-list">
                        <li>
                            <strong>Ubica el evento en la lista</strong><br>
                            Usa b√∫squeda o filtros si es necesario.
                        </li>
                        
                        <li>
                            <strong>Haz clic en el bot√≥n de eliminar</strong><br>
                            Es el bot√≥n rojo con √≠cono de papelera (<i class="bi bi-trash"></i>).
                        </li>
                        
                        <li>
                            <strong>Confirma la eliminaci√≥n</strong><br>
                            El sistema te advertir√° que se eliminar√°n TODOS los datos asociados.
                        </li>
                    </ol>
                    
                    <div class="danger-box">
                        <strong><i class="bi bi-exclamation-octagon me-2"></i>¬°ADVERTENCIA IMPORTANTE!</strong>
                        <p class="mb-0 mt-2">
                            Al eliminar un evento se borran <strong>permanentemente</strong>:
                        </p>
                        <ul class="mt-2 mb-0">
                            <li>Todas las franjas horarias</li>
                            <li>Todos los grupos dentro de las franjas</li>
                            <li>Todas las inscripciones de participantes</li>
                            <li>Todos los registros de asistencia</li>
                            <li>Las asociaciones con instituciones</li>
                        </ul>
                        <p class="mt-2 mb-0">
                            <strong>Esta acci√≥n NO se puede deshacer.</strong> Si no est√°s seguro, mejor 
                            cambia el estado a "Cancelado" en lugar de eliminar.
                        </p>
                    </div>
                    
                    <h4>Validaci√≥n de Fechas</h4>
                    
                    <p>El sistema valida autom√°ticamente que las fechas tengan sentido:</p>
                    
                    <ul>
                        <li>La fecha de fin no puede ser anterior a la fecha de inicio</li>
                        <li>Si intentas poner una fecha de fin anterior, el sistema la corregir√° 
                            autom√°ticamente a la fecha de inicio</li>
                        <li>Puedes crear eventos de un solo d√≠a (inicio y fin el mismo d√≠a)</li>
                    </ul>
                </div>

                <!-- 4. PREGUNTAS FRECUENTES -->
                <div class="content-section">
                    <h3><i class="bi bi-question-circle me-2"></i>Preguntas Frecuentes</h3>
                    
                    <h4>¬øPuedo crear un evento sin asociar instituciones?</h4>
                    <p>
                        <strong>S√≠.</strong> Si el evento es solo para internos (workers), no necesitas asociar 
                        instituciones. Si es para externos o ambos, es recomendable asociar al menos una 
                        instituci√≥n, aunque t√©cnicamente es opcional.
                    </p>
                    
                    <h4>¬øQu√© pasa si cambio el tipo de participante de un evento que ya tiene inscripciones?</h4>
                    <p>
                        Las inscripciones existentes <strong>no se eliminan autom√°ticamente</strong>. Sin embargo:
                    </p>
                    <ul>
                        <li>Si cambias de "Ambos" a "Solo Internos", las inscripciones de externos permanecen 
                            pero podr√≠an generar confusi√≥n</li>
                        <li>Si cambias de "Solo Externos" a "Solo Internos", las inscripciones de externos 
                            quedan hu√©rfanas</li>
                        <li>Lo mejor es NO cambiar el tipo de participante despu√©s de que haya inscripciones</li>
                    </ul>
                    
                    <h4>¬øC√≥mo s√© cu√°ntos inscritos tiene un evento?</h4>
                    <p>
                        En cada tarjeta de evento aparecen dos n√∫meros en la parte derecha:
                    </p>
                    <ul>
                        <li><strong>Inscritos:</strong> Total de personas registradas al evento</li>
                        <li><strong>Asistencias:</strong> Total de registros de asistencia (puede ser mayor 
                            que inscritos si el evento dura varios d√≠as)</li>
                    </ul>
                    <p>
                        Para ver el detalle completo, haz clic en "Ver Detalle" del evento.
                    </p>
                    
                    <h4>¬øPuedo editar las fechas de un evento que ya inici√≥?</h4>
                    <p>
                        <strong>T√©cnicamente s√≠,</strong> pero no es recomendable por estas razones:
                    </p>
                    <ul>
                        <li>Las franjas horarias ya creadas pueden quedar fuera del nuevo rango de fechas</li>
                        <li>Los c√≥digos QR generados por d√≠a pueden quedar desactualizados</li>
                        <li>Puede confundir a los participantes que ya se inscribieron</li>
                    </ul>
                    <p>
                        Si necesitas extender el evento, es mejor aumentar solo la fecha final, no modificar 
                        la inicial.
                    </p>
                    
                    <h4>¬øQu√© diferencia hay entre "Finalizado" y "Cancelado"?</h4>
                    <p>
                        <strong>Finalizado:</strong> El evento se realiz√≥ completamente y ya termin√≥. Todas las 
                        actividades se completaron normalmente.
                    </p>
                    <p>
                        <strong>Cancelado:</strong> El evento NO se llev√≥ a cabo. Se suspendi√≥ antes de realizarse 
                        o durante su ejecuci√≥n.
                    </p>
                    <p>
                        La diferencia es importante para las estad√≠sticas y reportes del sistema.
                    </p>
                    
                    <h4>¬øPuedo copiar un evento existente para crear uno similar?</h4>
                    <p>
                        Actualmente <strong>no hay funci√≥n de copiar/duplicar</strong>. Debes crear cada evento 
                        manualmente. Sin embargo, puedes abrir dos ventanas del navegador: una con el evento 
                        que quieres usar como referencia y otra con el formulario de nuevo evento para copiar 
                        la informaci√≥n manualmente.
                    </p>
                    
                    <h4>¬øQu√© es el "Enlace a Encuesta" y para qu√© sirve?</h4>
                    <p>
                        Es el enlace a una encuesta creada en el m√≥dulo de Encuestas de SchoolNet. Sirve para:
                    </p>
                    <ul>
                        <li>Recopilar feedback de los participantes despu√©s del evento</li>
                        <li>Evaluar la satisfacci√≥n con el evento</li>
                        <li>Obtener sugerencias de mejora</li>
                    </ul>
                    <p>
                        El enlace se puede enviar autom√°ticamente a los participantes cuando el evento finaliza 
                        (esta funci√≥n depende de configuraci√≥n adicional).
                    </p>
                    
                    <h4>Si elimino una instituci√≥n del cat√°logo, ¬øse elimina de los eventos?</h4>
                    <p>
                        <strong>No puedes eliminar</strong> una instituci√≥n que est√© asociada a alg√∫n evento. 
                        El sistema te mostrar√° un error. Si necesitas "eliminarla", debes:
                    </p>
                    <ol>
                        <li>Ir a cada evento donde est√° asociada</li>
                        <li>Editar el evento y quitar la instituci√≥n de la lista</li>
                        <li>Una vez que no est√© en ning√∫n evento, podr√°s eliminarla del cat√°logo</li>
                    </ol>
                    <p>
                        Alternativamente, puedes simplemente <strong>desactivar</strong> la instituci√≥n en el 
                        cat√°logo en lugar de eliminarla.
                    </p>
                </div>

                <!-- 5. SOLUCI√ìN DE PROBLEMAS -->
                <div class="content-section">
                    <h3><i class="bi bi-tools me-2"></i>Soluci√≥n de Problemas</h3>
                    
                    <h4>No puedo guardar un evento</h4>
                    
                    <p><strong>S√≠ntoma:</strong> Al hacer clic en "Guardar Evento", no pasa nada o aparece un error.</p>
                    
                    <p><strong>Posibles causas y soluciones:</strong></p>
                    
                    <ol>
                        <li><strong>Campos obligatorios vac√≠os:</strong>
                            <ul>
                                <li>Verifica que hayas completado: nombre, fechas, tipo de participantes y estado</li>
                                <li>Los campos obligatorios tienen un asterisco (*) rojo</li>
                            </ul>
                        </li>
                        
                        <li><strong>Fechas inv√°lidas:</strong>
                            <ul>
                                <li>La fecha de fin debe ser igual o posterior a la fecha de inicio</li>
                                <li>Ambas fechas deben estar en formato v√°lido</li>
                            </ul>
                        </li>
                        
                        <li><strong>Enlace de encuesta incorrecto:</strong>
                            <ul>
                                <li>Si llenaste el campo de encuesta, debe ser una URL v√°lida (https://...)</li>
                                <li>Si no tienes encuesta, deja el campo vac√≠o</li>
                            </ul>
                        </li>
                        
                        <li><strong>Problema de conexi√≥n:</strong>
                            <ul>
                                <li>Verifica tu conexi√≥n a internet</li>
                                <li>Intenta guardar nuevamente</li>
                            </ul>
                        </li>
                    </ol>
                    
                    <h4>No aparecen instituciones en el men√∫ para asociar</h4>
                    
                    <p><strong>S√≠ntoma:</strong> El men√∫ desplegable de instituciones est√° vac√≠o o solo dice 
                    "Seleccionar instituci√≥n..."</p>
                    
                    <p><strong>Causas y soluciones:</strong></p>
                    
                    <ol>
                        <li><strong>No hay instituciones activas en el cat√°logo:</strong>
                            <ul>
                                <li>Ve a "Cat√°logo de Instituciones"</li>
                                <li>Verifica que existan instituciones con estado "Activa"</li>
                                <li>Crea nuevas instituciones si es necesario</li>
                            </ul>
                        </li>
                        
                        <li><strong>Todas las instituciones est√°n inactivas:</strong>
                            <ul>
                                <li>Edita las instituciones necesarias en el cat√°logo</li>
                                <li>Marca la casilla "Instituci√≥n activa"</li>
                                <li>Regresa a crear/editar el evento</li>
                            </ul>
                        </li>
                        
                        <li><strong>Problema al cargar datos:</strong>
                            <ul>
                                <li>Recarga la p√°gina (F5)</li>
                                <li>Cierra y abre el modal del evento nuevamente</li>
                            </ul>
                        </li>
                    </ol>
                    
                    <h4>No puedo eliminar un evento</h4>
                    
                    <p><strong>S√≠ntoma:</strong> Al intentar eliminar un evento, aparece un error.</p>
                    
                    <p><strong>Posibles causas:</strong></p>
                    
                    <ul>
                        <li>No tienes los permisos necesarios (modo solo lectura)</li>
                        <li>Hay un problema de conexi√≥n</li>
                        <li>El evento tiene dependencias en otras tablas que impiden su eliminaci√≥n</li>
                    </ul>
                    
                    <p><strong>Soluciones:</strong></p>
                    
                    <ol>
                        <li>Verifica que tienes permiso de "Gestionar eventos" (no solo "Ver eventos")</li>
                        <li>Intenta nuevamente despu√©s de verificar tu conexi√≥n</li>
                        <li>Como alternativa, cambia el estado a "Cancelado" en lugar de eliminar</li>
                    </ol>
                    
                    <h4>Los filtros no funcionan</h4>
                    
                    <p><strong>S√≠ntoma:</strong> Al seleccionar filtros o buscar, no se filtran los eventos.</p>
                    
                    <p><strong>Soluciones:</strong></p>
                    
                    <ol>
                        <li><strong>Limpia los filtros:</strong>
                            <ul>
                                <li>Haz clic en el bot√≥n "Limpiar"</li>
                                <li>Borra el texto del cuadro de b√∫squeda</li>
                                <li>Intenta filtrar nuevamente</li>
                            </ul>
                        </li>
                        
                        <li><strong>Recarga la p√°gina:</strong>
                            <ul>
                                <li>Presiona F5 o Ctrl+R</li>
                                <li>Espera a que carguen todos los eventos</li>
                                <li>Intenta filtrar nuevamente</li>
                            </ul>
                        </li>
                        
                        <li><strong>Verifica que haya eventos:</strong>
                            <ul>
                                <li>Si no hay eventos en el sistema, los filtros no tendr√°n efecto</li>
                                <li>Crea al menos un evento para probar los filtros</li>
                            </ul>
                        </li>
                    </ol>
                    
                    <h4>No veo el bot√≥n "Nuevo Evento"</h4>
                    
                    <p><strong>S√≠ntoma:</strong> No aparece el bot√≥n para crear eventos.</p>
                    
                    <p><strong>Causa:</strong> Est√°s en modo solo lectura (permiso "Ver eventos" en lugar de 
                    "Gestionar eventos").</p>
                    
                    <p><strong>Soluci√≥n:</strong> Contacta a un administrador para que te otorgue el permiso 
                    "Gestionar eventos" si necesitas crear y editar eventos.</p>
                    
                    <h4>La p√°gina est√° en blanco o no carga</h4>
                    
                    <p><strong>Soluciones r√°pidas:</strong></p>
                    
                    <ol>
                        <li>Recarga la p√°gina (F5 o Ctrl+R)</li>
                        <li>Limpia la cach√© de tu navegador</li>
                        <li>Verifica tu conexi√≥n a internet</li>
                        <li>Intenta acceder desde otro navegador</li>
                        <li>Si el problema persiste, reporta el error usando el bot√≥n de abajo</li>
                    </ol>
                </div>

                <!-- TARJETA PARA REPORTAR BUGS -->
                <div class="bug-report-card">
                    <i class="bi bi-bug-fill icon-large"></i>
                    <h4 class="mb-3">¬øEncontraste un problema o tienes una sugerencia?</h4>
                    <p class="mb-4">
                        Si experimentaste un error, algo no funciona como esperas, o tienes 
                        una sugerencia para mejorar la gesti√≥n de eventos, rep√≥rtalo aqu√≠.
                    </p>
                    <a href="../report-bug.html" class="btn btn-light btn-lg">
                        <i class="bi bi-exclamation-triangle me-2"></i>Reportar Bug o Problema
                    </a>
                </div>

            </div>
        </div>

    </div>

    <!-- BOT√ìN FLOTANTE PARA REPORTAR BUGS -->
    <a href="../report-bug.html" class="btn btn-danger btn-lg floating-bug-button" title="Reportar Bug">
        <i class="bi bi-bug-fill me-2"></i>Reportar Bug
    </a>

    <!-- SCRIPTS - ORDEN CR√çTICO -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/js/config.js"></script>
    
    <script>
        // ==========================================
        // VARIABLES GLOBALES
        // ==========================================
        let currentUser = null;

        // ==========================================
        // CONFIGURACI√ìN DE LA P√ÅGINA
        // ==========================================
        const PAGE_CONFIG = {
            moduleName: 'Eventos',
            modulePath: 'events',
            pageTitle: 'Gestionar Eventos',
            pagePath: 'events-manage.html',
            moduleDescription: 'Gestionar Eventos'
        };

        // ==========================================
        // INICIALIZACI√ìN
        // ==========================================
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üìñ Iniciando p√°gina de manual...');
            
            try {
                // Verificar si existe la funci√≥n de colores corporativos
                if (typeof loadAndApplyBrandColors === 'function') {
                    await loadAndApplyBrandColors();
                }
                
                // Verificar sesi√≥n si la funci√≥n existe
                if (typeof getStoredSession === 'function') {
                    const session = getStoredSession();
                    if (session && session.user) {
                        currentUser = session.user;
                    }
                }
                
                // Actualizar informaci√≥n en la p√°gina
                updatePageInfo();
                
                console.log('‚úÖ P√°gina de manual lista');
                
            } catch (error) {
                console.error('‚ùå Error inicializando p√°gina:', error);
                if (typeof showMessage === 'function') {
                    showMessage('Error al cargar la p√°gina: ' + error.message, 'danger');
                }
            }
        });

        // ==========================================
        // ACTUALIZAR INFORMACI√ìN DE LA P√ÅGINA
        // ==========================================
        function updatePageInfo() {
            // Actualizar title
            document.title = `Manual - ${PAGE_CONFIG.moduleName} - ${PAGE_CONFIG.pageTitle} - SchoolNet`;
        }

        // ==========================================
        // UTILIDADES DE LOADING
        // ==========================================
        function showLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.remove('hidden');
            }
        }

        function hideLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.add('hidden');
            }
        }

        // ==========================================
        // FUNCI√ìN DE MENSAJES
        // ==========================================
        function showMessage(message, type) {
            const alertContainer = document.getElementById('alertContainer');
            if (!alertContainer) return;
            
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} alert-dismissible fade show`;
            alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            alertContainer.appendChild(alertDiv);
            
            // Auto-remove despu√©s de 5 segundos
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 5000);
        }

    </script>
</body>
</html>
