<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- VERSI√ìN DE LA P√ÅGINA -->
    <meta name="page-version" content="26.02.04.06.30">
    
    <title>Manual - Eventos - Configuraci√≥n de Eventos - SchoolNet</title>
    
    <!-- Bootstrap CSS - VERSI√ìN FIJA PROBADA -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <style>
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .loading-overlay.hidden {
            display: none;
        }
        
        .loading-content {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #007bff;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Encabezado discreto */
        .manual-header {
            background: #f8f9fa;
            border-bottom: 2px solid var(--system-primary-color, #1B365D);
            padding: 1.5rem 0;
            margin-bottom: 2rem;
        }

        .manual-header h1 {
            font-size: 1.75rem;
            color: var(--system-primary-color, #1B365D);
            margin-bottom: 0.25rem;
        }

        .manual-header .subtitle {
            color: #6c757d;
            font-size: 0.95rem;
        }

        /* Info card */
        .info-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        
        /* Secci√≥n de contenido */
        .content-section {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 2rem;
            margin-bottom: 2rem;
        }
        
        .content-section h3 {
            color: var(--system-primary-color, #1B365D);
            border-bottom: 2px solid var(--system-primary-color, #1B365D);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }
        
        .content-section h4 {
            color: var(--system-primary-color, #1B365D);
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }
        
        /* Cajas de informaci√≥n */
        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #0d6efd;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }
        
        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }
        
        .success-box {
            background: #d1e7dd;
            border-left: 4px solid #198754;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }
        
        .danger-box {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }
        
        /* Pasos numerados */
        .step-list {
            counter-reset: step-counter;
            list-style: none;
            padding-left: 0;
        }
        
        .step-list li {
            counter-increment: step-counter;
            margin-bottom: 1.5rem;
            position: relative;
            padding-left: 3rem;
        }
        
        .step-list li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: var(--system-primary-color, #1B365D);
            color: white;
            width: 2rem;
            height: 2rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        /* Tarjeta para reportar bugs - USANDO COLOR PRIMARIO */
        .bug-report-card {
            background: var(--system-primary-color, #1B365D);
            color: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .bug-report-card h5 {
            color: white;
        }

        /* Bot√≥n flotante para reportar bugs - USANDO COLOR PRIMARIO */
        .floating-bug-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            background: var(--system-primary-color, #dc3545) !important;
            border-color: var(--system-primary-color, #dc3545) !important;
        }

        .floating-bug-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.4);
            opacity: 0.9;
        }

        .icon-large {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        /* Tabla de ejemplos */
        .example-table {
            width: 100%;
            margin: 1rem 0;
        }
        
        .example-table th {
            background: var(--system-primary-color, #1B365D);
            color: white;
            padding: 0.75rem;
        }
        
        .example-table td {
            padding: 0.75rem;
            border: 1px solid #dee2e6;
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <p class="mb-0">Cargando...</p>
        </div>
    </div>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="container-fluid">

        <!-- ENCABEZADO DISCRETO -->
        <div class="manual-header">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h1>
                            <i class="bi bi-book me-2"></i>
                            Manual: Eventos
                        </h1>
                        <p class="subtitle mb-0">Configuraci√≥n de Eventos</p>
                    </div>
                    <div class="col-md-4 text-md-end mt-3 mt-md-0">
                        <a href="../../modules/events/events-settings.html" class="btn btn-outline-primary">
                            <i class="bi bi-arrow-left me-1"></i>Volver al M√≥dulo
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONTENEDOR DE ALERTAS -->
        <div id="alertContainer"></div>

        <div class="row">
            <div class="col-lg-10 mx-auto">

                <!-- INFORMACI√ìN CONTEXTUAL -->
                <div class="info-card">
                    <div class="row align-items-center">
                        <div class="col-md-6">
                            <h6 class="text-muted mb-2">Manual de:</h6>
                            <h5 class="mb-1"><strong id="display-module">Eventos</strong></h5>
                            <p class="text-muted mb-0 small" id="display-page">Configuraci√≥n de Eventos</p>
                        </div>
                        <div class="col-md-6 text-md-end mt-3 mt-md-0">
                            <p class="small text-muted mb-0">
                                <i class="bi bi-info-circle me-1"></i>
                                Si tienes dudas o encuentras alg√∫n problema,<br>
                                puedes reportarlo usando el bot√≥n de abajo.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- ========================================== -->
                <!-- CONTENIDO DEL MANUAL -->
                <!-- ========================================== -->

                <!-- 1. ¬øQU√â ES? -->
                <div class="content-section">
                    <h3><i class="bi bi-gear me-2"></i>¬øQu√© es Configuraci√≥n de Eventos?</h3>
                    
                    <p>
                        <strong>Configuraci√≥n de Eventos</strong> es el centro de control donde puedes personalizar 
                        el comportamiento del m√≥dulo de eventos seg√∫n las necesidades de tu instituci√≥n. Desde aqu√≠ 
                        ajustas c√≥mo funcionan las inscripciones, qu√© notificaciones se env√≠an, c√≥mo se generan los 
                        c√≥digos QR y mucho m√°s.
                    </p>
                    
                    <div class="info-box">
                        <strong><i class="bi bi-lightbulb me-2"></i>¬øPor qu√© es importante?</strong>
                        <p class="mb-0 mt-2">
                            Una buena configuraci√≥n inicial te ahorra tiempo y esfuerzo en cada evento que organices. 
                            Define una vez c√≥mo quieres que funcionen las cosas, y el sistema aplicar√° esas 
                            preferencias autom√°ticamente.
                        </p>
                    </div>
                    
                    <p>
                        La p√°gina est√° organizada en <strong>6 pesta√±as</strong>, cada una dedicada a un aspecto 
                        espec√≠fico del m√≥dulo: General, Notificaciones, Formularios, C√≥digos QR, Reportes y Avanzado.
                    </p>
                </div>

                <!-- 2. ¬øPARA QU√â SIRVE? -->
                <div class="content-section">
                    <h3><i class="bi bi-star me-2"></i>¬øPara qu√© sirve?</h3>
                    
                    <p>Esta p√°gina te permite:</p>
                    
                    <ul class="mb-3">
                        <li><strong>Personalizar notificaciones:</strong> Decide qu√© emails se env√≠an autom√°ticamente 
                            y cu√°ndo (confirmaciones, recordatorios, etc.)</li>
                        
                        <li><strong>Configurar formularios:</strong> Define qu√© campos aparecen en los formularios 
                            de inscripci√≥n y cu√°les son obligatorios.</li>
                        
                        <li><strong>Ajustar c√≥digos QR:</strong> Controla el tama√±o, seguridad y formato de los 
                            c√≥digos QR para asistencia.</li>
                        
                        <li><strong>Definir reportes:</strong> Establece formatos de exportaci√≥n y estilos de 
                            gr√°ficos por defecto.</li>
                        
                        <li><strong>Configurar integraciones:</strong> Conecta con Google Calendar, webhooks y 
                            otros sistemas externos.</li>
                        
                        <li><strong>Mantener el sistema:</strong> Limpia cach√©, exporta configuraciones y restaura 
                            valores por defecto cuando sea necesario.</li>
                    </ul>
                    
                    <div class="success-box">
                        <strong><i class="bi bi-check-circle me-2"></i>Ventaja clave:</strong>
                        <p class="mb-0 mt-2">
                            Configurar correctamente el m√≥dulo desde el inicio garantiza consistencia en todos tus 
                            eventos y reduce el trabajo manual repetitivo.
                        </p>
                    </div>
                </div>

                <!-- 3. ¬øC√ìMO SE USA? -->
                <div class="content-section">
                    <h3><i class="bi bi-wrench me-2"></i>¬øC√≥mo se usa?</h3>
                    
                    <div class="info-box">
                        <strong><i class="bi bi-info-circle me-2"></i>Navegaci√≥n por pesta√±as:</strong>
                        <p class="mb-0 mt-2">
                            En el lado izquierdo de la pantalla ver√°s un men√∫ con 6 opciones. Haz clic en cada 
                            pesta√±a para acceder a sus configuraciones espec√≠ficas. Los cambios en una pesta√±a 
                            no afectan a las otras.
                        </p>
                    </div>
                    
                    <h4>1. Configuraci√≥n General</h4>
                    
                    <p>
                        En esta pesta√±a defines las opciones b√°sicas que afectan a todo el m√≥dulo:
                    </p>
                    
                    <p><strong>Informaci√≥n del m√≥dulo:</strong></p>
                    <ul>
                        <li><strong>Nombre del M√≥dulo:</strong> C√≥mo aparece en el men√∫ principal de SchoolNet</li>
                        <li><strong>Descripci√≥n:</strong> Texto que se muestra en el dashboard</li>
                    </ul>
                    
                    <p><strong>Opciones de visualizaci√≥n:</strong></p>
                    <ul>
                        <li><strong>Mostrar eventos pasados por defecto:</strong> Si est√° marcado, al entrar a la 
                            lista de eventos se mostrar√°n tambi√©n los eventos finalizados</li>
                        <li><strong>Mostrar logos de instituciones:</strong> Activa la visualizaci√≥n de logos en 
                            tarjetas de eventos y formularios</li>
                        <li><strong>Calendario p√∫blico de eventos:</strong> Permite que usuarios no autenticados 
                            vean un calendario con los eventos activos</li>
                    </ul>
                    
                    <p><strong>L√≠mites y restricciones:</strong></p>
                    <ul>
                        <li><strong>Capacidad m√°xima por defecto:</strong> Cuando crees grupos en un evento, este 
                            ser√° el l√≠mite sugerido autom√°ticamente</li>
                        <li><strong>D√≠as m√°ximos de anticipaci√≥n:</strong> Qu√© tan lejos en el futuro se pueden 
                            crear eventos (por defecto 365 d√≠as = 1 a√±o)</li>
                    </ul>
                    
                    <div class="warning-box">
                        <strong><i class="bi bi-exclamation-triangle me-2"></i>Importante:</strong>
                        <p class="mb-0 mt-2">
                            Despu√©s de hacer cambios en cualquier secci√≥n, haz clic en "Guardar Cambios" al final 
                            de la pesta√±a. Si cambias de pesta√±a sin guardar, perder√°s tus modificaciones.
                        </p>
                    </div>
                    
                    <h4>2. Configuraci√≥n de Notificaciones</h4>
                    
                    <p>
                        Esta pesta√±a controla todos los emails autom√°ticos que env√≠a el sistema:
                    </p>
                    
                    <p><strong>Notificaciones de inscripci√≥n:</strong></p>
                    <ul>
                        <li><strong>Enviar confirmaci√≥n por email:</strong> Cuando alguien se inscribe, recibe 
                            autom√°ticamente un email con los detalles del evento</li>
                        <li><strong>Notificar a administradores:</strong> Los coordinadores reciben una alerta 
                            cada vez que hay una nueva inscripci√≥n</li>
                    </ul>
                    
                    <p><strong>Recordatorios:</strong></p>
                    <ul>
                        <li><strong>Enviar recordatorios autom√°ticos:</strong> Activa el env√≠o de emails recordatorio 
                            antes de que inicie el evento</li>
                        <li><strong>D√≠as antes del evento:</strong> Cu√°ndo se env√≠a el recordatorio (1, 2, 3 d√≠as o 
                            1 semana antes)</li>
                        <li><strong>Hora de env√≠o:</strong> A qu√© hora del d√≠a se env√≠an los recordatorios 
                            (recomendado: ma√±ana temprano)</li>
                    </ul>
                    
                    <p><strong>Plantillas de email:</strong></p>
                    
                    <p>Puedes personalizar el contenido de los emails que se env√≠an autom√°ticamente:</p>
                    
                    <ol class="step-list">
                        <li>
                            <strong>Edita el asunto del email</strong><br>
                            Puedes usar variables como {EVENTO} que se reemplazar√°n autom√°ticamente con los 
                            datos reales.
                        </li>
                        
                        <li>
                            <strong>Personaliza el mensaje</strong><br>
                            Escribe el contenido del email usando las variables disponibles:
                            <ul class="mt-2">
                                <li>{NOMBRE} - Nombre del participante</li>
                                <li>{EVENTO} - Nombre del evento</li>
                                <li>{FECHA} - Fecha del evento</li>
                                <li>{HORA} - Hora del evento</li>
                                <li>{LUGAR} - Ubicaci√≥n del evento</li>
                                <li>{DOCUMENTO} - N√∫mero de documento del participante</li>
                            </ul>
                        </li>
                        
                        <li>
                            <strong>Prueba el email</strong><br>
                            Usa el bot√≥n "Enviar Email de Prueba" para verificar c√≥mo se ve el mensaje antes 
                            de activarlo.
                        </li>
                        
                        <li>
                            <strong>Guarda los cambios</strong><br>
                            No olvides guardar para que las plantillas se apliquen.
                        </li>
                    </ol>
                    
                    <div class="info-box">
                        <strong><i class="bi bi-envelope me-2"></i>Ejemplo de plantilla personalizada:</strong>
                        <div class="mt-2" style="background: #f8f9fa; padding: 1rem; border-radius: 4px; font-family: monospace; font-size: 0.9rem;">
Hola {NOMBRE},<br>
<br>
¬°Nos alegra que te hayas inscrito a "{EVENTO}"!<br>
<br>
üìÖ Fecha: {FECHA}<br>
üïê Hora: {HORA}<br>
üìç Lugar: {LUGAR}<br>
<br>
Tu documento de identificaci√≥n registrado es: {DOCUMENTO}<br>
<br>
Te esperamos. ¬°Ser√° un evento incre√≠ble!<br>
<br>
Saludos,<br>
El equipo organizador
                        </div>
                    </div>
                    
                    <h4>3. Configuraci√≥n de Formularios</h4>
                    
                    <p>
                        Define qu√© informaci√≥n solicitas a los participantes cuando se inscriben:
                    </p>
                    
                    <p><strong>Campos obligatorios (no se pueden desactivar):</strong></p>
                    <ul>
                        <li>Documento de identidad</li>
                        <li>Nombre completo</li>
                        <li>Email</li>
                    </ul>
                    
                    <p><strong>Campos opcionales (puedes activar/desactivar):</strong></p>
                    <ul>
                        <li><strong>Instituci√≥n:</strong> De qu√© instituci√≥n proviene el participante</li>
                        <li><strong>Cargo:</strong> Posici√≥n o rol en la instituci√≥n</li>
                        <li><strong>Medio de llegada:</strong> C√≥mo llegar√° al evento (carro, transporte p√∫blico, etc.)</li>
                        <li><strong>Restricciones alimentarias:</strong> Alergias o preferencias diet√©ticas</li>
                    </ul>
                    
                    <div class="info-box">
                        <strong><i class="bi bi-lightbulb me-2"></i>¬øQu√© campos activar?</strong>
                        <p class="mb-0 mt-2">
                            Activa solo los campos que realmente necesites. Formularios m√°s cortos tienen 
                            mejor tasa de finalizaci√≥n. Por ejemplo, si no sirves comida en el evento, no 
                            actives "Restricciones alimentarias".
                        </p>
                    </div>
                    
                    <p><strong>Validaciones:</strong></p>
                    <ul>
                        <li><strong>Prevenir inscripciones duplicadas:</strong> No permite que el mismo documento 
                            se inscriba dos veces al mismo evento</li>
                        <li><strong>Usar reCAPTCHA:</strong> Protege los formularios p√∫blicos contra bots y spam</li>
                        <li><strong>Requerir t√©rminos y condiciones:</strong> El participante debe aceptar t√©rminos 
                            antes de inscribirse</li>
                    </ul>
                    
                    <p><strong>Mensajes personalizados:</strong></p>
                    <ul>
                        <li><strong>Mensaje de bienvenida:</strong> Se muestra al inicio del formulario de inscripci√≥n</li>
                        <li><strong>Mensaje de √©xito:</strong> Se muestra despu√©s de completar la inscripci√≥n exitosamente</li>
                    </ul>
                    
                    <h4>4. Configuraci√≥n de C√≥digos QR</h4>
                    
                    <p>
                        Los c√≥digos QR permiten registrar asistencias de forma r√°pida escaneando con el celular:
                    </p>
                    
                    <p><strong>Opciones de generaci√≥n:</strong></p>
                    <ul>
                        <li><strong>Tama√±o del QR:</strong> Entre 200x200 y 400x400 p√≠xeles. Recomendado: 250x250 
                            para impresi√≥n en papel tama√±o carta</li>
                        <li><strong>Nivel de correcci√≥n de errores:</strong> Qu√© tanto puede estar da√±ado el QR y 
                            a√∫n funcionar:
                            <ul>
                                <li><strong>Bajo (7%):</strong> QR m√°s peque√±o pero menos resistente</li>
                                <li><strong>Medio (15%):</strong> Balance recomendado</li>
                                <li><strong>Alto (25%):</strong> M√°s resistente a da√±os</li>
                                <li><strong>Muy Alto (30%):</strong> M√°xima resistencia</li>
                            </ul>
                        </li>
                    </ul>
                    
                    <p><strong>Configuraci√≥n de seguridad:</strong></p>
                    <ul>
                        <li><strong>Usar tokens de seguridad:</strong> Cada QR incluye un c√≥digo √∫nico que expira, 
                            evitando fraudes</li>
                        <li><strong>Expirar QR despu√©s del evento:</strong> Los QR dejan de funcionar autom√°ticamente 
                            cuando termina el evento</li>
                        <li><strong>Limitar a un uso por d√≠a:</strong> Evita que una persona registre asistencia 
                            m√∫ltiples veces el mismo d√≠a</li>
                    </ul>
                    
                    <p><strong>Plantilla de impresi√≥n:</strong></p>
                    <ul>
                        <li><strong>Incluir logo institucional:</strong> Agrega el logo de la instituci√≥n en la 
                            hoja impresa con el QR</li>
                        <li><strong>Incluir instrucciones:</strong> Muestra pasos de c√≥mo escanear el QR en la 
                            hoja impresa</li>
                    </ul>
                    
                    <div class="success-box">
                        <strong><i class="bi bi-qr-code me-2"></i>Recomendaci√≥n para eventos presenciales:</strong>
                        <p class="mb-0 mt-2">
                            Usa tama√±o 250x250 o 300x300, nivel de correcci√≥n Medio o Alto, activa tokens de 
                            seguridad y limita a un uso por d√≠a. Esto garantiza rapidez y seguridad en el registro.
                        </p>
                    </div>
                    
                    <h4>5. Configuraci√≥n de Reportes</h4>
                    
                    <p>
                        Controla c√≥mo se generan y exportan los reportes del m√≥dulo:
                    </p>
                    
                    <p><strong>Exportaci√≥n de datos:</strong></p>
                    <ul>
                        <li><strong>Formato por defecto:</strong> Excel (.xlsx), CSV o PDF. Recomendado: Excel 
                            porque es m√°s f√°cil de analizar</li>
                        <li><strong>Incluir fecha y hora:</strong> Agrega timestamp al nombre del archivo exportado 
                            (Ej: reporte_2026-02-04_15-30.xlsx)</li>
                    </ul>
                    
                    <p><strong>Gr√°ficos y visualizaciones:</strong></p>
                    <ul>
                        <li><strong>Tema de colores:</strong> Define qu√© paleta de colores usan los gr√°ficos 
                            estad√≠sticos:
                            <ul>
                                <li><strong>Colores corporativos:</strong> Usa los colores de tu instituci√≥n</li>
                                <li><strong>Profesional:</strong> Tonos azules conservadores</li>
                                <li><strong>Vibrante:</strong> Colores vivos y llamativos</li>
                                <li><strong>Pastel:</strong> Tonos suaves y discretos</li>
                            </ul>
                        </li>
                        <li><strong>Habilitar animaciones:</strong> Los gr√°ficos se animan al cargar (puede ralentizar 
                            en computadores lentos)</li>
                    </ul>
                    
                    <p><strong>Reportes autom√°ticos:</strong></p>
                    <ul>
                        <li><strong>Generar al finalizar eventos:</strong> Cuando un evento cambia a estado "Finalizado", 
                            se genera autom√°ticamente un reporte completo</li>
                        <li><strong>Enviar por email:</strong> Los reportes autom√°ticos se env√≠an al email de los 
                            administradores</li>
                    </ul>
                    
                    <h4>6. Configuraci√≥n Avanzada</h4>
                    
                    <div class="danger-box">
                        <strong><i class="bi bi-exclamation-octagon me-2"></i>¬°ADVERTENCIA!</strong>
                        <p class="mb-0 mt-2">
                            Esta secci√≥n es para usuarios con conocimientos t√©cnicos. Modificar estas configuraciones 
                            incorrectamente puede afectar el funcionamiento del m√≥dulo. Si no est√°s seguro, 
                            <strong>no hagas cambios</strong> o consulta con tu administrador de sistemas.
                        </p>
                    </div>
                    
                    <p><strong>Integraciones:</strong></p>
                    <ul>
                        <li><strong>Sincronizar con Google Calendar:</strong> Los eventos creados en SchoolNet 
                            aparecen autom√°ticamente en un calendario de Google (requiere configuraci√≥n adicional)</li>
                        <li><strong>Habilitar webhooks:</strong> Permite que sistemas externos reciban notificaciones 
                            cuando ocurren eventos en SchoolNet (para integraciones personalizadas)</li>
                    </ul>
                    
                    <p><strong>Base de datos:</strong></p>
                    <ul>
                        <li><strong>Habilitar cach√©:</strong> Guarda temporalmente resultados de consultas frecuentes 
                            para acelerar el sistema</li>
                        <li><strong>Modo de depuraci√≥n:</strong> Genera logs detallados para diagnosticar problemas 
                            (puede generar archivos grandes)</li>
                    </ul>
                    
                    <p><strong>Mantenimiento:</strong></p>
                    <ul>
                        <li><strong>Limpiar cach√© del m√≥dulo:</strong> Elimina datos temporales guardados. √ötil si 
                            hay problemas de visualizaci√≥n</li>
                        <li><strong>Restaurar configuraci√≥n por defecto:</strong> Vuelve TODAS las configuraciones 
                            a sus valores iniciales. No se puede deshacer.</li>
                        <li><strong>Exportar configuraci√≥n:</strong> Guarda todas tus configuraciones en un archivo 
                            JSON que puedes respaldar</li>
                    </ul>
                    
                    <p><strong>Informaci√≥n del sistema:</strong></p>
                    <p>
                        Esta secci√≥n muestra datos estad√≠sticos del m√≥dulo:
                    </p>
                    <ul>
                        <li>Versi√≥n actual del m√≥dulo</li>
                        <li>√öltima actualizaci√≥n</li>
                        <li>Tipo de base de datos</li>
                        <li>Total de eventos creados</li>
                        <li>Total de inscripciones registradas</li>
                    </ul>
                </div>

                <!-- 4. PREGUNTAS FRECUENTES -->
                <div class="content-section">
                    <h3><i class="bi bi-question-circle me-2"></i>Preguntas Frecuentes</h3>
                    
                    <h4>¬øLos cambios en configuraci√≥n afectan eventos ya creados?</h4>
                    <p>
                        <strong>Depende del tipo de configuraci√≥n:</strong>
                    </p>
                    <ul>
                        <li><strong>Notificaciones y plantillas de email:</strong> S√≠, se aplicar√°n a todos los 
                            eventos, incluidos los existentes</li>
                        <li><strong>Formularios:</strong> Solo afectan a nuevas inscripciones, no a las ya existentes</li>
                        <li><strong>C√≥digos QR:</strong> Los QR ya generados mantienen su configuraci√≥n original</li>
                        <li><strong>Reportes:</strong> Se aplican cuando generes nuevos reportes</li>
                    </ul>
                    
                    <h4>¬øPuedo tener diferentes plantillas de email para diferentes eventos?</h4>
                    <p>
                        Actualmente <strong>no</strong>. La plantilla configurada aqu√≠ se usa para todos los eventos. 
                        Sin embargo, las variables como {EVENTO}, {FECHA}, etc. se reemplazan autom√°ticamente con 
                        los datos espec√≠ficos de cada evento.
                    </p>
                    
                    <h4>¬øQu√© pasa si desactivo reCAPTCHA?</h4>
                    <p>
                        Los formularios p√∫blicos quedar√°n <strong>vulnerables a spam y bots</strong>. Podr√≠as recibir 
                        inscripciones falsas masivas. Solo desactiva reCAPTCHA si:
                    </p>
                    <ul>
                        <li>Tus eventos son exclusivamente internos (no tienen formularios p√∫blicos)</li>
                        <li>Tienes otro m√©todo de validaci√≥n implementado</li>
                        <li>Est√°s haciendo pruebas en un ambiente de desarrollo</li>
                    </ul>
                    
                    <h4>¬øCada cu√°nto se env√≠an los recordatorios?</h4>
                    <p>
                        Se env√≠a <strong>un solo recordatorio</strong> por evento seg√∫n la configuraci√≥n que hayas 
                        definido (1, 2, 3 d√≠as o 1 semana antes). No se env√≠an recordatorios m√∫ltiples a menos que 
                        configures un sistema externo adicional.
                    </p>
                    
                    <h4>¬øPuedo recuperar la configuraci√≥n si la restauro por accidente?</h4>
                    <p>
                        <strong>Solo si exportaste un respaldo antes.</strong> Por eso es importante:
                    </p>
                    <ol>
                        <li>Exportar tu configuraci√≥n actual antes de hacer cambios grandes</li>
                        <li>Guardar el archivo exportado en un lugar seguro</li>
                        <li>Si necesitas restaurar, importa ese archivo (funci√≥n futura)</li>
                    </ol>
                    
                    <h4>¬øQu√© tama√±o de QR debo usar para imprimir en carteleras?</h4>
                    <p>
                        Para <strong>carteleras o p√≥sters grandes</strong>, usa <strong>400x400 p√≠xeles</strong> 
                        con nivel de correcci√≥n Alto o Muy Alto. Para <strong>hojas tama√±o carta</strong>, usa 
                        250x250 o 300x300.
                    </p>
                    
                    <h4>¬øQu√© hace exactamente "Limpiar cach√©"?</h4>
                    <p>
                        Elimina los datos temporales que el sistema guarda para acelerar la carga. √ösalo cuando:
                    </p>
                    <ul>
                        <li>Los datos no se actualizan aunque hayas hecho cambios</li>
                        <li>Ves informaci√≥n desactualizada en reportes</li>
                        <li>El sistema se comporta de manera extra√±a</li>
                    </ul>
                    <p>
                        <strong>No afecta</strong> tus eventos, inscripciones o datos permanentes. Solo limpia 
                        copias temporales.
                    </p>
                    
                    <h4>¬øNecesito guardar cambios en cada pesta√±a?</h4>
                    <p>
                        <strong>S√≠.</strong> Cada pesta√±a tiene su propio bot√≥n "Guardar Cambios". Si modificas 
                        algo en "Notificaciones" y luego cambias a "Formularios" sin guardar, perder√°s los cambios 
                        en notificaciones. Es mejor guardar antes de cambiar de pesta√±a.
                    </p>
                </div>

                <!-- 5. SOLUCI√ìN DE PROBLEMAS -->
                <div class="content-section">
                    <h3><i class="bi bi-tools me-2"></i>Soluci√≥n de Problemas</h3>
                    
                    <h4>Los cambios no se guardan</h4>
                    
                    <p><strong>S√≠ntoma:</strong> Haces cambios en alguna configuraci√≥n, guardas, pero al volver 
                    a la p√°gina los cambios no se aplicaron.</p>
                    
                    <p><strong>Posibles causas y soluciones:</strong></p>
                    
                    <ol>
                        <li><strong>No hiciste clic en "Guardar Cambios":</strong>
                            <ul>
                                <li>Cada pesta√±a tiene su propio bot√≥n de guardar</li>
                                <li>Verifica que viste un mensaje de confirmaci√≥n</li>
                            </ul>
                        </li>
                        
                        <li><strong>Problema de permisos:</strong>
                            <ul>
                                <li>Necesitas el permiso "Configurar m√≥dulo de eventos"</li>
                                <li>Contacta a un administrador si no tienes este permiso</li>
                            </ul>
                        </li>
                        
                        <li><strong>Cach√© del navegador:</strong>
                            <ul>
                                <li>Recarga la p√°gina con Ctrl+F5 (Windows) o Cmd+Shift+R (Mac)</li>
                                <li>Limpia la cach√© del navegador</li>
                            </ul>
                        </li>
                    </ol>
                    
                    <h4>Los emails de confirmaci√≥n no se env√≠an</h4>
                    
                    <p><strong>S√≠ntoma:</strong> Los participantes se inscriben pero no reciben el email de confirmaci√≥n.</p>
                    
                    <p><strong>Verificaciones:</strong></p>
                    
                    <ol>
                        <li><strong>Revisa la configuraci√≥n de notificaciones:</strong>
                            <ul>
                                <li>Ve a la pesta√±a "Notificaciones"</li>
                                <li>Verifica que est√© marcado "Enviar confirmaci√≥n por email"</li>
                                <li>Guarda si hiciste cambios</li>
                            </ul>
                        </li>
                        
                        <li><strong>Prueba el sistema de emails:</strong>
                            <ul>
                                <li>Usa el bot√≥n "Enviar Email de Prueba"</li>
                                <li>Si no llega el email de prueba, hay un problema de configuraci√≥n del servidor</li>
                                <li>Contacta al administrador del sistema</li>
                            </ul>
                        </li>
                        
                        <li><strong>Revisa la carpeta de spam:</strong>
                            <ul>
                                <li>Los emails pueden estar llegando a spam</li>
                                <li>Pide a los usuarios que revisen su carpeta de correo no deseado</li>
                            </ul>
                        </li>
                    </ol>
                    
                    <h4>Los c√≥digos QR no funcionan al escanearlos</h4>
                    
                    <p><strong>S√≠ntoma:</strong> Los participantes escanean el QR pero no pasa nada o da error.</p>
                    
                    <p><strong>Soluciones:</strong></p>
                    
                    <ol>
                        <li><strong>Verifica que el QR no haya expirado:</strong>
                            <ul>
                                <li>Si activaste "Expirar QR despu√©s del evento", los QR de eventos pasados no funcionan</li>
                                <li>Genera nuevos QR si es necesario</li>
                            </ul>
                        </li>
                        
                        <li><strong>Revisa la calidad de impresi√≥n:</strong>
                            <ul>
                                <li>QR borrosos o arrugados pueden no escanear bien</li>
                                <li>Imprime en buena calidad</li>
                                <li>Usa nivel de correcci√≥n Alto si vas a imprimir</li>
                            </ul>
                        </li>
                        
                        <li><strong>Prueba con diferentes apps:</strong>
                            <ul>
                                <li>No todas las apps de QR funcionan igual</li>
                                <li>Recomienda usar la c√°mara nativa del celular</li>
                            </ul>
                        </li>
                    </ol>
                    
                    <h4>No puedo acceder a la pesta√±a "Avanzado"</h4>
                    
                    <p><strong>S√≠ntoma:</strong> La pesta√±a "Avanzado" no aparece o est√° deshabilitada.</p>
                    
                    <p><strong>Causa:</strong> Esta pesta√±a puede estar restringida solo para administradores del sistema.</p>
                    
                    <p><strong>Soluci√≥n:</strong> Contacta a un administrador si necesitas modificar configuraciones avanzadas.</p>
                    
                    <h4>Las variables en el email no se reemplazan</h4>
                    
                    <p><strong>S√≠ntoma:</strong> Los emails llegan con el texto literal "{NOMBRE}" en lugar del nombre real.</p>
                    
                    <p><strong>Causas y soluciones:</strong></p>
                    
                    <ol>
                        <li><strong>Error de escritura:</strong>
                            <ul>
                                <li>Las variables deben escribirse EXACTAMENTE como se indican</li>
                                <li>Deben estar en MAY√öSCULAS y entre llaves { }</li>
                                <li>Ejemplo correcto: {NOMBRE}</li>
                                <li>Ejemplo incorrecto: {nombre}, {Nombre}, (NOMBRE)</li>
                            </ul>
                        </li>
                        
                        <li><strong>Espacios extra:</strong>
                            <ul>
                                <li>No debe haber espacios dentro de las llaves</li>
                                <li>Incorrecto: { NOMBRE }</li>
                                <li>Correcto: {NOMBRE}</li>
                            </ul>
                        </li>
                    </ol>
                    
                    <h4>La p√°gina de configuraci√≥n carga muy lento</h4>
                    
                    <p><strong>Soluciones:</strong></p>
                    
                    <ol>
                        <li>Limpia el cach√© del m√≥dulo desde la pesta√±a "Avanzado"</li>
                        <li>Cierra pesta√±as del navegador que no est√©s usando</li>
                        <li>Verifica tu conexi√≥n a internet</li>
                        <li>Si el problema persiste, reporta el error</li>
                    </ol>
                </div>

                <!-- TARJETA PARA REPORTAR BUGS -->
                <div class="bug-report-card">
                    <i class="bi bi-bug-fill icon-large"></i>
                    <h4 class="mb-3">¬øEncontraste un problema o tienes una sugerencia?</h4>
                    <p class="mb-4">
                        Si experimentaste un error, algo no funciona como esperas, o tienes 
                        una sugerencia para mejorar la configuraci√≥n del m√≥dulo, rep√≥rtalo aqu√≠.
                    </p>
                    <a href="../report-bug.html" class="btn btn-light btn-lg">
                        <i class="bi bi-exclamation-triangle me-2"></i>Reportar Bug o Problema
                    </a>
                </div>

            </div>
        </div>

    </div>

    <!-- BOT√ìN FLOTANTE PARA REPORTAR BUGS -->
    <a href="../report-bug.html" class="btn btn-danger btn-lg floating-bug-button" title="Reportar Bug">
        <i class="bi bi-bug-fill me-2"></i>Reportar Bug
    </a>

    <!-- SCRIPTS - ORDEN CR√çTICO -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/js/config.js"></script>
    
    <script>
        // ==========================================
        // VARIABLES GLOBALES
        // ==========================================
        let currentUser = null;

        // ==========================================
        // CONFIGURACI√ìN DE LA P√ÅGINA
        // ==========================================
        const PAGE_CONFIG = {
            moduleName: 'Eventos',
            modulePath: 'events',
            pageTitle: 'Configuraci√≥n de Eventos',
            pagePath: 'events-settings.html',
            moduleDescription: 'Configuraci√≥n de Eventos'
        };

        // ==========================================
        // INICIALIZACI√ìN
        // ==========================================
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üìñ Iniciando p√°gina de manual...');
            
            try {
                // Verificar si existe la funci√≥n de colores corporativos
                if (typeof loadAndApplyBrandColors === 'function') {
                    await loadAndApplyBrandColors();
                }
                
                // Verificar sesi√≥n si la funci√≥n existe
                if (typeof getStoredSession === 'function') {
                    const session = getStoredSession();
                    if (session && session.user) {
                        currentUser = session.user;
                    }
                }
                
                // Actualizar informaci√≥n en la p√°gina
                updatePageInfo();
                
                console.log('‚úÖ P√°gina de manual lista');
                
            } catch (error) {
                console.error('‚ùå Error inicializando p√°gina:', error);
                if (typeof showMessage === 'function') {
                    showMessage('Error al cargar la p√°gina: ' + error.message, 'danger');
                }
            }
        });

        // ==========================================
        // ACTUALIZAR INFORMACI√ìN DE LA P√ÅGINA
        // ==========================================
        function updatePageInfo() {
            // Actualizar title
            document.title = `Manual - ${PAGE_CONFIG.moduleName} - ${PAGE_CONFIG.pageTitle} - SchoolNet`;
        }

        // ==========================================
        // UTILIDADES DE LOADING
        // ==========================================
        function showLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.remove('hidden');
            }
        }

        function hideLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.add('hidden');
            }
        }

        // ==========================================
        // FUNCI√ìN DE MENSAJES
        // ==========================================
        function showMessage(message, type) {
            const alertContainer = document.getElementById('alertContainer');
            if (!alertContainer) return;
            
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} alert-dismissible fade show`;
            alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            alertContainer.appendChild(alertDiv);
            
            // Auto-remove despu√©s de 5 segundos
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 5000);
        }

    </script>
</body>
</html>
