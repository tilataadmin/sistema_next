<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- VERSI√ìN DE LA P√ÅGINA -->
    <meta name="page-version" content="25.01.21.15.30">
    
    <title>Manual - Dashboard de Tareas - SchoolNet</title>
    
    <!-- Bootstrap CSS - VERSI√ìN FIJA PROBADA -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <style>
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .loading-overlay.hidden {
            display: none;
        }
        
        .loading-content {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #007bff;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Encabezado discreto */
        .manual-header {
            background: #f8f9fa;
            border-bottom: 2px solid var(--system-primary-color, #1B365D);
            padding: 1.5rem 0;
            margin-bottom: 2rem;
        }

        .manual-header h1 {
            font-size: 1.75rem;
            color: var(--system-primary-color, #1B365D);
            margin-bottom: 0.25rem;
        }

        .manual-header .subtitle {
            color: #6c757d;
            font-size: 0.95rem;
        }

        /* Info card */
        .info-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        /* Tarjeta para reportar bugs - USANDO COLOR PRIMARIO */
        .bug-report-card {
            background: var(--system-primary-color, #1B365D);
            color: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .bug-report-card h5,
        .bug-report-card h4 {
            color: white;
        }

        /* Bot√≥n flotante para reportar bugs - USANDO COLOR PRIMARIO */
        .floating-bug-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            background: var(--system-primary-color, #1B365D) !important;
            border-color: var(--system-primary-color, #1B365D) !important;
        }

        .floating-bug-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.4);
            opacity: 0.9;
        }

        .icon-large {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        /* Estilos para secciones del manual */
        .section-title {
            color: var(--system-primary-color, #1B365D);
            font-size: 1.35rem;
            font-weight: 600;
            margin-top: 2rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #e9ecef;
        }

        .step-card {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1.25rem;
            margin-bottom: 1rem;
        }

        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            background: var(--system-primary-color, #1B365D);
            color: white;
            border-radius: 50%;
            font-weight: 600;
            font-size: 0.9rem;
            margin-right: 0.75rem;
        }

        .tip-box {
            background: #e7f3ff;
            border-left: 4px solid #0d6efd;
            padding: 1rem;
            border-radius: 0 8px 8px 0;
            margin: 1rem 0;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 1rem;
            border-radius: 0 8px 8px 0;
            margin: 1rem 0;
        }

        .info-box {
            background: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 1rem;
            border-radius: 0 8px 8px 0;
            margin: 1rem 0;
        }

        .feature-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 0.75rem;
        }

        .feature-icon {
            color: var(--system-primary-color, #1B365D);
            margin-right: 0.75rem;
            font-size: 1.1rem;
        }

        .metric-example {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 0.75rem;
        }

        .metric-example-title {
            font-weight: 600;
            color: var(--system-primary-color, #1B365D);
            margin-bottom: 0.25rem;
        }

        .badge-example {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-right: 0.5rem;
        }

        .faq-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 0.75rem;
        }

        .faq-question {
            font-weight: 600;
            color: var(--system-primary-color, #1B365D);
            margin-bottom: 0.5rem;
        }

        .table-of-contents {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .table-of-contents h5 {
            color: var(--system-primary-color, #1B365D);
            margin-bottom: 1rem;
        }

        .table-of-contents ul {
            list-style: none;
            padding-left: 0;
            margin-bottom: 0;
        }

        .table-of-contents li {
            padding: 0.35rem 0;
        }

        .table-of-contents a {
            color: #495057;
            text-decoration: none;
        }

        .table-of-contents a:hover {
            color: var(--system-primary-color, #1B365D);
            text-decoration: underline;
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <p class="mb-0">Cargando...</p>
        </div>
    </div>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="container-fluid">

        <!-- ENCABEZADO DISCRETO -->
        <div class="manual-header">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h1>
                            <i class="bi bi-book me-2"></i>
                            Manual: Dashboard de Tareas
                        </h1>
                        <p class="subtitle mb-0">Panel de control y an√°lisis de gesti√≥n de tareas</p>
                    </div>
                    <div class="col-md-4 text-md-end mt-3 mt-md-0">
                        <a href="../../modules/general-tools/dashboard.html" class="btn btn-outline-primary">
                            <i class="bi bi-arrow-left me-1"></i>Volver al M√≥dulo
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONTENEDOR DE ALERTAS -->
        <div id="alertContainer"></div>

        <div class="row">
            <div class="col-lg-8 mx-auto">

                <!-- INFORMACI√ìN CONTEXTUAL -->
                <div class="info-card">
                    <div class="row align-items-center">
                        <div class="col-md-6">
                            <h6 class="text-muted mb-2">Manual de:</h6>
                            <h5 class="mb-1"><strong id="display-module">Herramientas Generales</strong></h5>
                            <p class="text-muted mb-0 small" id="display-page">Dashboard de Tareas</p>
                        </div>
                        <div class="col-md-6 text-md-end mt-3 mt-md-0">
                            <p class="small text-muted mb-0">
                                <i class="bi bi-info-circle me-1"></i>
                                Si tienes dudas o encuentras alg√∫n problema,<br>
                                puedes reportarlo usando el bot√≥n de abajo.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- TABLA DE CONTENIDOS -->
                <div class="table-of-contents">
                    <h5><i class="bi bi-list-ul me-2"></i>Contenido del Manual</h5>
                    <ul>
                        <li><a href="#que-es"><i class="bi bi-chevron-right me-1"></i>¬øQu√© es el Dashboard de Tareas?</a></li>
                        <li><a href="#caracteristicas"><i class="bi bi-chevron-right me-1"></i>Caracter√≠sticas principales</a></li>
                        <li><a href="#antes-comenzar"><i class="bi bi-chevron-right me-1"></i>Antes de comenzar</a></li>
                        <li><a href="#metricas-clave"><i class="bi bi-chevron-right me-1"></i>M√©tricas clave</a></li>
                        <li><a href="#situaciones-criticas"><i class="bi bi-chevron-right me-1"></i>Situaciones cr√≠ticas</a></li>
                        <li><a href="#desempeno-trabajadores"><i class="bi bi-chevron-right me-1"></i>Desempe√±o por trabajador</a></li>
                        <li><a href="#analisis-modulo"><i class="bi bi-chevron-right me-1"></i>An√°lisis por m√≥dulo</a></li>
                        <li><a href="#analisis-categoria"><i class="bi bi-chevron-right me-1"></i>An√°lisis por categor√≠a</a></li>
                        <li><a href="#analisis-temporal"><i class="bi bi-chevron-right me-1"></i>An√°lisis temporal</a></li>
                        <li><a href="#aging"><i class="bi bi-chevron-right me-1"></i>Aging de tareas</a></li>
                        <li><a href="#buenas-practicas"><i class="bi bi-chevron-right me-1"></i>Buenas pr√°cticas</a></li>
                        <li><a href="#faq"><i class="bi bi-chevron-right me-1"></i>Preguntas frecuentes</a></li>
                    </ul>
                </div>

                <!-- ========================================== -->
                <!-- SECCI√ìN: ¬øQU√â ES? -->
                <!-- ========================================== -->
                <section id="que-es">
                    <h2 class="section-title">
                        <i class="bi bi-info-circle me-2"></i>
                        ¬øQu√© es el Dashboard de Tareas?
                    </h2>
                    
                    <div class="step-card">
                        <p class="lead">
                            El <strong>Dashboard de Tareas</strong> es un panel de control que presenta 
                            una visi√≥n completa del estado y desempe√±o en la gesti√≥n de tareas del sistema.
                        </p>
                        <p>
                            Esta herramienta permite a coordinadores, directivos y supervisores:
                        </p>
                        <ul>
                            <li>Monitorear el estado general de las tareas asignadas</li>
                            <li>Identificar situaciones cr√≠ticas que requieren atenci√≥n inmediata</li>
                            <li>Analizar el desempe√±o individual y por equipos</li>
                            <li>Detectar tendencias y patrones en la gesti√≥n de tareas</li>
                            <li>Tomar decisiones informadas basadas en datos</li>
                        </ul>
                    </div>

                    <div class="info-box">
                        <strong><i class="bi bi-lightbulb me-1"></i> Importante:</strong> 
                        Este dashboard muestra informaci√≥n consolidada de <strong>todas las tareas</strong> 
                        del sistema, incluyendo las de Seguimientos, Alertas Tempranas y Herramientas Generales.
                    </div>
                </section>

                <!-- ========================================== -->
                <!-- SECCI√ìN: CARACTER√çSTICAS -->
                <!-- ========================================== -->
                <section id="caracteristicas">
                    <h2 class="section-title">
                        <i class="bi bi-star me-2"></i>
                        Caracter√≠sticas principales
                    </h2>

                    <div class="feature-item">
                        <i class="bi bi-speedometer2 feature-icon"></i>
                        <div>
                            <strong>M√©tricas en tiempo real</strong><br>
                            <span class="text-muted">Indicadores actualizados autom√°ticamente con cada visita</span>
                        </div>
                    </div>

                    <div class="feature-item">
                        <i class="bi bi-exclamation-triangle feature-icon"></i>
                        <div>
                            <strong>Alertas de situaciones cr√≠ticas</strong><br>
                            <span class="text-muted">Identificaci√≥n autom√°tica de tareas vencidas, sobrecarga de trabajo y falta de progreso</span>
                        </div>
                    </div>

                    <div class="feature-item">
                        <i class="bi bi-people feature-icon"></i>
                        <div>
                            <strong>An√°lisis por trabajador</strong><br>
                            <span class="text-muted">Rankings de desempe√±o y distribuci√≥n de carga de trabajo</span>
                        </div>
                    </div>

                    <div class="feature-item">
                        <i class="bi bi-bar-chart feature-icon"></i>
                        <div>
                            <strong>Gr√°ficos interactivos</strong><br>
                            <span class="text-muted">Visualizaci√≥n de tendencias, distribuciones y comparativas</span>
                        </div>
                    </div>

                    <div class="feature-item">
                        <i class="bi bi-calendar3 feature-icon"></i>
                        <div>
                            <strong>Filtro por a√±o acad√©mico</strong><br>
                            <span class="text-muted">Posibilidad de analizar datos de diferentes per√≠odos</span>
                        </div>
                    </div>

                    <div class="feature-item">
                        <i class="bi bi-hourglass-split feature-icon"></i>
                        <div>
                            <strong>An√°lisis de antig√ºedad (Aging)</strong><br>
                            <span class="text-muted">Clasificaci√≥n de tareas seg√∫n su tiempo de existencia</span>
                        </div>
                    </div>
                </section>

                <!-- ========================================== -->
                <!-- SECCI√ìN: ANTES DE COMENZAR -->
                <!-- ========================================== -->
                <section id="antes-comenzar">
                    <h2 class="section-title">
                        <i class="bi bi-clipboard-check me-2"></i>
                        Antes de comenzar
                    </h2>

                    <div class="step-card">
                        <h6><strong>Requisitos previos:</strong></h6>
                        <ul class="mb-0">
                            <li>Tener una cuenta activa en SchoolNet</li>
                            <li>Contar con el permiso <strong>"Dashboard de tareas"</strong> asignado</li>
                            <li>Iniciar sesi√≥n en el sistema</li>
                        </ul>
                    </div>

                    <div class="tip-box">
                        <strong><i class="bi bi-lightbulb me-1"></i> Tip:</strong> 
                        Si no puedes acceder al dashboard, contacta al administrador del sistema para 
                        verificar que tengas los permisos necesarios.
                    </div>
                </section>

                <!-- ========================================== -->
                <!-- SECCI√ìN: M√âTRICAS CLAVE -->
                <!-- ========================================== -->
                <section id="metricas-clave">
                    <h2 class="section-title">
                        <i class="bi bi-graph-up-arrow me-2"></i>
                        M√©tricas clave
                    </h2>

                    <p>En la parte superior del dashboard encontrar√°s <strong>4 tarjetas</strong> con los indicadores m√°s importantes:</p>

                    <div class="metric-example">
                        <div class="metric-example-title">
                            <i class="bi bi-list-task text-primary me-1"></i> Tareas Activas
                        </div>
                        <p class="mb-0 small">
                            N√∫mero total de tareas en estado <strong>"Asignada"</strong> o <strong>"En Progreso"</strong>. 
                            Representa el trabajo pendiente actual.
                        </p>
                    </div>

                    <div class="metric-example">
                        <div class="metric-example-title">
                            <i class="bi bi-exclamation-triangle text-danger me-1"></i> Tareas Vencidas
                        </div>
                        <p class="mb-0 small">
                            Cantidad de tareas activas cuya <strong>fecha l√≠mite ya pas√≥</strong>. 
                            Incluye el porcentaje respecto al total de tareas activas.
                        </p>
                    </div>

                    <div class="metric-example">
                        <div class="metric-example-title">
                            <i class="bi bi-clock-history text-info me-1"></i> Tiempo Promedio de Cierre
                        </div>
                        <p class="mb-0 small">
                            N√∫mero promedio de <strong>d√≠as</strong> que toma completar una tarea desde su creaci√≥n 
                            hasta su cierre. Menor es mejor.
                        </p>
                    </div>

                    <div class="metric-example">
                        <div class="metric-example-title">
                            <i class="bi bi-check-circle text-success me-1"></i> Tasa de Cumplimiento
                        </div>
                        <p class="mb-0 small">
                            Porcentaje de tareas <strong>terminadas</strong> respecto al total de tareas 
                            (excluyendo canceladas). Indica la efectividad general.
                        </p>
                    </div>

                    <div class="warning-box">
                        <strong><i class="bi bi-exclamation-triangle me-1"></i> Atenci√≥n:</strong> 
                        Un porcentaje alto de tareas vencidas (mayor al 20%) indica que se necesita 
                        revisar la asignaci√≥n de cargas de trabajo o las fechas l√≠mite establecidas.
                    </div>
                </section>

                <!-- ========================================== -->
                <!-- SECCI√ìN: SITUACIONES CR√çTICAS -->
                <!-- ========================================== -->
                <section id="situaciones-criticas">
                    <h2 class="section-title">
                        <i class="bi bi-exclamation-diamond me-2"></i>
                        Situaciones cr√≠ticas
                    </h2>

                    <p>Esta secci√≥n muestra <strong>3 alertas importantes</strong> que requieren atenci√≥n inmediata:</p>

                    <div class="step-card">
                        <h6><i class="bi bi-exclamation-triangle-fill text-danger me-2"></i><strong>Alta Prioridad Vencidas</strong></h6>
                        <p class="mb-0">
                            Tareas marcadas como <strong>prioridad alta</strong> que llevan m√°s de <strong>7 d√≠as vencidas</strong>. 
                            Estas requieren acci√≥n urgente ya que suelen tener impacto significativo.
                        </p>
                    </div>

                    <div class="step-card">
                        <h6><i class="bi bi-person-exclamation text-warning me-2"></i><strong>Carga Alta</strong></h6>
                        <p class="mb-0">
                            N√∫mero de trabajadores que tienen asignadas <strong>m√°s de 10 tareas activas</strong>. 
                            Indica posible sobrecarga que puede afectar la calidad y tiempos de respuesta.
                        </p>
                    </div>

                    <div class="step-card">
                        <h6><i class="bi bi-journal-x text-warning me-2"></i><strong>Sin Progreso</strong></h6>
                        <p class="mb-0">
                            Tareas que llevan <strong>m√°s de 7 d√≠as</strong> sin ninguna actualizaci√≥n en el campo de progreso. 
                            Puede indicar bloqueos o tareas olvidadas.
                        </p>
                    </div>

                    <div class="tip-box">
                        <strong><i class="bi bi-lightbulb me-1"></i> Recomendaci√≥n:</strong> 
                        Revisa esta secci√≥n al inicio de cada d√≠a o semana para identificar y resolver 
                        situaciones antes de que escalen.
                    </div>
                </section>

                <!-- ========================================== -->
                <!-- SECCI√ìN: DESEMPE√ëO POR TRABAJADOR -->
                <!-- ========================================== -->
                <section id="desempeno-trabajadores">
                    <h2 class="section-title">
                        <i class="bi bi-people me-2"></i>
                        Desempe√±o por trabajador
                    </h2>

                    <p>Esta secci√≥n presenta <strong>3 an√°lisis</strong> diferentes del desempe√±o del equipo:</p>

                    <div class="step-card">
                        <h6><i class="bi bi-trophy text-primary me-2"></i><strong>Top 5 - Tareas Completadas</strong></h6>
                        <p>
                            Muestra los <strong>5 trabajadores</strong> que m√°s tareas han completado en el per√≠odo, 
                            junto con el porcentaje respecto al total de tareas que les fueron asignadas.
                        </p>
                        <p class="mb-0 small text-muted">
                            <i class="bi bi-info-circle me-1"></i>
                            √ötil para identificar y reconocer a los colaboradores m√°s productivos.
                        </p>
                    </div>

                    <div class="step-card">
                        <h6><i class="bi bi-speedometer2 text-success me-2"></i><strong>Top 5 - Mejor Tiempo de Cierre</strong></h6>
                        <p>
                            Muestra los <strong>5 trabajadores</strong> con menor tiempo promedio de cierre de tareas. 
                            Solo incluye a quienes han completado <strong>al menos 3 tareas</strong>.
                        </p>
                        <p class="mb-0 small text-muted">
                            <i class="bi bi-info-circle me-1"></i>
                            Identifica a quienes resuelven tareas m√°s √°gilmente.
                        </p>
                    </div>

                    <div class="step-card">
                        <h6><i class="bi bi-bar-chart text-info me-2"></i><strong>Carga Actual por Trabajador</strong></h6>
                        <p>
                            Tabla con los <strong>10 trabajadores</strong> con m√°s tareas activas actualmente. Muestra:
                        </p>
                        <ul class="mb-0">
                            <li><strong>Asignadas:</strong> Tareas pendientes de iniciar</li>
                            <li><strong>En Progreso:</strong> Tareas en las que ya se est√° trabajando</li>
                            <li><strong>Total Activas:</strong> Suma de las anteriores</li>
                            <li><strong>Vencidas:</strong> Tareas cuya fecha l√≠mite ya pas√≥</li>
                            <li><strong>Distribuci√≥n:</strong> Barra visual de la carga relativa</li>
                        </ul>
                    </div>

                    <div class="warning-box">
                        <strong><i class="bi bi-exclamation-triangle me-1"></i> Nota:</strong> 
                        Las filas en <strong>amarillo</strong> indican trabajadores con m√°s de 10 tareas activas, 
                        lo que puede requerir redistribuci√≥n de cargas.
                    </div>
                </section>

                <!-- ========================================== -->
                <!-- SECCI√ìN: AN√ÅLISIS POR M√ìDULO -->
                <!-- ========================================== -->
                <section id="analisis-modulo">
                    <h2 class="section-title">
                        <i class="bi bi-grid-3x3-gap me-2"></i>
                        An√°lisis por m√≥dulo origen
                    </h2>

                    <p>Las tareas en SchoolNet pueden originarse en diferentes m√≥dulos. Esta secci√≥n analiza el comportamiento seg√∫n su origen:</p>

                    <div class="step-card">
                        <h6><strong>M√≥dulos disponibles:</strong></h6>
                        <ul class="mb-0">
                            <li><strong>Seguimientos:</strong> Tareas generadas desde el m√≥dulo de seguimiento a estudiantes</li>
                            <li><strong>Alertas Tempranas:</strong> Tareas derivadas del sistema de alertas acad√©micas</li>
                            <li><strong>Herramientas Generales:</strong> Tareas creadas directamente desde este m√≥dulo</li>
                        </ul>
                    </div>

                    <p><strong>La tabla muestra para cada m√≥dulo:</strong></p>
                    <ul>
                        <li><strong>Total:</strong> Todas las tareas creadas</li>
                        <li><strong>Activas:</strong> Tareas pendientes o en progreso</li>
                        <li><strong>Vencidas:</strong> Tareas activas fuera de fecha</li>
                        <li><strong>% Completadas:</strong> Tasa de finalizaci√≥n</li>
                    </ul>

                    <p>Adem√°s, un <strong>gr√°fico de barras</strong> compara el tiempo promedio de cierre entre m√≥dulos.</p>

                    <div class="tip-box">
                        <strong><i class="bi bi-lightbulb me-1"></i> Tip:</strong> 
                        Si un m√≥dulo tiene tiempos de cierre significativamente mayores, 
                        puede indicar que ese tipo de tareas requiere m√°s recursos o son m√°s complejas.
                    </div>
                </section>

                <!-- ========================================== -->
                <!-- SECCI√ìN: AN√ÅLISIS POR CATEGOR√çA -->
                <!-- ========================================== -->
                <section id="analisis-categoria">
                    <h2 class="section-title">
                        <i class="bi bi-bookmark-star me-2"></i>
                        An√°lisis por categor√≠a
                    </h2>

                    <div class="info-box">
                        <strong><i class="bi bi-info-circle me-1"></i> Nota:</strong> 
                        Esta secci√≥n <strong>solo analiza tareas de Herramientas Generales</strong>, 
                        ya que las categor√≠as son espec√≠ficas de este m√≥dulo.
                    </div>

                    <div class="step-card">
                        <h6><strong>Gr√°fico de distribuci√≥n:</strong></h6>
                        <p class="mb-0">
                            Un <strong>gr√°fico de dona</strong> muestra c√≥mo se distribuyen las tareas activas 
                            entre las diferentes categor√≠as configuradas en el sistema.
                        </p>
                    </div>

                    <div class="step-card">
                        <h6><strong>Puntos de atenci√≥n:</strong></h6>
                        <p>El sistema identifica autom√°ticamente alertas como:</p>
                        <ul class="mb-0">
                            <li><span class="badge bg-danger me-1">M√°s vencidas</span> Categor√≠a con mayor cantidad de tareas fuera de fecha</li>
                            <li><span class="badge bg-warning text-dark me-1">Mayor backlog</span> Categor√≠a con m√°s tareas activas acumuladas</li>
                            <li><span class="badge bg-warning text-dark me-1">Sin movimiento</span> Categor√≠a con m√°s tareas sin progreso por m√°s de 7 d√≠as</li>
                        </ul>
                    </div>
                </section>

                <!-- ========================================== -->
                <!-- SECCI√ìN: AN√ÅLISIS TEMPORAL -->
                <!-- ========================================== -->
                <section id="analisis-temporal">
                    <h2 class="section-title">
                        <i class="bi bi-calendar3 me-2"></i>
                        An√°lisis temporal
                    </h2>

                    <p>Esta secci√≥n presenta <strong>3 visualizaciones</strong> del comportamiento en el tiempo:</p>

                    <div class="step-card">
                        <h6><i class="bi bi-graph-up me-2"></i><strong>Tendencia Mensual</strong></h6>
                        <p class="mb-0">
                            Gr√°fico de l√≠neas que muestra la cantidad de tareas <strong>creadas vs cerradas</strong> 
                            en los √∫ltimos 6 meses. Permite identificar si la capacidad de cierre est√° al d√≠a 
                            con la demanda de nuevas tareas.
                        </p>
                    </div>

                    <div class="step-card">
                        <h6><i class="bi bi-pie-chart me-2"></i><strong>Distribuci√≥n por Prioridad</strong></h6>
                        <p class="mb-0">
                            Gr√°fico de dona que muestra qu√© proporci√≥n de las tareas <strong>activas actualmente</strong> 
                            son de prioridad Alta, Normal o Baja.
                        </p>
                    </div>

                    <div class="step-card">
                        <h6><i class="bi bi-bar-chart me-2"></i><strong>Tiempo de Cierre por Mes</strong></h6>
                        <p class="mb-0">
                            Gr√°fico de barras que muestra el <strong>tiempo promedio de cierre</strong> (en d√≠as) 
                            para cada uno de los √∫ltimos 6 meses. √ötil para identificar si la eficiencia mejora o empeora.
                        </p>
                    </div>

                    <div class="tip-box">
                        <strong><i class="bi bi-lightbulb me-1"></i> Interpretaci√≥n:</strong> 
                        Si las l√≠neas de tareas creadas est√°n consistentemente por encima de las cerradas, 
                        se est√° acumulando un backlog que eventualmente ser√° dif√≠cil de manejar.
                    </div>
                </section>

                <!-- ========================================== -->
                <!-- SECCI√ìN: AGING -->
                <!-- ========================================== -->
                <section id="aging">
                    <h2 class="section-title">
                        <i class="bi bi-hourglass-split me-2"></i>
                        Aging de tareas activas
                    </h2>

                    <p>El <strong>aging</strong> (envejecimiento) clasifica las tareas activas seg√∫n cu√°nto tiempo llevan en el sistema:</p>

                    <div class="step-card">
                        <div class="mb-3">
                            <span class="badge-example" style="background: #198754; color: white;">< 7 d√≠as</span>
                            <strong>Tareas recientes</strong> - Dentro del plazo esperado
                        </div>
                        <div class="mb-3">
                            <span class="badge-example" style="background: #ffc107; color: black;">7-15 d√≠as</span>
                            <strong>Atenci√≥n moderada</strong> - Empiezan a acumular tiempo
                        </div>
                        <div class="mb-3">
                            <span class="badge-example" style="background: #fd7e14; color: white;">15-30 d√≠as</span>
                            <strong>Atenci√≥n requerida</strong> - Riesgo de volverse cr√≠ticas
                        </div>
                        <div>
                            <span class="badge-example" style="background: #dc3545; color: white;">> 30 d√≠as</span>
                            <strong>Cr√≠tico</strong> - Requieren revisi√≥n urgente
                        </div>
                    </div>

                    <p><strong>La tabla de aging muestra:</strong></p>
                    <ul>
                        <li><strong>Cantidad:</strong> N√∫mero de tareas en ese rango</li>
                        <li><strong>%:</strong> Porcentaje respecto al total de activas</li>
                        <li><strong>Asignadas:</strong> Cu√°ntas a√∫n no se han iniciado</li>
                        <li><strong>En Progreso:</strong> Cu√°ntas ya se est√°n trabajando</li>
                        <li><strong>Alta Prioridad:</strong> Cu√°ntas son de prioridad alta (requieren atenci√≥n especial)</li>
                    </ul>

                    <div class="warning-box">
                        <strong><i class="bi bi-exclamation-triangle me-1"></i> Importante:</strong> 
                        Si hay muchas tareas de alta prioridad en la categor√≠a "> 30 d√≠as", 
                        es una se√±al de alerta seria que debe abordarse inmediatamente.
                    </div>
                </section>

                <!-- ========================================== -->
                <!-- SECCI√ìN: BUENAS PR√ÅCTICAS -->
                <!-- ========================================== -->
                <section id="buenas-practicas">
                    <h2 class="section-title">
                        <i class="bi bi-award me-2"></i>
                        Buenas pr√°cticas
                    </h2>

                    <div class="step-card">
                        <p><span class="step-number">1</span><strong>Revisa el dashboard regularmente</strong></p>
                        <p class="mb-0 ms-4">Idealmente al inicio de cada d√≠a o al menos una vez por semana para detectar problemas temprano.</p>
                    </div>

                    <div class="step-card">
                        <p><span class="step-number">2</span><strong>Act√∫a primero sobre las situaciones cr√≠ticas</strong></p>
                        <p class="mb-0 ms-4">Las tareas de alta prioridad vencidas y los trabajadores sobrecargados son la prioridad.</p>
                    </div>

                    <div class="step-card">
                        <p><span class="step-number">3</span><strong>Balancea las cargas de trabajo</strong></p>
                        <p class="mb-0 ms-4">Usa la tabla de carga por trabajador para redistribuir tareas cuando alguien est√° saturado.</p>
                    </div>

                    <div class="step-card">
                        <p><span class="step-number">4</span><strong>Monitorea las tendencias</strong></p>
                        <p class="mb-0 ms-4">Si el backlog crece mes a mes, es momento de revisar procesos o recursos.</p>
                    </div>

                    <div class="step-card">
                        <p><span class="step-number">5</span><strong>Establece metas realistas</strong></p>
                        <p class="mb-0 ms-4">Usa los tiempos promedio de cierre como referencia para establecer fechas l√≠mite alcanzables.</p>
                    </div>

                    <div class="step-card">
                        <p><span class="step-number">6</span><strong>Revisa tareas sin progreso</strong></p>
                        <p class="mb-0 ms-4">Pueden indicar bloqueos o falta de claridad que se resuelven con una conversaci√≥n.</p>
                    </div>
                </section>

                <!-- ========================================== -->
                <!-- SECCI√ìN: FAQ -->
                <!-- ========================================== -->
                <section id="faq">
                    <h2 class="section-title">
                        <i class="bi bi-chat-dots me-2"></i>
                        Preguntas frecuentes
                    </h2>

                    <div class="faq-item">
                        <p class="faq-question">¬øCon qu√© frecuencia se actualizan los datos?</p>
                        <p class="mb-0">
                            Los datos se cargan cada vez que accedes al dashboard o cambias el a√±o acad√©mico. 
                            Para ver informaci√≥n actualizada, simplemente recarga la p√°gina.
                        </p>
                    </div>

                    <div class="faq-item">
                        <p class="faq-question">¬øPuedo ver datos de a√±os anteriores?</p>
                        <p class="mb-0">
                            S√≠. Usa el selector de <strong>"A√±o Acad√©mico"</strong> en la esquina superior derecha 
                            para cambiar entre per√≠odos.
                        </p>
                    </div>

                    <div class="faq-item">
                        <p class="faq-question">¬øPor qu√© no veo algunas categor√≠as?</p>
                        <p class="mb-0">
                            La secci√≥n de categor√≠as solo muestra aquellas que tienen al menos una tarea. 
                            Si una categor√≠a no aparece, significa que no tiene tareas asignadas en el per√≠odo.
                        </p>
                    </div>

                    <div class="faq-item">
                        <p class="faq-question">¬øC√≥mo puedo ver el detalle de las tareas?</p>
                        <p class="mb-0">
                            El dashboard muestra m√©tricas consolidadas. Para ver y gestionar tareas individuales, 
                            usa el <strong>bot√≥n flotante azul</strong> en la esquina inferior derecha que te lleva 
                            a la pantalla de Gesti√≥n de Tareas.
                        </p>
                    </div>

                    <div class="faq-item">
                        <p class="faq-question">¬øQu√© significa que un trabajador est√© "sobrecargado"?</p>
                        <p class="mb-0">
                            El sistema considera sobrecarga cuando un trabajador tiene <strong>m√°s de 10 tareas activas</strong> 
                            simult√°neamente. Este umbral puede variar seg√∫n el tipo de trabajo.
                        </p>
                    </div>

                    <div class="faq-item">
                        <p class="faq-question">¬øPor qu√© el tiempo promedio de cierre es alto?</p>
                        <p class="mb-0">
                            Puede deberse a tareas complejas, falta de recursos, o tareas que se dejaron abiertas 
                            m√°s tiempo del necesario. Revisa las tareas con mayor antig√ºedad para identificar casos espec√≠ficos.
                        </p>
                    </div>

                    <div class="faq-item">
                        <p class="faq-question">¬øPuedo exportar estos datos?</p>
                        <p class="mb-0">
                            Actualmente el dashboard es solo de consulta. Para exportar datos, usa la funci√≥n 
                            de exportaci√≥n disponible en la pantalla de Gesti√≥n de Tareas.
                        </p>
                    </div>
                </section>

                <!-- ========================================== -->
                <!-- TARJETA PARA REPORTAR BUGS -->
                <!-- ========================================== -->
                <div class="bug-report-card mt-5">
                    <i class="bi bi-bug-fill icon-large"></i>
                    <h4 class="mb-3">¬øEncontraste un problema o tienes una sugerencia?</h4>
                    <p class="mb-4">
                        Si experimentaste un error, algo no funciona como esperas, o tienes 
                        una sugerencia para mejorar el sistema, rep√≥rtalo aqu√≠.
                    </p>
                    <a href="../report-bug.html" class="btn btn-light btn-lg">
                        <i class="bi bi-exclamation-triangle me-2"></i>Reportar Bug o Problema
                    </a>
                </div>

            </div>
        </div>

    </div>

    <!-- BOT√ìN FLOTANTE PARA REPORTAR BUGS - COLOR PRIMARIO -->
    <a href="../report-bug.html" class="btn btn-lg floating-bug-button" title="Reportar Bug">
        <i class="bi bi-bug-fill me-2"></i>Reportar Bug
    </a>

    <!-- SCRIPTS - ORDEN CR√çTICO -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/js/config.js"></script>
    
    <script>
        // ==========================================
        // VARIABLES GLOBALES
        // ==========================================
        let currentUser = null;

        // ==========================================
        // CONFIGURACI√ìN DE LA P√ÅGINA
        // ==========================================
        const PAGE_CONFIG = {
            moduleName: 'Herramientas Generales',
            modulePath: 'general-tools',
            pageTitle: 'Dashboard de Tareas',
            pagePath: 'dashboard.html',
            moduleDescription: 'Panel de control y an√°lisis de gesti√≥n de tareas'
        };

        // ==========================================
        // INICIALIZACI√ìN
        // ==========================================
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üìñ Iniciando p√°gina de manual...');
            
            try {
                // Verificar si existe la funci√≥n de colores corporativos
                if (typeof loadAndApplyBrandColors === 'function') {
                    await loadAndApplyBrandColors();
                }
                
                // Verificar sesi√≥n si la funci√≥n existe
                if (typeof getStoredSession === 'function') {
                    const session = getStoredSession();
                    if (session && session.user) {
                        currentUser = session.user;
                    }
                }
                
                // Actualizar informaci√≥n en la p√°gina
                updatePageInfo();
                
                console.log('‚úÖ P√°gina de manual lista');
                
            } catch (error) {
                console.error('‚ùå Error inicializando p√°gina:', error);
                if (typeof showMessage === 'function') {
                    showMessage('Error al cargar la p√°gina: ' + error.message, 'danger');
                }
            }
        });

        // ==========================================
        // ACTUALIZAR INFORMACI√ìN DE LA P√ÅGINA
        // ==========================================
        function updatePageInfo() {
            // Actualizar title
            document.title = `Manual - ${PAGE_CONFIG.moduleName} - ${PAGE_CONFIG.pageTitle} - SchoolNet`;
        }

        // ==========================================
        // UTILIDADES DE LOADING
        // ==========================================
        function showLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.remove('hidden');
            }
        }

        function hideLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.add('hidden');
            }
        }

        // ==========================================
        // FUNCI√ìN DE MENSAJES
        // ==========================================
        function showMessage(message, type) {
            const alertContainer = document.getElementById('alertContainer');
            if (!alertContainer) return;
            
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} alert-dismissible fade show`;
            alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            alertContainer.appendChild(alertDiv);
            
            // Auto-remove despu√©s de 5 segundos
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 5000);
        }

    </script>
</body>
</html>
