<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- VERSI√ìN DE LA P√ÅGINA -->
    <meta name="page-version" content="25.11.27.09.25">
    
    <title>Manual - Herramientas Generales - Gesti√≥n de Tareas - SchoolNet</title>
    
    <!-- Bootstrap CSS - VERSI√ìN FIJA PROBADA -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <style>
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .loading-overlay.hidden {
            display: none;
        }
        
        .loading-content {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #007bff;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Encabezado discreto */
        .manual-header {
            background: #f8f9fa;
            border-bottom: 2px solid var(--system-primary-color, #1B365D);
            padding: 1.5rem 0;
            margin-bottom: 2rem;
        }

        .manual-header h1 {
            font-size: 1.75rem;
            color: var(--system-primary-color, #1B365D);
            margin-bottom: 0.25rem;
        }

        .manual-header .subtitle {
            color: #6c757d;
            font-size: 0.95rem;
        }

        /* Info card */
        .info-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        /* Tarjeta para reportar bugs */
        .bug-report-card {
            background: var(--system-secondary-color, #667eea);
            color: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .bug-report-card h5 {
            color: white;
        }

        /* Bot√≥n flotante para reportar bugs */
        .floating-bug-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            background: var(--system-primary-color, #dc3545) !important;
            border-color: var(--system-primary-color, #dc3545) !important;
        }

        .floating-bug-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.4);
            opacity: 0.9;
        }

        .icon-large {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        /* Estilos para el contenido del manual */
        .section-title {
            color: var(--system-primary-color, #1B365D);
            border-bottom: 2px solid var(--system-primary-color, #1B365D);
            padding-bottom: 0.5rem;
            margin-top: 2rem;
            margin-bottom: 1.5rem;
        }

        .step-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            background: var(--system-primary-color, #1B365D);
            color: white;
            border-radius: 50%;
            font-weight: bold;
            margin-right: 0.75rem;
        }

        .feature-list {
            list-style: none;
            padding-left: 0;
        }

        .feature-list li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
        }

        .feature-list li::before {
            content: "‚úì";
            color: var(--system-primary-color, #28a745);
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #0d6efd;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .success-box {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .danger-box {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        /* Estilos para badges de ejemplo */
        .badge-example {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .badge-alta {
            background-color: #dc3545;
            color: white;
        }
        
        .badge-normal {
            background-color: #0d6efd;
            color: white;
        }
        
        .badge-baja {
            background-color: #6c757d;
            color: white;
        }
        
        .badge-asignada {
            background-color: #0dcaf0;
            color: #000;
        }
        
        .badge-progreso {
            background-color: #ffc107;
            color: #000;
        }
        
        .badge-terminada {
            background-color: #198754;
            color: white;
        }
        
        .badge-cancelada {
            background-color: #6c757d;
            color: white;
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <p class="mb-0">Cargando...</p>
        </div>
    </div>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="container-fluid">

        <!-- ENCABEZADO DISCRETO -->
        <div class="manual-header">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h1>
                            <i class="bi bi-book me-2"></i>
                            Manual: Herramientas Generales
                        </h1>
                        <p class="subtitle mb-0">Gesti√≥n de Tareas</p>
                    </div>
                    <div class="col-md-4 text-md-end mt-3 mt-md-0">
                        <a href="../../modules/general-tools/tasks.html" class="btn btn-outline-primary">
                            <i class="bi bi-arrow-left me-1"></i>Volver al M√≥dulo
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONTENEDOR DE ALERTAS -->
        <div id="alertContainer"></div>

        <div class="row">
            <div class="col-lg-8 mx-auto">

                <!-- INFORMACI√ìN CONTEXTUAL -->
                <div class="info-card">
                    <div class="row align-items-center">
                        <div class="col-md-6">
                            <h6 class="text-muted mb-2">Manual de:</h6>
                            <h5 class="mb-1"><strong id="display-module">Herramientas Generales</strong></h5>
                            <p class="text-muted mb-0 small" id="display-page">Gesti√≥n de Tareas</p>
                        </div>
                        <div class="col-md-6 text-md-end mt-3 mt-md-0">
                            <p class="small text-muted mb-0">
                                <i class="bi bi-info-circle me-1"></i>
                                Si tienes dudas o encuentras alg√∫n problema,<br>
                                puedes reportarlo usando el bot√≥n de abajo.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- ========================================== -->
                <!-- INICIO DEL CONTENIDO DEL MANUAL -->
                <!-- ========================================== -->

                <!-- SECCI√ìN: ¬øQu√© es? -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-info-circle me-2"></i>
                        ¬øQu√© es Gesti√≥n de Tareas?
                    </h2>
                    
                    <div class="step-card">
                        <p class="lead">
                            Esta funci√≥n permite <strong>crear, asignar y dar seguimiento a tareas</strong> dentro del sistema SchoolNet.
                        </p>
                        
                        <p>
                            Las tareas son actividades que deben ser realizadas por uno o varios trabajadores del colegio. Pueden estar asociadas a estudiantes espec√≠ficos (cuando provienen de m√≥dulos como Seguimientos o Alertas Tempranas) o ser tareas generales creadas manualmente.
                        </p>

                        <div class="info-box">
                            <strong><i class="bi bi-info-circle me-2"></i>Importante:</strong>
                            Las tareas que ves dependen de tus permisos. Si tienes el permiso "Gestionar tareas", ver√°s todas las tareas del sistema. Si no lo tienes, solo ver√°s las tareas donde eres responsable o colaborador.
                        </div>
                    </div>
                </section>

                <!-- SECCI√ìN: Caracter√≠sticas principales -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-star me-2"></i>
                        Caracter√≠sticas principales
                    </h2>
                    
                    <div class="step-card">
                        <ul class="feature-list">
                            <li><strong>Crear tareas:</strong> Asigna actividades a cualquier trabajador del colegio (requiere permiso especial)</li>
                            <li><strong>Sistema de prioridades:</strong> Clasifica las tareas como Alta, Normal o Baja seg√∫n su urgencia</li>
                            <li><strong>Estados de seguimiento:</strong> Las tareas pasan por estados: Asignada ‚Üí En Progreso ‚Üí Terminada</li>
                            <li><strong>Colaboradores:</strong> Agrega m√°s personas para trabajar en conjunto en una tarea</li>
                            <li><strong>Notas de progreso:</strong> Documenta el avance de cada tarea con notas con fecha y autor</li>
                            <li><strong>Filtros de b√∫squeda:</strong> Encuentra tareas por estado, prioridad, m√≥dulo origen o descripci√≥n</li>
                            <li><strong>Notificaciones autom√°ticas:</strong> Los responsables y colaboradores reciben correos al ser asignados</li>
                            <li><strong>Control de vencimiento:</strong> Las tareas vencidas se resaltan visualmente</li>
                        </ul>
                    </div>
                </section>

                <!-- SECCI√ìN: Estados y prioridades -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-tags me-2"></i>
                        Estados y prioridades
                    </h2>
                    
                    <div class="step-card">
                        <h5>Estados de una tarea:</h5>
                        <p>Las tareas pasan por diferentes estados durante su ciclo de vida:</p>
                        <ul>
                            <li><span class="badge-example badge-asignada">Asignada</span> - La tarea fue creada y asignada a un responsable</li>
                            <li><span class="badge-example badge-progreso">En Progreso</span> - El responsable est√° trabajando en la tarea</li>
                            <li><span class="badge-example badge-terminada">Terminada</span> - La tarea fue completada exitosamente</li>
                            <li><span class="badge-example badge-cancelada">Cancelada</span> - La tarea fue cancelada y no se completar√°</li>
                        </ul>

                        <h5 class="mt-4">Niveles de prioridad:</h5>
                        <p>La prioridad indica la urgencia de la tarea:</p>
                        <ul>
                            <li><span class="badge-example badge-alta">Alta</span> - Requiere atenci√≥n inmediata. Las tarjetas tienen borde rojo</li>
                            <li><span class="badge-example badge-normal">Normal</span> - Prioridad est√°ndar. Las tarjetas tienen borde azul</li>
                            <li><span class="badge-example badge-baja">Baja</span> - Puede esperar. Las tarjetas tienen borde gris</li>
                        </ul>

                        <div class="warning-box">
                            <strong><i class="bi bi-exclamation-triangle me-2"></i>Tareas vencidas:</strong>
                            Cuando una tarea supera su fecha l√≠mite sin estar terminada o cancelada, se muestra con fondo amarillo y una etiqueta "VENCIDA" para llamar la atenci√≥n.
                        </div>
                    </div>
                </section>

                <!-- SECCI√ìN: Antes de comenzar -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-clipboard-check me-2"></i>
                        Antes de comenzar
                    </h2>
                    
                    <div class="step-card">
                        <h5>Tipos de usuarios:</h5>
                        <ul>
                            <li><strong>Usuarios con permiso "Gestionar tareas":</strong> Pueden crear nuevas tareas, ver todas las tareas del sistema, y gestionar colaboradores</li>
                            <li><strong>Usuarios sin permiso especial:</strong> Solo ven las tareas donde son responsables o colaboradores, y pueden agregar notas de progreso</li>
                        </ul>

                        <h5 class="mt-4">Roles en una tarea:</h5>
                        <ul>
                            <li><strong>Responsable principal:</strong> La persona asignada para completar la tarea. Puede cambiar el estado y editar el contexto general</li>
                            <li><strong>Colaborador:</strong> Persona adicional que apoya en la tarea. Puede ver toda la informaci√≥n y agregar notas de progreso</li>
                        </ul>

                        <h5 class="mt-4">M√≥dulos de origen:</h5>
                        <p>Las tareas pueden provenir de diferentes partes del sistema:</p>
                        <ul>
                            <li><strong>Seguimientos:</strong> Tareas generadas desde notas de seguimiento a estudiantes</li>
                            <li><strong>Alertas Tempranas:</strong> Tareas derivadas del sistema de alertas tempranas</li>
                            <li><strong>Herramientas Generales:</strong> Tareas creadas manualmente desde esta funci√≥n</li>
                        </ul>
                    </div>
                </section>

                <!-- SECCI√ìN: Gu√≠a paso a paso - Ver tareas -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-list-ol me-2"></i>
                        Ver y filtrar tareas
                    </h2>

                    <!-- Paso 1 -->
                    <div class="step-card">
                        <h4>
                            <span class="step-number">1</span>
                            Acceder a la funci√≥n
                        </h4>
                        
                        <p>Ingresa a "Gesti√≥n de Tareas" desde el men√∫ de Herramientas Generales. El sistema:</p>
                        
                        <ul>
                            <li>Verificar√° tus permisos de acceso</li>
                            <li>Cargar√° las tareas seg√∫n tu rol (todas o solo las tuyas)</li>
                            <li>Mostrar√° las tareas m√°s recientes primero</li>
                        </ul>
                    </div>

                    <!-- Paso 2 -->
                    <div class="step-card">
                        <h4>
                            <span class="step-number">2</span>
                            Entender las tarjetas de tareas
                        </h4>
                        
                        <p>Cada tarea se muestra como una tarjeta con la siguiente informaci√≥n:</p>

                        <ul>
                            <li><strong>Prioridad y estado:</strong> Badges de colores en la parte superior</li>
                            <li><strong>M√≥dulo origen:</strong> De d√≥nde proviene la tarea</li>
                            <li><strong>Descripci√≥n:</strong> Resumen de la actividad a realizar</li>
                            <li><strong>Responsable:</strong> Qui√©n debe completar la tarea</li>
                            <li><strong>Estudiante:</strong> Si aplica, el estudiante relacionado</li>
                            <li><strong>Fecha l√≠mite:</strong> Cu√°ndo debe estar terminada</li>
                            <li><strong>Contadores:</strong> Badges que muestran cantidad de colaboradores y notas</li>
                        </ul>

                        <div class="info-box">
                            <strong><i class="bi bi-info-circle me-2"></i>Colores del borde:</strong>
                            El borde izquierdo de cada tarjeta indica la prioridad: rojo (Alta), azul (Normal) o gris (Baja).
                        </div>
                    </div>

                    <!-- Paso 3 -->
                    <div class="step-card">
                        <h4>
                            <span class="step-number">3</span>
                            Usar los filtros
                        </h4>
                        
                        <p>En la parte superior encontrar√°s filtros para encontrar tareas espec√≠ficas:</p>

                        <ul>
                            <li><strong>Estado:</strong> Filtra por Asignada, En Progreso, Terminada o Cancelada</li>
                            <li><strong>Prioridad:</strong> Filtra por Alta, Normal o Baja</li>
                            <li><strong>M√≥dulo Origen:</strong> Filtra seg√∫n el m√≥dulo que gener√≥ la tarea</li>
                            <li><strong>Buscar:</strong> Escribe texto para buscar en la descripci√≥n de las tareas</li>
                        </ul>

                        <p>Puedes combinar varios filtros para b√∫squedas m√°s precisas. Usa el bot√≥n "Limpiar Filtros" para reiniciar la b√∫squeda.</p>

                        <div class="success-box">
                            <strong><i class="bi bi-lightbulb me-2"></i>Consejo:</strong>
                            Para ver solo las tareas pendientes urgentes, filtra por Estado "Asignada" y Prioridad "Alta".
                        </div>
                    </div>

                    <!-- Paso 4 -->
                    <div class="step-card">
                        <h4>
                            <span class="step-number">4</span>
                            Ver el detalle completo
                        </h4>
                        
                        <p>Haz clic en el bot√≥n <i class="bi bi-eye"></i> de cualquier tarjeta para ver toda la informaci√≥n:</p>

                        <ul>
                            <li>Descripci√≥n completa de la tarea</li>
                            <li>Estado y prioridad actuales</li>
                            <li>Responsable principal</li>
                            <li>Estudiante asociado (si aplica)</li>
                            <li>Fechas l√≠mite y de cierre</li>
                            <li>Contexto general documentado</li>
                            <li>Lista de colaboradores</li>
                            <li>Historial completo de notas de progreso</li>
                        </ul>
                    </div>
                </section>

                <!-- SECCI√ìN: Crear nueva tarea -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-plus-circle me-2"></i>
                        Crear una nueva tarea
                    </h2>

                    <div class="step-card">
                        <div class="warning-box">
                            <strong><i class="bi bi-exclamation-triangle me-2"></i>Requisito:</strong>
                            Solo los usuarios con el permiso "Gestionar tareas" pueden crear nuevas tareas. Si no ves el bot√≥n "Nueva Tarea", no tienes este permiso.
                        </div>

                        <h5 class="mt-3">Pasos para crear una tarea:</h5>
                        <ol>
                            <li>Haz clic en el bot√≥n <strong>"Nueva Tarea"</strong></li>
                            <li>Completa el campo <strong>Descripci√≥n</strong> con una explicaci√≥n clara de la actividad</li>
                            <li>Selecciona el <strong>trabajador responsable</strong> de la lista</li>
                            <li>Define la <strong>Fecha l√≠mite</strong> (no puede ser anterior a hoy)</li>
                            <li>Selecciona la <strong>Prioridad</strong> seg√∫n la urgencia</li>
                            <li>Opcionalmente, agrega un <strong>Contexto inicial</strong> con informaci√≥n adicional</li>
                            <li>Si deseas, expande la secci√≥n de <strong>Colaboradores</strong> para agregar m√°s personas</li>
                            <li>Haz clic en <strong>"Crear Tarea"</strong></li>
                        </ol>

                        <div class="info-box">
                            <strong><i class="bi bi-info-circle me-2"></i>Notificaciones:</strong>
                            Al crear la tarea, el responsable principal recibir√° un correo electr√≥nico de notificaci√≥n. Los colaboradores tambi√©n ser√°n notificados autom√°ticamente.
                        </div>
                    </div>
                </section>

                <!-- SECCI√ìN: Gestionar colaboradores -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-people me-2"></i>
                        Gestionar colaboradores
                    </h2>

                    <div class="step-card">
                        <p class="lead">
                            Los colaboradores son trabajadores adicionales que apoyan en una tarea sin ser el responsable principal.
                        </p>

                        <h5>¬øQu√© pueden hacer los colaboradores?</h5>
                        <ul>
                            <li>Ver toda la informaci√≥n de la tarea</li>
                            <li>Agregar notas de progreso</li>
                            <li>Recibir notificaciones al ser agregados</li>
                        </ul>

                        <h5 class="mt-3">¬øQu√© NO pueden hacer los colaboradores?</h5>
                        <ul>
                            <li>Cambiar el estado de la tarea (solo el responsable principal)</li>
                            <li>Modificar el contexto general</li>
                            <li>Cerrar o cancelar la tarea</li>
                        </ul>

                        <h5 class="mt-3">Agregar colaboradores:</h5>
                        <ol>
                            <li>En la tarjeta de la tarea, haz clic en el bot√≥n <i class="bi bi-people"></i></li>
                            <li>Selecciona un trabajador de la lista desplegable</li>
                            <li>Haz clic en "Agregar"</li>
                            <li>El colaborador recibir√° una notificaci√≥n por correo</li>
                        </ol>

                        <h5 class="mt-3">Remover colaboradores:</h5>
                        <p>Haz clic en el bot√≥n rojo <i class="bi bi-person-x"></i> junto al nombre del colaborador y confirma la acci√≥n.</p>

                        <div class="warning-box">
                            <strong><i class="bi bi-exclamation-triangle me-2"></i>Nota:</strong>
                            Solo el responsable principal o usuarios con permiso "Gestionar tareas" pueden agregar o remover colaboradores.
                        </div>
                    </div>
                </section>

                <!-- SECCI√ìN: Documentar progreso -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-journal-text me-2"></i>
                        Documentar el progreso
                    </h2>

                    <div class="step-card">
                        <p class="lead">
                            Documentar el progreso es fundamental para mantener un registro de las acciones realizadas.
                        </p>

                        <h5>Agregar notas de progreso:</h5>
                        <ol>
                            <li>En la tarjeta de la tarea, haz clic en el bot√≥n <i class="bi bi-pencil"></i> (Editar progreso)</li>
                            <li>En el campo "Agregar Nota de Progreso", escribe tu actualizaci√≥n</li>
                            <li>Haz clic en "Guardar Cambios"</li>
                        </ol>

                        <p>Cada nota queda registrada con:</p>
                        <ul>
                            <li>Tu nombre como autor</li>
                            <li>Fecha y hora exacta</li>
                            <li>El contenido de la nota</li>
                        </ul>

                        <h5 class="mt-3">Cambiar el estado (solo responsable principal):</h5>
                        <p>Si eres el responsable principal, tambi√©n puedes:</p>
                        <ul>
                            <li>Modificar el <strong>Contexto General</strong> (resumen ejecutivo de la tarea)</li>
                            <li>Cambiar el <strong>Estado</strong> de la tarea (Asignada ‚Üí En Progreso ‚Üí Terminada)</li>
                        </ul>

                        <div class="success-box">
                            <strong><i class="bi bi-lightbulb me-2"></i>Buena pr√°ctica:</strong>
                            Agrega notas frecuentes sobre el avance. Esto ayuda a mantener informados a todos los involucrados y crea un historial √∫til.
                        </div>
                    </div>
                </section>

                <!-- SECCI√ìN: Cerrar y cancelar -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-check-circle me-2"></i>
                        Cerrar o cancelar tareas
                    </h2>

                    <div class="step-card">
                        <h5>Cerrar una tarea (marcar como Terminada):</h5>
                        <ol>
                            <li>Haz clic en el bot√≥n <i class="bi bi-check-circle"></i> (Cerrar tarea)</li>
                            <li>Confirma la acci√≥n</li>
                            <li>La tarea quedar√° en estado "Terminada"</li>
                        </ol>

                        <div class="warning-box">
                            <strong><i class="bi bi-exclamation-triangle me-2"></i>Requisito para cerrar:</strong>
                            No puedes cerrar una tarea sin progreso documentado. Debes agregar al menos una nota de progreso o escribir algo en el contexto general antes de poder cerrarla.
                        </div>

                        <h5 class="mt-4">Cancelar una tarea:</h5>
                        <ol>
                            <li>Haz clic en el bot√≥n <i class="bi bi-x-circle"></i> (Cancelar)</li>
                            <li>Confirma la acci√≥n (esta acci√≥n no se puede deshacer)</li>
                            <li>La tarea quedar√° en estado "Cancelada"</li>
                        </ol>

                        <div class="danger-box">
                            <strong><i class="bi bi-exclamation-octagon me-2"></i>Advertencia:</strong>
                            Cancelar una tarea es irreversible. Solo cancela tareas que definitivamente no se realizar√°n.
                        </div>

                        <div class="info-box mt-3">
                            <strong><i class="bi bi-info-circle me-2"></i>Despu√©s de cerrar o cancelar:</strong>
                            Las tareas terminadas o canceladas ya no muestran botones de edici√≥n, colaboradores ni cierre. Solo podr√°s ver su detalle completo.
                        </div>
                    </div>
                </section>

                <!-- SECCI√ìN: Soluci√≥n de problemas -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-question-circle me-2"></i>
                        Soluci√≥n de problemas comunes
                    </h2>

                    <div class="step-card">
                        <h5>No veo el bot√≥n "Nueva Tarea"</h5>
                        <ul>
                            <li>Solo aparece si tienes el permiso "Gestionar tareas"</li>
                            <li>Contacta al administrador si necesitas crear tareas</li>
                        </ul>

                        <h5 class="mt-3">No veo ninguna tarea</h5>
                        <ul>
                            <li>Si no tienes permiso especial, solo ves tareas donde eres responsable o colaborador</li>
                            <li>Verifica que no tengas filtros aplicados que oculten las tareas</li>
                            <li>Haz clic en "Limpiar Filtros" para ver todas tus tareas</li>
                        </ul>

                        <h5 class="mt-3">No puedo cerrar la tarea</h5>
                        <ul>
                            <li>Debes agregar al menos una nota de progreso o contexto general</li>
                            <li>Solo el responsable principal o usuarios con permiso pueden cerrar tareas</li>
                        </ul>

                        <h5 class="mt-3">No puedo cambiar el estado de la tarea</h5>
                        <ul>
                            <li>Solo el responsable principal puede cambiar el estado</li>
                            <li>Si eres colaborador, solo puedes agregar notas de progreso</li>
                        </ul>

                        <h5 class="mt-3">No puedo agregar colaboradores</h5>
                        <ul>
                            <li>La tarea no debe estar Terminada o Cancelada</li>
                            <li>Debes ser el responsable principal o tener permiso "Gestionar tareas"</li>
                        </ul>

                        <h5 class="mt-3">El responsable no recibi√≥ el correo de notificaci√≥n</h5>
                        <ul>
                            <li>La tarea se cre√≥ correctamente aunque el correo no llegue</li>
                            <li>P√≠dele que revise su carpeta de spam</li>
                            <li>Puede ver la tarea directamente en el sistema</li>
                        </ul>

                        <h5 class="mt-3">La tarea aparece con fondo amarillo</h5>
                        <ul>
                            <li>Esto indica que la tarea est√° vencida (pas√≥ la fecha l√≠mite)</li>
                            <li>Debes atenderla lo antes posible o cerrarla/cancelarla</li>
                        </ul>
                    </div>
                </section>

                <!-- SECCI√ìN: Buenas pr√°cticas -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-award me-2"></i>
                        Buenas pr√°cticas
                    </h2>

                    <div class="step-card">
                        <ul class="feature-list">
                            <li><strong>Descripci√≥n clara:</strong> Escribe descripciones espec√≠ficas que indiquen exactamente qu√© debe hacerse</li>
                            <li><strong>Prioridad realista:</strong> No marques todas las tareas como "Alta"; usa la prioridad seg√∫n la verdadera urgencia</li>
                            <li><strong>Fechas l√≠mite alcanzables:</strong> Define fechas que el responsable pueda cumplir</li>
                            <li><strong>Documenta el progreso:</strong> Agrega notas frecuentes para mantener el historial actualizado</li>
                            <li><strong>Usa colaboradores estrat√©gicamente:</strong> Agrega solo a quienes realmente participar√°n</li>
                            <li><strong>Cierra las tareas completadas:</strong> No dejes tareas terminadas en estado "En Progreso"</li>
                            <li><strong>Revisa tus tareas vencidas:</strong> Atiende o cierra las tareas que superaron su fecha l√≠mite</li>
                            <li><strong>Contexto general √∫til:</strong> Usa el contexto general para resumir el estado actual de la tarea</li>
                        </ul>

                        <div class="success-box mt-3">
                            <strong><i class="bi bi-lightbulb me-2"></i>Consejo profesional:</strong>
                            Revisa tus tareas al inicio de cada d√≠a. Filtra por estado "Asignada" o "En Progreso" para ver qu√© tienes pendiente.
                        </div>
                    </div>
                </section>

                <!-- SECCI√ìN: Preguntas frecuentes -->
                <section>
                    <h2 class="section-title">
                        <i class="bi bi-chat-dots me-2"></i>
                        Preguntas frecuentes
                    </h2>

                    <div class="step-card">
                        <h5>¬øPuedo modificar una tarea despu√©s de crearla?</h5>
                        <p>
                            No directamente. Puedes cambiar el estado y agregar notas de progreso, pero no puedes modificar la descripci√≥n, el responsable ni la fecha l√≠mite una vez creada la tarea.
                        </p>

                        <h5 class="mt-3">¬øPuedo reasignar una tarea a otra persona?</h5>
                        <p>
                            No es posible cambiar el responsable principal. Si necesitas que otra persona la complete, considera agregar a esa persona como colaborador y coordinar directamente.
                        </p>

                        <h5 class="mt-3">¬øQu√© pasa si una tarea se vence?</h5>
                        <p>
                            La tarea se resalta con fondo amarillo y una etiqueta "VENCIDA". Sigue apareciendo normalmente y puedes seguir trabajando en ella o cerrarla.
                        </p>

                        <h5 class="mt-3">¬øPuedo eliminar una tarea?</h5>
                        <p>
                            No. Las tareas no se pueden eliminar para mantener el historial completo. Si una tarea ya no aplica, puedes cancelarla.
                        </p>

                        <h5 class="mt-3">¬øLos colaboradores reciben todas las actualizaciones?</h5>
                        <p>
                            Los colaboradores reciben notificaci√≥n solo al ser agregados a la tarea. Las actualizaciones de progreso no generan notificaciones autom√°ticas.
                        </p>

                        <h5 class="mt-3">¬øPuedo ver el historial de qui√©n agreg√≥ cada nota?</h5>
                        <p>
                            S√≠. Cada nota de progreso muestra el nombre del autor y la fecha/hora exacta en que fue agregada.
                        </p>

                        <h5 class="mt-3">¬øLas tareas de otros m√≥dulos aparecen aqu√≠?</h5>
                        <p>
                            S√≠. Las tareas creadas desde Seguimientos o Alertas Tempranas tambi√©n aparecen en Gesti√≥n de Tareas, identificadas por su m√≥dulo de origen.
                        </p>

                        <h5 class="mt-3">¬øCu√°ntos colaboradores puedo agregar?</h5>
                        <p>
                            No hay l√≠mite de colaboradores. Sin embargo, es recomendable agregar solo a quienes realmente participar√°n para evitar notificaciones innecesarias.
                        </p>

                        <h5 class="mt-3">¬øPuedo filtrar solo mis tareas?</h5>
                        <p>
                            Si no tienes el permiso "Gestionar tareas", autom√°ticamente solo ver√°s las tareas donde eres responsable o colaborador. Si tienes el permiso, puedes usar el filtro de b√∫squeda con tu nombre.
                        </p>

                        <h5 class="mt-3">¬øQu√© significa el badge con n√∫mero junto a la tarjeta?</h5>
                        <p>
                            Los badges muestran: el √≠cono de personas con un n√∫mero indica la cantidad de colaboradores, y el √≠cono de documento con n√∫mero indica la cantidad de notas de progreso registradas.
                        </p>
                    </div>
                </section>

                <!-- ========================================== -->
                <!-- FIN DEL CONTENIDO DEL MANUAL -->
                <!-- ========================================== -->

                <!-- TARJETA PARA REPORTAR BUGS -->
                <div class="bug-report-card">
                    <i class="bi bi-bug-fill icon-large"></i>
                    <h4 class="mb-3">¬øEncontraste un problema o tienes una sugerencia?</h4>
                    <p class="mb-4">
                        Si experimentaste un error, algo no funciona como esperas, o tienes 
                        una sugerencia para mejorar el sistema, rep√≥rtalo aqu√≠.
                    </p>
                    <a href="../report-bug.html" class="btn btn-light btn-lg">
                        <i class="bi bi-exclamation-triangle me-2"></i>Reportar Bug o Problema
                    </a>
                </div>

            </div>
        </div>

    </div>

    <!-- BOT√ìN FLOTANTE PARA REPORTAR BUGS -->
    <a href="../report-bug.html" class="btn btn-danger btn-lg floating-bug-button" title="Reportar Bug">
        <i class="bi bi-bug-fill me-2"></i>Reportar Bug
    </a>

    <!-- SCRIPTS - ORDEN CR√çTICO -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/js/config.js"></script>
    
    <script>
        // ==========================================
        // VARIABLES GLOBALES
        // ==========================================
        let currentUser = null;

        // ==========================================
        // CONFIGURACI√ìN DE LA P√ÅGINA
        // ==========================================
        const PAGE_CONFIG = {
            moduleName: 'Herramientas Generales',
            modulePath: 'general-tools',
            pageTitle: 'Gesti√≥n de Tareas',
            pagePath: 'tasks.html',
            moduleDescription: 'Administra y da seguimiento a las tareas asignadas'
        };

        // ==========================================
        // INICIALIZACI√ìN
        // ==========================================
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üìñ Iniciando p√°gina de manual...');
            
            try {
                // Verificar si existe la funci√≥n de colores corporativos
                if (typeof loadAndApplyBrandColors === 'function') {
                    await loadAndApplyBrandColors();
                }
                
                // Verificar sesi√≥n si la funci√≥n existe
                if (typeof getStoredSession === 'function') {
                    const session = getStoredSession();
                    if (session && session.user) {
                        currentUser = session.user;
                    }
                }
                
                // Actualizar informaci√≥n en la p√°gina
                updatePageInfo();
                
                console.log('‚úÖ P√°gina de manual lista');
                
            } catch (error) {
                console.error('‚ùå Error inicializando p√°gina:', error);
                if (typeof showMessage === 'function') {
                    showMessage('Error al cargar la p√°gina: ' + error.message, 'danger');
                }
            }
        });

        // ==========================================
        // ACTUALIZAR INFORMACI√ìN DE LA P√ÅGINA
        // ==========================================
        function updatePageInfo() {
            // Actualizar title
            document.title = `Manual - ${PAGE_CONFIG.moduleName} - ${PAGE_CONFIG.pageTitle} - SchoolNet`;
        }

        // ==========================================
        // UTILIDADES DE LOADING
        // ==========================================
        function showLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.remove('hidden');
            }
        }

        function hideLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.add('hidden');
            }
        }

        // ==========================================
        // FUNCI√ìN DE MENSAJES
        // ==========================================
        function showMessage(message, type) {
            const alertContainer = document.getElementById('alertContainer');
            if (!alertContainer) return;
            
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} alert-dismissible fade show`;
            alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            alertContainer.appendChild(alertDiv);
            
            // Auto-remove despu√©s de 5 segundos
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 5000);
        }

    </script>
</body>
</html>
