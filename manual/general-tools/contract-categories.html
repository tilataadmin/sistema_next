<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- VERSI√ìN DE LA P√ÅGINA -->
    <meta name="page-version" content="26.01.26.07.09">
    
    <title>Manual - Herramientas Generales - Categor√≠as de Contratos - SchoolNet</title>
    
    <!-- Bootstrap CSS - VERSI√ìN FIJA PROBADA -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <style>
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .loading-overlay.hidden {
            display: none;
        }
        
        .loading-content {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #007bff;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Encabezado discreto */
        .manual-header {
            background: #f8f9fa;
            border-bottom: 2px solid var(--system-primary-color, #1B365D);
            padding: 1.5rem 0;
            margin-bottom: 2rem;
        }

        .manual-header h1 {
            font-size: 1.75rem;
            color: var(--system-primary-color, #1B365D);
            margin-bottom: 0.25rem;
        }

        .manual-header .subtitle {
            color: #6c757d;
            font-size: 0.95rem;
        }

        /* Info card */
        .info-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        /* Tarjeta para reportar bugs - CON COLOR PRIMARIO */
        .bug-report-card {
            background: var(--system-primary-color, #1B365D);
            color: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .bug-report-card h5 {
            color: white;
        }

        .bug-report-card .btn-light {
            background: white;
            color: var(--system-primary-color, #1B365D);
            border: none;
            font-weight: 600;
        }

        .bug-report-card .btn-light:hover {
            background: #f8f9fa;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        /* Bot√≥n flotante para reportar bugs */
        .floating-bug-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            background: var(--system-primary-color, #dc3545) !important;
            border-color: var(--system-primary-color, #dc3545) !important;
            color: white !important;
        }

        .floating-bug-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.4);
            opacity: 0.9;
        }

        .icon-large {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        /* Estilos para el contenido del manual */
        .manual-section {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .manual-section h3 {
            color: var(--system-primary-color, #1B365D);
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--system-primary-color, #1B365D);
        }

        .manual-section h4 {
            color: var(--system-primary-color, #1B365D);
            font-size: 1.25rem;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }

        .info-box {
            background: #e7f3ff;
            border-left: 4px solid var(--system-secondary-color, #667eea);
            padding: 1rem 1.25rem;
            margin: 1.5rem 0;
            border-radius: 4px;
        }

        .info-box.warning {
            background: #fff3cd;
            border-left-color: var(--system-tertiary-color, #ffc107);
        }

        .info-box.success {
            background: #d1e7dd;
            border-left-color: #28a745;
        }

        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: var(--system-primary-color, #1B365D);
            color: white;
            border-radius: 50%;
            font-weight: bold;
            margin-right: 0.75rem;
        }

        .feature-list {
            list-style: none;
            padding-left: 0;
        }

        .feature-list li {
            padding: 0.5rem 0;
            padding-left: 2rem;
            position: relative;
        }

        .feature-list li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: var(--system-primary-color, #1B365D);
            font-weight: bold;
            font-size: 1.2rem;
        }

        .use-case {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 1rem;
            margin: 0.5rem 0;
        }

        .use-case strong {
            color: var(--system-primary-color, #1B365D);
        }

        .faq-item {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 1.25rem;
            margin-bottom: 1rem;
        }

        .faq-question {
            color: var(--system-primary-color, #1B365D);
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 0.75rem;
        }

        .faq-answer {
            color: #495057;
            line-height: 1.6;
        }

        .example-box {
            background: #f8f9fa;
            border: 1px dashed #dee2e6;
            border-radius: 6px;
            padding: 1rem;
            margin: 1rem 0;
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <p class="mb-0">Cargando...</p>
        </div>
    </div>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="container-fluid">

        <!-- ENCABEZADO DISCRETO -->
        <div class="manual-header">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h1>
                            <i class="bi bi-book me-2"></i>
                            Manual: Categor√≠as de Contratos
                        </h1>
                        <p class="subtitle mb-0">Herramientas Generales - Sistema de clasificaci√≥n para contratos generados</p>
                    </div>
                    <div class="col-md-4 text-md-end mt-3 mt-md-0">
                        <a href="../../modules/general-tools/contract-categories.html" class="btn btn-outline-primary">
                            <i class="bi bi-arrow-left me-1"></i>Volver al M√≥dulo
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONTENEDOR DE ALERTAS -->
        <div id="alertContainer"></div>

        <div class="row">
            <div class="col-lg-10 mx-auto">

                <!-- INFORMACI√ìN CONTEXTUAL -->
                <div class="info-card">
                    <div class="row align-items-center">
                        <div class="col-md-6">
                            <h6 class="text-muted mb-2">Manual de:</h6>
                            <h5 class="mb-1"><strong id="display-module">Herramientas Generales</strong></h5>
                            <p class="text-muted mb-0 small" id="display-page">Categor√≠as de Contratos</p>
                        </div>
                        <div class="col-md-6 text-md-end mt-3 mt-md-0">
                            <p class="small text-muted mb-0">
                                <i class="bi bi-info-circle me-1"></i>
                                Si tienes dudas o encuentras alg√∫n problema,<br>
                                puedes reportarlo usando el bot√≥n de abajo.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- ============================================ -->
                <!-- SECCI√ìN 1: ¬øQU√â ES? -->
                <!-- ============================================ -->
                <div class="manual-section">
                    <h3><i class="bi bi-info-circle me-2"></i>¬øQu√© son las Categor√≠as de Contratos?</h3>
                    
                    <p>
                        <strong>Categor√≠as de Contratos</strong> es un sistema de clasificaci√≥n que permite organizar y 
                        agrupar los contratos generados en el sistema seg√∫n su tipo, naturaleza o prop√≥sito.
                    </p>

                    <div class="info-box">
                        <strong><i class="bi bi-lightbulb me-2"></i>Analog√≠a:</strong>
                        Imagina que los contratos son libros en una biblioteca. Las categor√≠as son como las secciones 
                        o estanter√≠as que te ayudan a encontrarlos r√°pidamente: "Contratos Administrativos", 
                        "Contratos Pedag√≥gicos", "Contratos de Servicio", etc.
                    </div>

                    <h4>¬øPara qu√© sirven?</h4>
                    <ul class="feature-list">
                        <li><strong>Organizaci√≥n:</strong> Mantener los contratos ordenados por tipo o √°rea</li>
                        <li><strong>B√∫squeda r√°pida:</strong> Encontrar contratos espec√≠ficos m√°s f√°cilmente</li>
                        <li><strong>An√°lisis:</strong> Generar reportes por categor√≠a de contrato</li>
                        <li><strong>Control:</strong> Separar contratos de diferentes √°reas o prop√≥sitos</li>
                        <li><strong>Estandarizaci√≥n:</strong> Usar categor√≠as consistentes en toda la instituci√≥n</li>
                    </ul>

                    <div class="example-box">
                        <strong><i class="bi bi-folder me-2"></i>Ejemplos de categor√≠as comunes:</strong>
                        <ul class="mb-0 mt-2">
                            <li><strong>Administrativos:</strong> Contratos de personal administrativo</li>
                            <li><strong>Pedag√≥gicos:</strong> Contratos de docentes y coordinadores</li>
                            <li><strong>Servicios Generales:</strong> Contratos de mantenimiento, aseo, etc.</li>
                            <li><strong>Temporales:</strong> Contratos por tiempo definido o proyectos espec√≠ficos</li>
                            <li><strong>Prestaci√≥n de Servicios:</strong> Contratos por honorarios</li>
                        </ul>
                    </div>

                    <div class="info-box success">
                        <strong><i class="bi bi-check-circle me-2"></i>Importante:</strong>
                        Las categor√≠as son personalizables seg√∫n las necesidades de tu instituci√≥n. Puedes crear 
                        las que mejor se adapten a tu forma de organizar los contratos.
                    </div>
                </div>

                <!-- ============================================ -->
                <!-- SECCI√ìN 2: INTERFAZ DEL SISTEMA -->
                <!-- ============================================ -->
                <div class="manual-section">
                    <h3><i class="bi bi-layout-text-window me-2"></i>Interfaz del Sistema</h3>
                    
                    <p>La pantalla principal muestra:</p>

                    <h4>1. Tarjeta de M√©tricas</h4>
                    <p>En la parte superior encontrar√°s una tarjeta que muestra:</p>
                    <ul>
                        <li><strong>Total Categor√≠as:</strong> N√∫mero de categor√≠as activas en el sistema</li>
                    </ul>

                    <h4>2. Barra de Acciones</h4>
                    <p>Botones principales para gestionar categor√≠as:</p>
                    <ul>
                        <li><strong>Nueva Categor√≠a:</strong> Crear una nueva categor√≠a</li>
                        <li><strong>Actualizar:</strong> Recargar la lista de categor√≠as</li>
                        <li><strong>Buscador:</strong> Campo para filtrar categor√≠as por nombre o descripci√≥n</li>
                    </ul>

                    <h4>3. Tabla de Categor√≠as</h4>
                    <p>Tabla con todas las categor√≠as registradas, mostrando:</p>
                    <ul>
                        <li><strong>Nombre:</strong> Identificaci√≥n de la categor√≠a</li>
                        <li><strong>Descripci√≥n:</strong> Detalle opcional de para qu√© sirve</li>
                        <li><strong>Estado:</strong> Activa o Inactiva</li>
                        <li><strong>Acciones:</strong> Botones para editar o eliminar</li>
                    </ul>

                    <div class="info-box">
                        <strong><i class="bi bi-eye me-2"></i>Estado de las categor√≠as:</strong>
                        <ul class="mb-0 mt-2">
                            <li><strong class="text-success">Activa:</strong> Categor√≠a disponible para asignar a contratos</li>
                            <li><strong class="text-secondary">Inactiva:</strong> Categor√≠a oculta, no se puede asignar a nuevos contratos</li>
                        </ul>
                    </div>
                </div>

                <!-- ============================================ -->
                <!-- SECCI√ìN 3: C√ìMO USAR EL SISTEMA -->
                <!-- ============================================ -->
                <div class="manual-section">
                    <h3><i class="bi bi-gear me-2"></i>C√≥mo Usar el Sistema</h3>

                    <h4>A. Crear una Nueva Categor√≠a</h4>
                    <ol>
                        <li><span class="step-number">1</span>Haz clic en el bot√≥n <strong>"Nueva Categor√≠a"</strong></li>
                        <li><span class="step-number">2</span>Se abrir√° un formulario modal con dos campos:
                            <ul class="mt-2">
                                <li><strong>Nombre de la Categor√≠a</strong> (obligatorio)
                                    <ul>
                                        <li>Debe ser √∫nico (no puede haber dos categor√≠as activas con el mismo nombre)</li>
                                        <li>M√°ximo 100 caracteres</li>
                                        <li>Ejemplo: "Contratos Administrativos"</li>
                                    </ul>
                                </li>
                                <li><strong>Descripci√≥n</strong> (opcional)
                                    <ul>
                                        <li>Texto descriptivo sobre el prop√≥sito de la categor√≠a</li>
                                        <li>M√°ximo 500 caracteres</li>
                                        <li>Ejemplo: "Contratos de personal del √°rea administrativa y de apoyo"</li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li><span class="step-number">3</span>Completa los campos requeridos</li>
                        <li><span class="step-number">4</span>Haz clic en <strong>"Guardar"</strong></li>
                        <li><span class="step-number">5</span>El sistema confirmar√° que la categor√≠a fue creada exitosamente</li>
                    </ol>

                    <div class="info-box success">
                        <strong><i class="bi bi-check-circle me-2"></i>Tip:</strong>
                        Usa nombres claros y concisos. Evita abreviaciones confusas. Si el nombre no es suficiente 
                        para explicar la categor√≠a, usa el campo de descripci√≥n.
                    </div>

                    <h4>B. Editar una Categor√≠a Existente</h4>
                    <ol>
                        <li><span class="step-number">1</span>Localiza la categor√≠a en la tabla</li>
                        <li><span class="step-number">2</span>Haz clic en el bot√≥n de <strong>editar</strong> (√≠cono de l√°piz) en la columna "Acciones"</li>
                        <li><span class="step-number">3</span>Se abrir√° el formulario con los datos actuales</li>
                        <li><span class="step-number">4</span>Modifica los campos que necesites cambiar</li>
                        <li><span class="step-number">5</span>Haz clic en <strong>"Guardar"</strong></li>
                    </ol>

                    <div class="info-box warning">
                        <strong><i class="bi bi-exclamation-triangle me-2"></i>Importante al editar:</strong>
                        Si cambias el nombre de una categor√≠a que ya tiene contratos asociados, los contratos 
                        existentes mantendr√°n la referencia a la categor√≠a, pero ahora mostrar√°n el nuevo nombre.
                    </div>

                    <h4>C. Eliminar una Categor√≠a</h4>
                    <ol>
                        <li><span class="step-number">1</span>Localiza la categor√≠a en la tabla</li>
                        <li><span class="step-number">2</span>Haz clic en el bot√≥n de <strong>eliminar</strong> (√≠cono de papelera) en la columna "Acciones"</li>
                        <li><span class="step-number">3</span>El sistema mostrar√° una confirmaci√≥n:
                            <ul class="mt-2">
                                <li><strong>Si la categor√≠a tiene contratos asociados:</strong> No se puede eliminar y ver√°s un mensaje de advertencia</li>
                                <li><strong>Si la categor√≠a no tiene contratos:</strong> Se pedir√° confirmaci√≥n para eliminar</li>
                            </ul>
                        </li>
                        <li><span class="step-number">4</span>Confirma la eliminaci√≥n</li>
                        <li><span class="step-number">5</span>La categor√≠a cambiar√° a estado "Inactiva" (no se elimina f√≠sicamente)</li>
                    </ol>

                    <div class="info-box">
                        <strong><i class="bi bi-shield-check me-2"></i>Eliminaci√≥n segura:</strong>
                        El sistema usa "eliminaci√≥n suave" (soft delete). Esto significa que las categor√≠as no se borran 
                        f√≠sicamente de la base de datos, solo se marcan como inactivas. Esto protege la integridad de 
                        los datos hist√≥ricos.
                    </div>

                    <h4>D. Buscar Categor√≠as</h4>
                    <ol>
                        <li><span class="step-number">1</span>Usa el campo de b√∫squeda en la parte superior derecha</li>
                        <li><span class="step-number">2</span>Escribe cualquier texto (nombre o descripci√≥n)</li>
                        <li><span class="step-number">3</span>La tabla se filtrar√° autom√°ticamente mientras escribes</li>
                        <li><span class="step-number">4</span>Para ver todas las categor√≠as nuevamente, borra el texto del buscador</li>
                    </ol>

                    <div class="info-box success">
                        <strong><i class="bi bi-search me-2"></i>B√∫squeda inteligente:</strong>
                        El buscador funciona tanto para nombres como para descripciones, y no distingue entre 
                        may√∫sculas y min√∫sculas.
                    </div>
                </div>

                <!-- ============================================ -->
                <!-- SECCI√ìN 4: CASOS DE USO -->
                <!-- ============================================ -->
                <div class="manual-section">
                    <h3><i class="bi bi-journal-check me-2"></i>Casos de Uso Comunes</h3>

                    <div class="use-case">
                        <strong>Caso 1: "Necesito organizar los contratos por √°reas de la instituci√≥n"</strong>
                        <p class="mb-1 mt-2">Soluci√≥n:</p>
                        <ol class="mb-0">
                            <li>Crea una categor√≠a por cada √°rea: "Acad√©mico", "Administrativo", "Servicios Generales", "Directivo"</li>
                            <li>En el campo descripci√≥n, especifica qu√© tipos de contratos va en cada categor√≠a</li>
                            <li>Al generar contratos, asigna la categor√≠a correspondiente seg√∫n el √°rea del empleado</li>
                        </ol>
                    </div>

                    <div class="use-case">
                        <strong>Caso 2: "Quiero diferenciar contratos por duraci√≥n"</strong>
                        <p class="mb-1 mt-2">Soluci√≥n:</p>
                        <ol class="mb-0">
                            <li>Crea categor√≠as como: "Indefinidos", "Temporales", "Por Proyecto"</li>
                            <li>Esto te permitir√° generar reportes de cu√°ntos contratos temporales tienes</li>
                            <li>Facilita la renovaci√≥n de contratos temporales al tenerlos agrupados</li>
                        </ol>
                    </div>

                    <div class="use-case">
                        <strong>Caso 3: "Cambi√© de nombre una categor√≠a pero me equivoqu√©"</strong>
                        <p class="mb-1 mt-2">Soluci√≥n:</p>
                        <ol class="mb-0">
                            <li>Vuelve a editar la categor√≠a haciendo clic en el √≠cono de l√°piz</li>
                            <li>Corrige el nombre al correcto</li>
                            <li>Guarda los cambios</li>
                            <li>Los contratos asociados se actualizar√°n autom√°ticamente con el nuevo nombre</li>
                        </ol>
                    </div>

                    <div class="use-case">
                        <strong>Caso 4: "Tengo una categor√≠a que ya no uso pero tiene contratos asociados"</strong>
                        <p class="mb-1 mt-2">Soluci√≥n:</p>
                        <ol class="mb-0">
                            <li>No puedes eliminarla porque tiene contratos (protecci√≥n de datos)</li>
                            <li>Opci√≥n 1: D√©jala como est√°, simplemente no la uses para nuevos contratos</li>
                            <li>Opci√≥n 2: Edita su nombre agregando "(Obsoleta)" o "(No usar)" al final</li>
                            <li>Los contratos existentes mantendr√°n su v√≠nculo hist√≥rico con la categor√≠a</li>
                        </ol>
                    </div>

                    <div class="use-case">
                        <strong>Caso 5: "No encuentro una categor√≠a en la lista"</strong>
                        <p class="mb-1 mt-2">Soluci√≥n:</p>
                        <ol class="mb-0">
                            <li>Usa el buscador en la parte superior derecha</li>
                            <li>Escribe parte del nombre o la descripci√≥n</li>
                            <li>Si a√∫n no aparece, verifica si fue eliminada (aparecer√° como "Inactiva")</li>
                            <li>Si necesitas reactivarla, contacta al administrador del sistema</li>
                        </ol>
                    </div>

                    <div class="use-case">
                        <strong>Caso 6: "Quiero tener las mismas categor√≠as que otra instituci√≥n"</strong>
                        <p class="mb-1 mt-2">Soluci√≥n:</p>
                        <ol class="mb-0">
                            <li>Solicita a la otra instituci√≥n la lista de sus categor√≠as</li>
                            <li>Crea cada categor√≠a una por una usando el bot√≥n "Nueva Categor√≠a"</li>
                            <li>Copia exactamente los nombres y descripciones</li>
                            <li>Considera si todas son relevantes para tu instituci√≥n antes de crearlas</li>
                        </ol>
                    </div>
                </div>

                <!-- ============================================ -->
                <!-- SECCI√ìN 5: PREGUNTAS FRECUENTES -->
                <!-- ============================================ -->
                <div class="manual-section">
                    <h3><i class="bi bi-question-circle me-2"></i>Preguntas Frecuentes</h3>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-question-circle-fill me-2"></i>
                            ¬øCu√°ntas categor√≠as puedo crear?
                        </div>
                        <div class="faq-answer">
                            No hay un l√≠mite t√©cnico, pero se recomienda mantener un n√∫mero razonable (entre 5 y 15 categor√≠as) 
                            para que el sistema sea manejable. Demasiadas categor√≠as pueden hacer confusa la selecci√≥n al 
                            generar contratos.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-question-circle-fill me-2"></i>
                            ¬øQu√© pasa si elimino una categor√≠a que tiene contratos asociados?
                        </div>
                        <div class="faq-answer">
                            El sistema no te permitir√° eliminarla. Ver√°s un mensaje: "No se puede eliminar la categor√≠a porque 
                            tiene contratos asociados". Esto protege la integridad de los datos hist√≥ricos. Los contratos siempre 
                            deben mantener su categor√≠a original.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-question-circle-fill me-2"></i>
                            ¬øPuedo tener dos categor√≠as con el mismo nombre?
                        </div>
                        <div class="faq-answer">
                            No. El sistema valida que los nombres sean √∫nicos entre categor√≠as activas. Si intentas crear o editar 
                            una categor√≠a con un nombre que ya existe, ver√°s el mensaje: "Ya existe una categor√≠a con ese nombre".
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-question-circle-fill me-2"></i>
                            ¬øQu√© diferencia hay entre eliminar y que est√© "Inactiva"?
                        </div>
                        <div class="faq-answer">
                            Son lo mismo en este sistema. Cuando "eliminas" una categor√≠a, el sistema la marca como "Inactiva" 
                            en lugar de borrarla f√≠sicamente. Esto se llama "eliminaci√≥n suave" (soft delete) y es una pr√°ctica 
                            est√°ndar para proteger datos hist√≥ricos.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-question-circle-fill me-2"></i>
                            ¬øEl campo descripci√≥n es obligatorio?
                        </div>
                        <div class="faq-answer">
                            No, es opcional. Sin embargo, se recomienda usarlo para documentar el prop√≥sito de cada categor√≠a, 
                            especialmente si varias personas van a generar contratos y necesitan entender cu√°ndo usar cada categor√≠a.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-question-circle-fill me-2"></i>
                            ¬øPuedo cambiar el nombre de una categor√≠a despu√©s de crear contratos con ella?
                        </div>
                        <div class="faq-answer">
                            S√≠, puedes editarla sin problemas. Los contratos existentes actualizar√°n autom√°ticamente su referencia 
                            al nuevo nombre. Esto es √∫til si quieres estandarizar nombres o corregir errores ortogr√°ficos.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-question-circle-fill me-2"></i>
                            ¬øQui√©n puede crear o eliminar categor√≠as?
                        </div>
                        <div class="faq-answer">
                            Solo usuarios con el permiso espec√≠fico "Gestionar categor√≠as de contratos" pueden acceder a esta 
                            funcionalidad. Normalmente son directivos, administradores o personal de recursos humanos autorizado.
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-question-circle-fill me-2"></i>
                            Si accidentalmente elimino una categor√≠a, ¬øse puede recuperar?
                        </div>
                        <div class="faq-answer">
                            S√≠, porque el sistema usa eliminaci√≥n suave. La categor√≠a seguir√° en la base de datos marcada como 
                            inactiva. Para recuperarla, necesitar√°s ayuda del administrador del sistema, quien puede cambiar 
                            manualmente su estado de vuelta a "activa".
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <i class="bi bi-question-circle-fill me-2"></i>
                            ¬øCu√°l es el mejor momento para crear las categor√≠as?
                        </div>
                        <div class="faq-answer">
                            Lo ideal es crearlas antes de empezar a generar contratos. Dise√±a primero tu esquema de categorizaci√≥n 
                            (consulta con RRHH y direcci√≥n) y luego cr√©alas todas de una vez. Esto evita tener que reorganizar 
                            contratos despu√©s.
                        </div>
                    </div>
                </div>

                <!-- ============================================ -->
                <!-- SECCI√ìN 6: BUENAS PR√ÅCTICAS -->
                <!-- ============================================ -->
                <div class="manual-section">
                    <h3><i class="bi bi-lightbulb me-2"></i>Buenas Pr√°cticas y Recomendaciones</h3>

                    <div class="info-box success">
                        <strong><i class="bi bi-bookmark-check me-2"></i>Nomenclatura consistente:</strong>
                        <ul class="mb-0 mt-2">
                            <li>Usa may√∫sculas solo al inicio de cada palabra</li>
                            <li>Evita abreviaciones no est√°ndar</li>
                            <li>S√© descriptivo pero conciso</li>
                            <li><strong>Bien:</strong> "Contratos Pedag√≥gicos", "Personal Administrativo"</li>
                            <li><strong>Evitar:</strong> "Ctrs Pedag", "PERSONAL ADMIN"</li>
                        </ul>
                    </div>

                    <div class="info-box">
                        <strong><i class="bi bi-diagram-3 me-2"></i>Planificaci√≥n previa:</strong>
                        <ul class="mb-0 mt-2">
                            <li>Re√∫nete con RRHH y direcci√≥n para definir el esquema de categor√≠as</li>
                            <li>Analiza c√≥mo se organizan actualmente los contratos</li>
                            <li>Considera las necesidades de reportes futuros</li>
                            <li>Documenta la definici√≥n de cada categor√≠a antes de crearla</li>
                        </ul>
                    </div>

                    <div class="info-box warning">
                        <strong><i class="bi bi-exclamation-triangle me-2"></i>Evitar redundancia:</strong>
                        <ul class="mb-0 mt-2">
                            <li>No crees categor√≠as que se traslapen conceptualmente</li>
                            <li><strong>Mal ejemplo:</strong> Tener "Docentes" y "Profesores" (es lo mismo)</li>
                            <li>Si una categor√≠a es muy espec√≠fica, considera si realmente necesitas ese nivel de detalle</li>
                            <li>Menos categor√≠as bien definidas > Muchas categor√≠as confusas</li>
                        </ul>
                    </div>

                    <div class="info-box success">
                        <strong><i class="bi bi-journal-text me-2"></i>Documentaci√≥n en descripciones:</strong>
                        <ul class="mb-0 mt-2">
                            <li>Usa el campo descripci√≥n para clarificar casos l√≠mite</li>
                            <li>Ejemplo: En "Temporales" especificar "Contratos con fecha de finalizaci√≥n definida"</li>
                            <li>Esto reduce confusi√≥n cuando diferentes personas generan contratos</li>
                        </ul>
                    </div>

                    <div class="info-box">
                        <strong><i class="bi bi-arrow-repeat me-2"></i>Revisi√≥n peri√≥dica:</strong>
                        <ul class="mb-0 mt-2">
                            <li>Revisa anualmente si las categor√≠as siguen siendo relevantes</li>
                            <li>Identifica categor√≠as en desuso y m√°rcalas claramente</li>
                            <li>Ajusta nombres si la terminolog√≠a institucional cambia</li>
                            <li>Mant√©n el sistema actualizado con la realidad institucional</li>
                        </ul>
                    </div>
                </div>

                <!-- ============================================ -->
                <!-- SECCI√ìN 7: CONSEJOS PARA DIRECTIVOS -->
                <!-- ============================================ -->
                <div class="manual-section">
                    <h3><i class="bi bi-award me-2"></i>Consejos Estrat√©gicos para Directivos</h3>

                    <div class="info-box success">
                        <strong><i class="bi bi-briefcase me-2"></i>Alineaci√≥n con estructura organizacional:</strong>
                        <p class="mb-0">
                            Dise√±a tus categor√≠as de contratos para que reflejen tu estructura organizacional. 
                            Si tienes divisiones o √°reas claramente definidas, considera crear categor√≠as que las representen. 
                            Esto facilitar√° reportes y an√°lisis posteriores.
                        </p>
                    </div>

                    <div class="info-box">
                        <strong><i class="bi bi-graph-up me-2"></i>Preparaci√≥n para reportes:</strong>
                        <p class="mb-0">
                            Piensa en qu√© tipo de reportes necesitar√°s en el futuro. Si necesitas saber cu√°ntos contratos 
                            pedag√≥gicos tienes vs. administrativos, aseg√∫rate de tener categor√≠as que te permitan hacer 
                            esa distinci√≥n f√°cilmente.
                        </p>
                    </div>

                    <div class="info-box warning">
                        <strong><i class="bi bi-people me-2"></i>Capacitaci√≥n del equipo:</strong>
                        <p class="mb-0">
                            Una vez definidas las categor√≠as, capacita a todo el personal que generar√° contratos sobre 
                            cu√°ndo usar cada categor√≠a. La consistencia en la clasificaci√≥n es clave para an√°lisis 
                            posteriores significativos.
                        </p>
                    </div>

                    <div class="info-box success">
                        <strong><i class="bi bi-shield-check me-2"></i>Control de acceso:</strong>
                        <p class="mb-0">
                            Limita qui√©n puede crear o eliminar categor√≠as. Demasiadas personas con este permiso pueden 
                            llevar a un sistema desorganizado. Idealmente, solo RRHH o direcci√≥n deber√≠an gestionar categor√≠as.
                        </p>
                    </div>
                </div>

                <!-- TARJETA PARA REPORTAR BUGS -->
                <div class="bug-report-card">
                    <i class="bi bi-bug-fill icon-large"></i>
                    <h4 class="mb-3">¬øEncontraste un problema o tienes una sugerencia?</h4>
                    <p class="mb-4">
                        Si experimentaste un error, algo no funciona como esperas, o tienes 
                        una sugerencia para mejorar el sistema, rep√≥rtalo aqu√≠.
                    </p>
                    <a href="../report-bug.html" class="btn btn-light btn-lg">
                        <i class="bi bi-exclamation-triangle me-2"></i>Reportar Bug o Problema
                    </a>
                </div>

            </div>
        </div>

    </div>

    <!-- BOT√ìN FLOTANTE PARA REPORTAR BUGS -->
    <a href="../report-bug.html" class="btn btn-danger btn-lg floating-bug-button" title="Reportar Bug">
        <i class="bi bi-bug-fill me-2"></i>Reportar Bug
    </a>

    <!-- SCRIPTS - ORDEN CR√çTICO -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/js/config.js"></script>
    
    <script>
        // ==========================================
        // VARIABLES GLOBALES
        // ==========================================
        let currentUser = null;

        // ==========================================
        // CONFIGURACI√ìN DE LA P√ÅGINA
        // ==========================================
        const PAGE_CONFIG = {
            moduleName: 'Herramientas Generales',
            modulePath: 'general-tools',
            pageTitle: 'Categor√≠as de Contratos',
            pagePath: 'contract-categories.html',
            moduleDescription: 'Sistema de clasificaci√≥n para contratos generados'
        };

        // ==========================================
        // INICIALIZACI√ìN
        // ==========================================
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üìñ Iniciando p√°gina de manual...');
            
            try {
                // Verificar si existe la funci√≥n de colores corporativos
                if (typeof loadAndApplyBrandColors === 'function') {
                    await loadAndApplyBrandColors();
                }
                
                // Verificar sesi√≥n si la funci√≥n existe
                if (typeof getStoredSession === 'function') {
                    const session = getStoredSession();
                    if (session && session.user) {
                        currentUser = session.user;
                    }
                }
                
                // Actualizar informaci√≥n en la p√°gina
                updatePageInfo();
                
                console.log('‚úÖ P√°gina de manual lista');
                
            } catch (error) {
                console.error('‚ùå Error inicializando p√°gina:', error);
                if (typeof showMessage === 'function') {
                    showMessage('Error al cargar la p√°gina: ' + error.message, 'danger');
                }
            }
        });

        // ==========================================
        // ACTUALIZAR INFORMACI√ìN DE LA P√ÅGINA
        // ==========================================
        function updatePageInfo() {
            // Actualizar title
            document.title = `Manual - ${PAGE_CONFIG.moduleName} - ${PAGE_CONFIG.pageTitle} - SchoolNet`;
        }

        // ==========================================
        // UTILIDADES DE LOADING
        // ==========================================
        function showLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.remove('hidden');
            }
        }

        function hideLoading() {
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.add('hidden');
            }
        }

        // ==========================================
        // FUNCI√ìN DE MENSAJES
        // ==========================================
        function showMessage(message, type) {
            const alertContainer = document.getElementById('alertContainer');
            if (!alertContainer) return;
            
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} alert-dismissible fade show`;
            alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            alertContainer.appendChild(alertDiv);
            
            // Auto-remove despu√©s de 5 segundos
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 5000);
        }

    </script>
</body>
</html>
