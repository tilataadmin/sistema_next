<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- VERSI√ìN DE LA P√ÅGINA -->
    <meta name="page-version" content="25.11.27.15.30">
    
    <title>Manual - Presupuesto - Vista de Informes - SchoolNet</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <style>
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .loading-overlay.hidden {
            display: none;
        }
        
        .loading-content {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            text-align: center;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #007bff;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Encabezado discreto */
        .manual-header {
            background: #f8f9fa;
            border-bottom: 2px solid var(--system-primary-color, #1B365D);
            padding: 1.5rem 0;
            margin-bottom: 2rem;
        }

        .manual-header h1 {
            font-size: 1.75rem;
            color: var(--system-primary-color, #1B365D);
            margin-bottom: 0.25rem;
        }

        .manual-header .subtitle {
            color: #6c757d;
            font-size: 0.95rem;
        }

        /* Contenido del manual */
        .manual-content {
            max-width: 900px;
            margin: 0 auto;
        }

        .manual-section {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .manual-section h2 {
            color: var(--system-primary-color, #1B365D);
            font-size: 1.25rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #e9ecef;
        }

        .manual-section h3 {
            color: #495057;
            font-size: 1.1rem;
            margin-top: 1.25rem;
            margin-bottom: 0.75rem;
        }

        /* Cajas de informaci√≥n */
        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #0d6efd;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .success-box {
            background: #d1e7dd;
            border-left: 4px solid #198754;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .danger-box {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        /* Pasos numerados */
        .step {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            align-items: flex-start;
        }

        .step-number {
            background: var(--system-primary-color, #1B365D);
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .step-content h4 {
            font-size: 1rem;
            margin-bottom: 0.5rem;
            color: #212529;
        }

        /* Lista de caracter√≠sticas */
        .feature-list {
            list-style: none;
            padding: 0;
        }

        .feature-list li {
            padding: 0.5rem 0;
            padding-left: 1.75rem;
            position: relative;
        }

        .feature-list li::before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #198754;
            font-weight: bold;
        }

        /* Tabla de referencia */
        .reference-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        .reference-table th,
        .reference-table td {
            padding: 0.75rem;
            border: 1px solid #dee2e6;
            text-align: left;
        }

        .reference-table th {
            background: #f8f9fa;
            font-weight: 600;
        }

        .reference-table tr:hover {
            background: #f8f9fa;
        }

        /* Tarjeta para reportar bugs */
        .bug-report-card {
            background: var(--system-secondary-color, #667eea);
            color: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .bug-report-card h5 {
            color: white;
        }

        /* Bot√≥n flotante para reportar bugs */
        .floating-bug-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            background: var(--system-primary-color, #dc3545) !important;
            border-color: var(--system-primary-color, #dc3545) !important;
        }

        .floating-bug-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.4);
            opacity: 0.9;
        }

        /* Ejemplo visual de reporte */
        .report-example {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            font-size: 0.9rem;
        }

        .report-example-header {
            background: var(--system-primary-color, #1B365D);
            color: white;
            padding: 0.75rem 1rem;
            border-radius: 4px 4px 0 0;
            margin: -1rem -1rem 1rem -1rem;
        }

        .report-row {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid #e9ecef;
        }

        .report-row:last-child {
            border-bottom: none;
        }

        .report-row.level-1 {
            font-weight: bold;
            background: #e3f2fd;
            padding: 0.5rem;
            margin: 0 -1rem;
            padding-left: 1rem;
            padding-right: 1rem;
        }

        .report-row.level-2 {
            padding-left: 1.5rem;
        }

        .report-row.total {
            font-weight: bold;
            background: var(--system-primary-color, #1B365D);
            color: white;
            padding: 0.75rem 1rem;
            margin: 0.5rem -1rem -1rem -1rem;
            border-radius: 0 0 4px 4px;
        }

        .value-positive { color: #198754; }
        .value-negative { color: #dc3545; }

        .icon-large {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        /* FAQ */
        .faq-item {
            border-bottom: 1px solid #e9ecef;
            padding: 1rem 0;
        }

        .faq-item:last-child {
            border-bottom: none;
        }

        .faq-question {
            font-weight: 600;
            color: var(--system-primary-color, #1B365D);
            margin-bottom: 0.5rem;
        }

        .faq-answer {
            color: #495057;
        }

        /* Indicadores visuales */
        .indicator-example {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            font-size: 0.85rem;
            margin: 0.25rem;
        }

        .indicator-green {
            background: #d1e7dd;
            color: #0f5132;
        }

        .indicator-yellow {
            background: #fff3cd;
            color: #664d03;
        }

        .indicator-red {
            background: #f8d7da;
            color: #842029;
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <p class="mb-0">Cargando...</p>
        </div>
    </div>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="container-fluid">

        <!-- ENCABEZADO -->
        <div class="manual-header">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h1>
                            <i class="bi bi-book me-2"></i>
                            Manual: Vista de Informes
                        </h1>
                        <p class="subtitle mb-0">M√≥dulo de Presupuesto - Visualizaci√≥n y exportaci√≥n de reportes presupuestales</p>
                    </div>
                    <div class="col-md-4 text-md-end mt-3 mt-md-0">
                        <a href="../../modules/budget/report-view.html" class="btn btn-outline-primary">
                            <i class="bi bi-arrow-left me-1"></i>Volver al M√≥dulo
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONTENEDOR DE ALERTAS -->
        <div id="alertContainer"></div>

        <!-- CONTENIDO DEL MANUAL -->
        <div class="manual-content">

            <!-- ¬øQU√â ES? -->
            <div class="manual-section">
                <h2><i class="bi bi-question-circle me-2"></i>¬øQu√© es la Vista de Informes?</h2>
                
                <p>
                    La <strong>Vista de Informes</strong> le permite consultar los reportes presupuestales 
                    previamente dise√±ados, visualizando los valores <strong>aprobados</strong>, <strong>ejecutados</strong> 
                    y <strong>disponibles</strong> de cada √≠tem para un a√±o acad√©mico espec√≠fico.
                </p>

                <div class="info-box">
                    <strong><i class="bi bi-lightbulb me-2"></i>¬øPara qu√© sirve?</strong><br>
                    Permite analizar la ejecuci√≥n presupuestal de forma organizada, comparar lo planeado 
                    versus lo ejecutado, y exportar los resultados para presentaciones o an√°lisis externos.
                </div>

                <h3>Caracter√≠sticas principales</h3>
                <ul class="feature-list">
                    <li>Consultar cualquier reporte activo del sistema</li>
                    <li>Filtrar por a√±o acad√©mico</li>
                    <li>Ver resumen ejecutivo con totales generales</li>
                    <li>Expandir o colapsar secciones para ver el detalle</li>
                    <li>Alternar entre vista completa y resumida</li>
                    <li>Exportar a PDF o Excel (CSV)</li>
                    <li>Imprimir directamente desde el navegador</li>
                </ul>
            </div>

            <!-- ELEMENTOS DE LA PANTALLA -->
            <div class="manual-section">
                <h2><i class="bi bi-layout-text-window me-2"></i>Elementos de la Pantalla</h2>

                <h3>Barra de filtros</h3>
                <p>En la parte superior encontrar√° los controles para configurar qu√© desea ver:</p>
                
                <table class="reference-table">
                    <thead>
                        <tr>
                            <th>Control</th>
                            <th>Descripci√≥n</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Reporte</strong></td>
                            <td>Seleccione cu√°l de los reportes dise√±ados desea visualizar</td>
                        </tr>
                        <tr>
                            <td><strong>A√±o Acad√©mico</strong></td>
                            <td>Elija el per√≠odo para el cual desea ver los datos. El a√±o actual aparece preseleccionado</td>
                        </tr>
                        <tr>
                            <td><strong>Vista</strong></td>
                            <td>
                                <strong>Completa:</strong> Muestra secciones y l√≠neas de detalle<br>
                                <strong>Resumida:</strong> Solo muestra las secciones principales
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Generar</strong></td>
                            <td>Procesa los datos y muestra el reporte</td>
                        </tr>
                        <tr>
                            <td><strong>Exportar</strong></td>
                            <td>Opciones para descargar en PDF, Excel o imprimir</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Resumen Ejecutivo</h3>
                <p>Cuatro tarjetas que muestran los totales generales del reporte:</p>
                
                <table class="reference-table">
                    <thead>
                        <tr>
                            <th>Tarjeta</th>
                            <th>Significado</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Total Aprobado</strong></td>
                            <td>Suma total del presupuesto aprobado para los √≠tems incluidos</td>
                        </tr>
                        <tr>
                            <td><strong>Total Ejecutado</strong></td>
                            <td>Suma total de lo que ya se ha gastado o recibido</td>
                        </tr>
                        <tr>
                            <td><strong>Disponible</strong></td>
                            <td>Diferencia entre aprobado y ejecutado (lo que queda)</td>
                        </tr>
                        <tr>
                            <td><strong>% Ejecuci√≥n</strong></td>
                            <td>Porcentaje de avance (ejecutado √∑ aprobado √ó 100)</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Tabla del Reporte</h3>
                <p>El cuerpo principal muestra la estructura jer√°rquica con los siguientes datos por fila:</p>
                
                <table class="reference-table">
                    <thead>
                        <tr>
                            <th>Columna</th>
                            <th>Descripci√≥n</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Concepto</strong></td>
                            <td>Nombre de la secci√≥n o l√≠nea. Use ‚ñº para expandir/colapsar</td>
                        </tr>
                        <tr>
                            <td><strong>Aprobado</strong></td>
                            <td>Valor presupuestado para ese concepto</td>
                        </tr>
                        <tr>
                            <td><strong>Ejecutado</strong></td>
                            <td>Valor realmente gastado o recibido</td>
                        </tr>
                        <tr>
                            <td><strong>Disponible</strong></td>
                            <td>Lo que queda por ejecutar. <span class="value-positive">Verde</span> si es positivo, <span class="value-negative">rojo</span> si es negativo</td>
                        </tr>
                        <tr>
                            <td><strong>% Ejecuci√≥n</strong></td>
                            <td>Porcentaje de avance con barra de progreso visual</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Indicadores de color en % Ejecuci√≥n</h3>
                <p>La barra de progreso cambia de color seg√∫n el nivel de ejecuci√≥n:</p>
                
                <div>
                    <span class="indicator-example indicator-green">
                        <i class="bi bi-check-circle"></i> 0% - 80%: Normal
                    </span>
                    <span class="indicator-example indicator-yellow">
                        <i class="bi bi-exclamation-circle"></i> 80% - 100%: Atenci√≥n
                    </span>
                    <span class="indicator-example indicator-red">
                        <i class="bi bi-x-circle"></i> &gt;100%: Sobreejecuci√≥n
                    </span>
                </div>
            </div>

            <!-- GU√çA PASO A PASO -->
            <div class="manual-section">
                <h2><i class="bi bi-list-ol me-2"></i>Gu√≠a Paso a Paso</h2>

                <h3>Consultar un reporte</h3>

                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h4>Acceda al m√≥dulo</h4>
                        <p>
                            Desde el Dashboard, ingrese al m√≥dulo de <strong>Presupuesto</strong> y seleccione 
                            <strong>Vista de Informes</strong>.
                        </p>
                    </div>
                </div>

                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h4>Seleccione el reporte</h4>
                        <p>
                            En el campo <strong>"Reporte"</strong>, elija cu√°l de los informes disponibles 
                            desea consultar (ej: "Estado de Resultados Presupuestal").
                        </p>
                    </div>
                </div>

                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h4>Seleccione el a√±o acad√©mico</h4>
                        <p>
                            Elija el per√≠odo que desea analizar. El a√±o acad√©mico actual aparece 
                            preseleccionado y marcado como "(Actual)".
                        </p>
                    </div>
                </div>

                <div class="step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h4>Genere el reporte</h4>
                        <p>
                            Haga clic en el bot√≥n <strong>"Generar"</strong>. El sistema calcular√° 
                            los valores y mostrar√° el reporte completo.
                        </p>
                    </div>
                </div>

                <div class="step">
                    <div class="step-number">5</div>
                    <div class="step-content">
                        <h4>Explore los datos</h4>
                        <p>
                            Use los iconos <strong>‚ñº</strong> junto a cada secci√≥n para expandir o 
                            colapsar el detalle. Tambi√©n puede hacer clic en "Concepto" en el encabezado 
                            para expandir/colapsar todo de una vez.
                        </p>
                    </div>
                </div>

                <h3>Exportar el reporte</h3>

                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h4>Genere el reporte primero</h4>
                        <p>
                            Aseg√∫rese de haber generado el reporte con los filtros deseados antes de exportar.
                        </p>
                    </div>
                </div>

                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h4>Seleccione el formato de exportaci√≥n</h4>
                        <p>
                            Haga clic en el bot√≥n verde de descarga y elija:
                        </p>
                        <ul>
                            <li><strong>Exportar PDF:</strong> Genera un archivo PDF con el reporte visual</li>
                            <li><strong>Exportar Excel:</strong> Genera un archivo CSV compatible con Excel</li>
                            <li><strong>Imprimir:</strong> Abre el di√°logo de impresi√≥n del navegador</li>
                        </ul>
                    </div>
                </div>

                <div class="info-box">
                    <strong><i class="bi bi-lightbulb me-2"></i>Tip:</strong> 
                    El archivo exportado incluir√° el nombre del reporte y la fecha en el nombre del archivo, 
                    por ejemplo: <code>Estado_de_Resultados_2025-11-27.pdf</code>
                </div>
            </div>

            <!-- EJEMPLO VISUAL -->
            <div class="manual-section">
                <h2><i class="bi bi-file-earmark-bar-graph me-2"></i>Ejemplo Visual</h2>

                <p>As√≠ se ve un reporte t√≠pico de Estado de Resultados:</p>

                <div class="report-example">
                    <div class="report-example-header">
                        <strong>Estado de Resultados Presupuestal</strong><br>
                        <small>A√±o Acad√©mico: 2025 | Generado: 27 de noviembre de 2025</small>
                    </div>
                    
                    <div class="report-row level-1">
                        <span>‚ñº INGRESOS</span>
                        <span>$500.000.000</span>
                    </div>
                    <div class="report-row level-2">
                        <span>Matr√≠culas</span>
                        <span>$300.000.000</span>
                    </div>
                    <div class="report-row level-2">
                        <span>Pensiones</span>
                        <span>$180.000.000</span>
                    </div>
                    <div class="report-row level-2">
                        <span>Otros ingresos</span>
                        <span>$20.000.000</span>
                    </div>
                    
                    <div class="report-row level-1">
                        <span>‚ñº GASTOS</span>
                        <span>$420.000.000</span>
                    </div>
                    <div class="report-row level-2">
                        <span>N√≥mina</span>
                        <span>$280.000.000</span>
                    </div>
                    <div class="report-row level-2">
                        <span>Operaci√≥n</span>
                        <span>$140.000.000</span>
                    </div>
                    
                    <div class="report-row total">
                        <span>RESULTADO NETO</span>
                        <span class="value-positive">$80.000.000</span>
                    </div>
                </div>

                <div class="success-box">
                    <strong><i class="bi bi-info-circle me-2"></i>Interpretaci√≥n:</strong><br>
                    En este ejemplo, los ingresos ($500M) menos los gastos ($420M) dan un resultado 
                    neto positivo de $80M, lo que indica super√°vit presupuestal.
                </div>
            </div>

            <!-- SOLUCI√ìN DE PROBLEMAS -->
            <div class="manual-section">
                <h2><i class="bi bi-tools me-2"></i>Soluci√≥n de Problemas</h2>

                <div class="faq-item">
                    <div class="faq-question">
                        <i class="bi bi-exclamation-circle me-2"></i>
                        No aparece ning√∫n reporte en la lista
                    </div>
                    <div class="faq-answer">
                        Esto significa que no hay reportes activos creados en el sistema. 
                        Contacte al administrador para que cree los reportes necesarios desde 
                        "Dise√±o de Informes".
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <i class="bi bi-exclamation-circle me-2"></i>
                        Todos los valores aparecen en cero
                    </div>
                    <div class="faq-answer">
                        Verifique que:
                        <ul>
                            <li>Seleccion√≥ el a√±o acad√©mico correcto</li>
                            <li>Existen asignaciones presupuestales para ese a√±o</li>
                            <li>El reporte incluye √≠tems que tienen datos en ese per√≠odo</li>
                        </ul>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <i class="bi bi-exclamation-circle me-2"></i>
                        El PDF se ve cortado o incompleto
                    </div>
                    <div class="faq-answer">
                        Si el reporte es muy largo, el PDF se divide en varias p√°ginas autom√°ticamente. 
                        Revise todas las p√°ginas del documento generado. Tambi√©n puede usar la opci√≥n 
                        de <strong>"Vista resumida"</strong> para generar un PDF m√°s compacto.
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <i class="bi bi-exclamation-circle me-2"></i>
                        El archivo Excel no abre correctamente
                    </div>
                    <div class="faq-answer">
                        El sistema genera un archivo CSV (valores separados por comas). Para abrirlo 
                        correctamente en Excel:
                        <ol>
                            <li>Abra Excel</li>
                            <li>Use "Archivo ‚Üí Abrir" y seleccione el archivo CSV</li>
                            <li>Si aparece el asistente de importaci√≥n, seleccione "Delimitado por comas"</li>
                        </ol>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <i class="bi bi-exclamation-circle me-2"></i>
                        Los n√∫meros no coinciden con otros reportes
                    </div>
                    <div class="faq-answer">
                        Verifique:
                        <ul>
                            <li>Que est√° comparando el mismo a√±o acad√©mico</li>
                            <li>Que los reportes incluyen exactamente los mismos √≠tems</li>
                            <li>El comportamiento del signo de las secciones (suma vs. resta)</li>
                        </ul>
                        Si persisten diferencias, consulte con el administrador del m√≥dulo.
                    </div>
                </div>
            </div>

            <!-- PREGUNTAS FRECUENTES -->
            <div class="manual-section">
                <h2><i class="bi bi-chat-dots me-2"></i>Preguntas Frecuentes</h2>

                <div class="faq-item">
                    <div class="faq-question">¬øPuedo modificar los datos desde esta pantalla?</div>
                    <div class="faq-answer">
                        <strong>No.</strong> Esta es una pantalla de solo consulta. Los datos vienen 
                        de las asignaciones presupuestales y la estructura del reporte. Para modificar 
                        la estructura, use "Dise√±o de Informes". Para modificar valores, use el m√≥dulo 
                        de asignaciones presupuestales.
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">¬øCada cu√°nto se actualizan los datos?</div>
                    <div class="faq-answer">
                        Los datos se calculan <strong>en tiempo real</strong> cada vez que genera el reporte. 
                        Si alguien modifica una asignaci√≥n presupuestal y usted genera el reporte nuevamente, 
                        ver√° los valores actualizados.
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">¬øQu√© significa "Disponible" negativo?</div>
                    <div class="faq-answer">
                        Un valor disponible negativo (en rojo) indica <strong>sobreejecuci√≥n</strong>: 
                        se ha gastado m√°s de lo aprobado para ese concepto. Esto requiere atenci√≥n 
                        y posiblemente una modificaci√≥n presupuestal.
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">¬øPuedo comparar dos a√±os diferentes?</div>
                    <div class="faq-answer">
                        No directamente en esta pantalla. Puede generar el reporte para cada a√±o, 
                        exportar ambos a Excel y hacer la comparaci√≥n manualmente en una hoja de c√°lculo.
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">¬øQui√©n puede ver estos reportes?</div>
                    <div class="faq-answer">
                        Solo los usuarios con el permiso <strong>"Vista de informes"</strong> pueden 
                        acceder a esta funcionalidad. Si no puede acceder, consulte con el administrador 
                        del sistema.
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">¬øEl PDF incluye los datos colapsados?</div>
                    <div class="faq-answer">
                        El PDF captura lo que se ve en pantalla. Si tiene secciones colapsadas, 
                        aparecer√°n colapsadas en el PDF. Expanda todo antes de exportar si desea 
                        el detalle completo.
                    </div>
                </div>
            </div>

            <!-- BUENAS PR√ÅCTICAS -->
            <div class="manual-section">
                <h2><i class="bi bi-star me-2"></i>Buenas Pr√°cticas</h2>

                <div class="success-box">
                    <strong><i class="bi bi-check-circle me-2"></i>Recomendaciones:</strong>
                    <ul class="mb-0 mt-2">
                        <li>Revise peri√≥dicamente el % de ejecuci√≥n para detectar desviaciones a tiempo</li>
                        <li>Use la vista resumida para presentaciones ejecutivas</li>
                        <li>Use la vista completa para an√°lisis detallado</li>
                        <li>Exporte a Excel si necesita hacer c√°lculos adicionales</li>
                        <li>Compare con per√≠odos anteriores para identificar tendencias</li>
                    </ul>
                </div>

                <div class="warning-box">
                    <strong><i class="bi bi-exclamation-triangle me-2"></i>Tenga en cuenta:</strong>
                    <ul class="mb-0 mt-2">
                        <li>Los datos reflejan el estado actual de las asignaciones</li>
                        <li>Si hay asignaciones pendientes de aprobaci√≥n, no se incluyen en el reporte</li>
                        <li>Para reportes oficiales, verifique que todos los datos est√©n actualizados</li>
                    </ul>
                </div>
            </div>

            <!-- TARJETA PARA REPORTAR BUGS -->
            <div class="bug-report-card">
                <i class="bi bi-bug-fill icon-large"></i>
                <h4 class="mb-3">¬øEncontraste un problema o tienes una sugerencia?</h4>
                <p class="mb-4">
                    Si experimentaste un error, algo no funciona como esperas, o tienes 
                    una sugerencia para mejorar el sistema, rep√≥rtalo aqu√≠.
                </p>
                <a href="../report-bug.html" class="btn btn-light btn-lg">
                    <i class="bi bi-exclamation-triangle me-2"></i>Reportar Bug o Problema
                </a>
            </div>

        </div>

    </div>

    <!-- BOT√ìN FLOTANTE PARA REPORTAR BUGS -->
    <a href="../report-bug.html" class="btn btn-danger btn-lg floating-bug-button" title="Reportar Bug">
        <i class="bi bi-bug-fill me-2"></i>Reportar Bug
    </a>

    <!-- SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/js/config.js"></script>
    
    <script>
        // ==========================================
        // CONFIGURACI√ìN DE LA P√ÅGINA
        // ==========================================
        const PAGE_CONFIG = {
            moduleName: 'Presupuesto',
            modulePath: 'budget',
            pageTitle: 'Vista de Informes',
            pagePath: 'report-view.html',
            moduleDescription: 'Visualizaci√≥n y exportaci√≥n de reportes presupuestales'
        };

        // ==========================================
        // INICIALIZACI√ìN
        // ==========================================
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üìñ Iniciando p√°gina de manual...');
            
            try {
                // Verificar si existe la funci√≥n de colores corporativos
                if (typeof loadAndApplyBrandColors === 'function') {
                    await loadAndApplyBrandColors();
                }
                
                console.log('‚úÖ P√°gina de manual lista');
                
            } catch (error) {
                console.error('‚ùå Error inicializando p√°gina:', error);
            }
        });
    </script>
</body>
</html>
